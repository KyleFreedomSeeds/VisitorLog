/*! For license information please see main.6547c756.js.LICENSE.txt */
!function(){var e={426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return null==e._pf&&(e._pf=v()),e._pf}function m(e){if(null==e._isValid){var t=y(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(y(t),e):y(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],b=!1;function _(e,t){var n,r,i,a=k.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=y(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function x(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,T={};function I(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var O={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},j={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(j[e]=i),t&&(j[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(j[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)j[r[t]]?r[t]=j[r[t]]:r[t]=q(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=N(r[i])?r[i].call(t,e):r[i];return a}}function B(e,t){return e.isValid()?(t=W(t,e.localeData()),U[t]=U[t]||z(t),U[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function G(){return this._invalidDate}var Q="%d",$=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function he(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):fe(this,e)}}function fe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var ye,me=/\d/,ge=/\d\d/,ke=/\d{3}/,be=/\d{4}/,_e=/[+-]?\d{6}/,we=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Ce=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ie=/\d+/,Ne=/[+-]?\d+/,Pe=/Z|[+-]\d\d:?\d\d/gi,Re=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,Oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){ye[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return s(ye,e)?ye[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ye={};var Ue={};function je(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Ue[e[n]]=i}function Ve(e,t){je(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function qe(e,t,n){null!=t&&s(Ue,e)&&Ue[e](t,n._a,n,e)}var ze,Be=0,We=1,He=2,Ye=3,Ke=4,Ge=5,Qe=6,$e=7,Je=8;function Xe(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}ze=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),De("M",we),De("MM",we,ge),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),je(["M","MM"],(function(e,t){t[We]=le(e)-1})),je(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:y(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Oe,it=Oe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ze.call(this._shortMonthsParse,o))?i:null:-1!==(i=ze.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ze.call(this._shortMonthsParse,o))||-1!==(i=ze.call(this._longMonthsParse,o))?i:null:-1!==(i=ze.call(this._longMonthsParse,o))||-1!==(i=ze.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):fe(this,"Month")}function ht(){return Ze(this.year(),this.month())}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),De("Y",Ne),De("YY",we,ge),De("YYYY",Ce,be),De("YYYYY",Te,_e),De("YYYYYY",Te,_e),je(["YYYYY","YYYYYY"],Be),je("YYYY",(function(e,t){t[Be]=2===e.length?r.parseTwoDigitYear(e):le(e)})),je("YY",(function(e,t){t[Be]=r.parseTwoDigitYear(e)})),je("Y",(function(e,t){t[Be]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var yt=he("FullYear",!0);function mt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function wt(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return wt(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),De("w",we),De("ww",we,ge),De("W",we),De("WW",we,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function Ct(){return this._week.dow}function Tt(){return this._week.doy}function It(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Rt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),De("d",we),De("e",we),De("E",we),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:y(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Ot="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Oe,Ft=Oe,Ut=Oe;function jt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?At(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?At(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function qt(e){return!0===e?At(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ze.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ze.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._shortWeekdaysParse,o))||-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ze.call(this._shortWeekdaysParse,o))||-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ze.call(this._minWeekdaysParse,o))||-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._shortWeekdaysParse,o))?i:null}function Bt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return zt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Rt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Jt),V("k",["kk",2],0,Xt),V("hmm",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),De("a",en),De("A",en),De("H",we),De("h",we),De("k",we),De("HH",we,ge),De("hh",we,ge),De("kk",we,ge),De("hmm",xe),De("hmmss",Se),De("Hmm",xe),De("Hmmss",Se),je(["H","HH"],Ye),je(["k","kk"],(function(e,t,n){var r=le(e);t[Ye]=24===r?0:r})),je(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),je(["h","hh"],(function(e,t,n){t[Ye]=le(e),y(n).bigHour=!0})),je("hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),y(n).bigHour=!0})),je("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ge]=le(e.substr(i)),y(n).bigHour=!0})),je("Hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),je("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ge]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=he("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:O,longDateFormat:H,invalidDate:K,ordinal:Q,dayOfMonthOrdinalParse:$,relativeTime:X,months:et,monthsShort:tt,week:Et,weekdays:Ot,weekdaysMin:Mt,weekdaysShort:Dt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=hn(e[a]).split("-")).length,n=(n=hn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):yn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function yn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new A(R(r,t)),cn[e]&&cn[e].forEach((function(e){yn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(R(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=R(i,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return fn(e)}function kn(){return C(un)}function bn(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[We]<0||n[We]>11?We:n[He]<1||n[He]>Ze(n[Be],n[We])?He:n[Ye]<0||n[Ye]>24||24===n[Ye]&&(0!==n[Ke]||0!==n[Ge]||0!==n[Qe])?Ye:n[Ke]<0||n[Ke]>59?Ke:n[Ge]<0||n[Ge]>59?Ge:n[Qe]<0||n[Qe]>999?Qe:-1,y(e)._overflowDayOfYear&&(t<Be||t>He)&&(t=He),y(e)._overflowWeeks&&-1===t&&(t=$e),y(e)._overflowWeekday&&-1===t&&(t=Je),y(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cn=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,In={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,a,o,s=e._i,u=_n.exec(s)||wn.exec(s),c=Sn.length,l=En.length;if(u){for(y(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(u[3])){a=(u[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!xn.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),qn(e)}else e._isValid=!1}function Pn(e,t,n,r,i,a){var o=[Rn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Rn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function On(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return In[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=Tn.exec(An(e._i));if(n){if(t=Pn(n[4],n[3],n[2],n[5],n[6],n[7]),!On(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Cn.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function Un(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function jn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Un(e),e._w&&null==e._a[He]&&null==e._a[We]&&Vn(e),null!=e._dayOfYear&&(a=Fn(e._a[Be],r[Be]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ye]&&0===e._a[Ke]&&0===e._a[Ge]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Fn(t.GG,e._a[Be],wt(Qn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=wt(Qn(),a,o),n=Fn(t.gg,e._a[Be],c.year),r=Fn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>xt(n,a,o)?y(e)._overflowWeeks=!0:null!=u?y(e)._overflowWeekday=!0:(s=_t(n,r,i,a,o),e._a[Be]=s.year,e._dayOfYear=s.dayOfYear)}function qn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,a,o,s,u,c=""+e._i,l=c.length,h=0;for(u=(i=W(e._f,e._locale).match(L)||[]).length,t=0;t<u;t++)a=i[t],(n=(c.match(Me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&y(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),h+=n.length),j[a]?(n?y(e).empty=!1:y(e).unusedTokens.push(a),qe(a,n,e)):e._strict&&!n&&y(e).unusedTokens.push(a);y(e).charsLeftOver=l-h,c.length>0&&y(e).unusedInput.push(c),e._a[Ye]<=12&&!0===y(e).bigHour&&e._a[Ye]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[Ye]=zn(e._locale,e._a[Ye],e._meridiem),null!==(s=y(e).era)&&(e._a[Be]=e._locale.erasConvertYear(s,e._a[Be])),jn(e),bn(e)}else Mn(e);else Nn(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Bn(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],qn(t),m(t)&&(o=!0),a+=y(t).charsLeftOver,a+=10*y(t).unusedTokens.length,y(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),jn(e)}}function Hn(e){var t=new w(bn(Yn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Yn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new w(bn(t)):(h(t)?e._d=t:a(n)?Bn(e):n?qn(e):Kn(e),m(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),jn(e)):o(t)?Wn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Gn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Hn(s)}function Qn(e,t,n,r){return Gn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var $n=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Jn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===ze.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Ir(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function sr(e){return e instanceof or}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),De("Z",Re),De("ZZ",Re),je(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Re,e)}));var hr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||h(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Or(this,Ir(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function yr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Pe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Yn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Cr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Cr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[He])*n,h:le(o[Ye])*n,m:le(o[Ke])*n,s:le(o[Ge])*n,ms:le(ur(1e3*o[Qe]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Nr(o[2],n),M:Nr(o[3],n),w:Nr(o[4],n),d:Nr(o[5],n),h:Nr(o[6],n),m:Nr(o[7],n),s:Nr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Rr(Qn(a.from),Qn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Pr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Rr(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Pr(e,t):((n=Pr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Or(this,Ir(n,r),e),this}}function Or(e,t,n,i){var a=t._milliseconds,o=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,fe(e,"Month")+s*n),o&&de(e,"Date",fe(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ir.fn=or.prototype,Ir.invalid=ar;var Dr=Ar(1,"add"),Mr=Ar(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Fr(e){return x(e)||h(e)||Lr(e)||l(e)||jr(e)||Ur(e)||null===e||void 0===e}function Ur(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}function jr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function qr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zr(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Qn(n)))}function Br(){return new w(this)}function Wr(e,t){var n=x(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=x(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Yr(e,t,n,r){var i=x(e)?e:Qn(e),a=x(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Kr(e,t){var n,r=x(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $r(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Jr(this,r)/12;break;case"month":a=Jr(this,r);break;case"quarter":a=Jr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(x(e)&&e.isValid()||Qn(e).isValid())?Ir({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(x(e)&&e.isValid()||Qn(e).isValid())?Ir({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Qn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,hi=60*li,fi=3506328*hi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),hi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hi-di(t+(this._isUTC?0:this.utcOffset()*li),hi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return m(this)}function Ei(){return d({},y(this))}function Ci(){return y(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ii(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ni(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Pi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Di(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Mi(e){return s(this,"_erasNameRegex")||zi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return s(this,"_erasAbbrRegex")||zi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return s(this,"_erasNarrowRegex")||zi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ui(e,t){return t.erasAbbrRegex(e)}function ji(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function qi(e,t){return t._eraYearOrdinalRegex||Ie}function zi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Bi(e,t){V(0,[e,e.length],0,t)}function Wi(e){return $i.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return $i.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yi(){return xt(this.year(),1,4)}function Ki(){return xt(this.isoWeekYear(),1,4)}function Gi(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function $i(e,t,n,r,i){var a;return null==e?wt(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var a=_t(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),De("N",Ui),De("NN",Ui),De("NNN",Ui),De("NNNN",ji),De("NNNNN",Vi),je(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?y(n).era=i:y(n).invalidEra=e})),De("y",Ie),De("yy",Ie),De("yyy",Ie),De("yyyy",Ie),De("yo",qi),je(["y","yy","yyy","yyyy"],Be),je(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Be]=n._locale.eraYearOrdinalParse(e,i):t[Be]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),De("G",Ne),De("g",Ne),De("GG",we,ge),De("gg",we,ge),De("GGGG",Ce,be),De("gggg",Ce,be),De("GGGGG",Te,_e),De("ggggg",Te,_e),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),De("Q",me),je("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),De("D",we),De("DD",we,ge),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),je(["D","DD"],He),je("Do",(function(e,t){t[He]=le(e.match(we)[0])}));var Zi=he("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),De("DDD",Ee),De("DDDD",ke),je(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),De("m",we),De("mm",we,ge),je(["m","mm"],Ke);var ta=he("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),De("s",we),De("ss",we,ge),je(["s","ss"],Ge);var na,ra,ia=he("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),De("S",Ee,me),De("SS",Ee,ge),De("SSS",Ee,ke),na="SSSS";na.length<=9;na+="S")De(na,Ie);function aa(e,t){t[Qe]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")je(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=he("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=w.prototype;function ca(e){return Qn(1e3*e)}function la(){return Qn.apply(null,arguments).parseZone()}function ha(e){return e}ua.add=Dr,ua.calendar=zr,ua.clone=Br,ua.diff=$r,ua.endOf=mi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Ci,ua.isAfter=Wr,ua.isBefore=Hr,ua.isBetween=Yr,ua.isSame=Kr,ua.isSameOrAfter=Gr,ua.isSameOrBefore=Qr,ua.isValid=Si,ua.lang=si,ua.locale=oi,ua.localeData=ui,ua.max=Jn,ua.min=$n,ua.parsingFlags=Ei,ua.set=ve,ua.startOf=yi,ua.subtract=Mr,ua.toArray=_i,ua.toObject=wi,ua.toDate=bi,ua.toISOString=Zr,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=xi,ua.toString=Xr,ua.unix=ki,ua.valueOf=gi,ua.creationData=Ti,ua.eraName=Ri,ua.eraNarrow=Ai,ua.eraAbbr=Oi,ua.eraYear=Di,ua.year=yt,ua.isLeapYear=mt,ua.weekYear=Wi,ua.isoWeekYear=Hi,ua.quarter=ua.quarters=Xi,ua.month=lt,ua.daysInMonth=ht,ua.week=ua.weeks=It,ua.isoWeek=ua.isoWeeks=Nt,ua.weeksInYear=Gi,ua.weeksInWeekYear=Qi,ua.isoWeeksInYear=Yi,ua.isoWeeksInISOWeekYear=Ki,ua.date=Zi,ua.day=ua.days=Wt,ua.weekday=Ht,ua.isoWeekday=Yt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=mr,ua.local=gr,ua.parseZone=kr,ua.hasAlignedHourOffset=br,ua.isDST=_r,ua.isLocal=xr,ua.isUtcOffset=Sr,ua.isUtc=Er,ua.isUTC=Er,ua.zoneAbbr=oa,ua.zoneName=sa,ua.dates=E("dates accessor is deprecated. Use date instead.",Zi),ua.months=E("months accessor is deprecated. Use month instead",lt),ua.years=E("years accessor is deprecated. Use year instead",yt),ua.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yr),ua.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var fa=A.prototype;function da(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,s=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=da(t,(i+o)%7,r,"day");return s}function ya(e,t){return pa(e,t,"months")}function ma(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}fa.calendar=D,fa.longDateFormat=Y,fa.invalidDate=G,fa.ordinal=J,fa.preparse=ha,fa.postformat=ha,fa.relativeTime=Z,fa.pastFuture=ee,fa.set=P,fa.eras=Ii,fa.erasParse=Ni,fa.erasConvertYear=Pi,fa.erasAbbrRegex=Li,fa.erasNameRegex=Mi,fa.erasNarrowRegex=Fi,fa.months=at,fa.monthsShort=ot,fa.monthsParse=ut,fa.monthsRegex=dt,fa.monthsShortRegex=ft,fa.week=St,fa.firstDayOfYear=Tt,fa.firstDayOfWeek=Ct,fa.weekdays=jt,fa.weekdaysMin=qt,fa.weekdaysShort=Vt,fa.weekdaysParse=Bt,fa.weekdaysRegex=Kt,fa.weekdaysShortRegex=Gt,fa.weekdaysMinRegex=Qt,fa.isPM=tn,fa.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var _a=Math.abs;function wa(){var e=this._data;return this._milliseconds=_a(this._milliseconds),this._days=_a(this._days),this._months=_a(this._months),e.milliseconds=_a(e.milliseconds),e.seconds=_a(e.seconds),e.minutes=_a(e.minutes),e.hours=_a(e.hours),e.months=_a(e.months),e.years=_a(e.years),this}function xa(e,t,n,r){var i=Ir(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return xa(this,e,t,1)}function Ea(e,t){return xa(this,e,t,-1)}function Ca(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ca(Na(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ia(o)),o-=Ca(Na(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ia(e){return 4800*e/146097}function Na(e){return 146097*e/4800}function Pa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ia(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Na(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ra(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Aa(e){return function(){return this.as(e)}}var Oa=Aa("ms"),Da=Aa("s"),Ma=Aa("m"),La=Aa("h"),Fa=Aa("d"),Ua=Aa("w"),ja=Aa("M"),Va=Aa("Q"),qa=Aa("y");function za(){return Ir(this)}function Ba(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ha=Wa("milliseconds"),Ya=Wa("seconds"),Ka=Wa("minutes"),Ga=Wa("hours"),Qa=Wa("days"),$a=Wa("months"),Ja=Wa("years");function Xa(){return ce(this.days()/7)}var Za=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Ir(e).abs(),a=Za(i.as("s")),o=Za(i.as("m")),s=Za(i.as("h")),u=Za(i.as("d")),c=Za(i.as("M")),l=Za(i.as("w")),h=Za(i.as("y")),f=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,f[3]=+e>0,f[4]=r,to.apply(null,f)}function ro(e){return void 0===e?Za:"function"===typeof e&&(Za=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),h=this.asSeconds();return h?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",a=so(this._months)!==so(h)?"-":"",o=so(this._days)!==so(h)?"-":"",s=so(this._milliseconds)!==so(h)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=wa,co.add=Sa,co.subtract=Ea,co.as=Pa,co.asMilliseconds=Oa,co.asSeconds=Da,co.asMinutes=Ma,co.asHours=La,co.asDays=Fa,co.asWeeks=Ua,co.asMonths=ja,co.asQuarters=Va,co.asYears=qa,co.valueOf=Ra,co._bubble=Ta,co.clone=za,co.get=Ba,co.milliseconds=Ha,co.seconds=Ya,co.minutes=Ka,co.hours=Ga,co.days=Qa,co.weeks=Xa,co.months=$a,co.years=Ja,co.humanize=ao,co.toISOString=uo,co.toString=uo,co.toJSON=uo,co.locale=oi,co.localeData=ui,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),co.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),De("x",Ne),De("X",Ae),je("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),je("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Qn),r.fn=ua,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ya,r.isDate=h,r.locale=vn,r.invalid=g,r.duration=Ir,r.isMoment=x,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=sr,r.monthsShort=ma,r.weekdaysMin=ba,r.defineLocale=yn,r.updateLocale=mn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=qr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==xe||null!==Se)&&(Ne(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Le=!0,Fe=e}};function qe(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,xt,St,Et,Ct=!1,Tt=[],It=null,Nt=null,Pt=null,Rt=new Map,At=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Rt.forEach(jt),At.forEach(jt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return qt(t,e)}if(0<Tt.length){qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&qt(It,e),null!==Nt&&qt(Nt,e),null!==Pt&&qt(Pt,e),Rt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Bt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Yt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=gi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=F({},cn,{view:0,detail:0}),fn=an(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},hn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Cn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Rn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Yr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Kn=null;function Gn(e){Ur(e,0)}function Qn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Kn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,_e(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Yr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=Er("animationend"),Tr=Er("animationiteration"),Ir=Er("animationstart"),Nr=Er("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Yt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=_e(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Cr:case Tr:case Ir:u=mn;break;case Nr:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ae(p,f))&&l.push(Hr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=f;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Kr(l),f=Kr(f)}l=null}else l=null;null!==u&&Gr(o,s,u,l,!1),null!==c&&null!==h&&Gr(o,h,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Wn(s))if(Jn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(m=Yr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,yi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[di]||null}var wi=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Ci(e,t){xi++,wi[xi]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ni=Si(!1),Pi=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ni),Ei(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ii),Ci(Ii,e)):Ei(Ni),Ci(Ni,n)}var Ui=null,ji=!1,Vi=!1;function qi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var Bi=[],Wi=0,Hi=null,Yi=0,Ki=[],Gi=0,Qi=null,$i=1,Ji="";function Xi(e,t){Bi[Wi++]=Yi,Bi[Wi++]=Hi,Hi=e,Yi=t}function Zi(e,t,n){Ki[Gi++]=$i,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Qi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Bi[--Wi],Bi[Wi]=null,Yi=Bi[--Wi],Bi[Wi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,$i=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function _a(){ba=ka=ga=null}function wa(e){var t=ma.current;Ei(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=h}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ba(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ai(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ai(t)?Pi:Ii.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case w:return(t=jc(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var m=d(i,h,s[v],u);if(null===m){null===h&&(h=y);break}e&&h&&null===m.alternate&&t(i,h),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,h=y}if(v===s.length)return n(i,h),ia&&Xi(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return ia&&Xi(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(y=p(h,i,v,s[v],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,y),null===h?l=k:h.sibling=k,h=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,y),null===h?l=g:h.sibling=g,h=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===h?l=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ya(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Mc(o.type,o.key,o.props,null,r.mode,u)).ref=Ya(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return y(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Qa(!0),Ja=Qa(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ci(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(ko)}if(ho.current=os,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,vo.lanes|=h,Fu|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Ao(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function qo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Bo(e,t){return qo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Yo(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{kt=n,fo.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Uo,useDebugValue:Qo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Pu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Yo,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Yo,useMemo:Jo,useReducer:Po,useRef:Vo,useState:function(){return Po(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Yu=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Du,Ou),Ou|=r;return _s(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ai(n)?Pi:Ii.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Ai(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),Ba(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Ai(n)?Pi:Ii.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Pa=!1;var f=t.memoizedState;o.state=f,Fa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Pa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Pa||za(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ri(t,u=Ai(n)?Pi:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Wa(t,o,r,u),Pa=!1,f=t.memoizedState,o.state=f,Fa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Pa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Pa||za(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var As,Os,Ds,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return yc(),Vs(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=$i,Ki[Gi++]=Ji,Ki[Gi++]=Qi,$i=e.id,Ji=e.overflow,Qi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":Y(r),Z(r,o,!0);break;case"textarea":Y(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):yc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Os(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return wa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ys(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bu&&(t.flags|=128,r=!0,Ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Je()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(a(160));pu(o,s,i),hu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){Ec(e,e.return,y)}try{ru(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?ye(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(yu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(yu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:yu(t,e),gu(e);break;case 13:yu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Je())),4&r&&vu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||h,yu(t,e),Js=l):yu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Zs=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){Ec(e,e.return,y)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=$s;var c=Js;if($s=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,$s=s,Js=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):_u(e)}}function _u(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Cu=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Nu=0,Pu=null,Ru=null,Au=0,Ou=0,Du=Si(0),Mu=0,Lu=null,Fu=0,Uu=0,ju=0,Vu=null,qu=null,zu=0,Bu=1/0,Wu=null,Hu=!1,Yu=null,Ku=null,Gu=!1,Qu=null,$u=0,Ju=0,Xu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Au?Au&-Au:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(a(185));mt(e,n,r),0!==(2&Nu)&&e===Pu||(e===Pu&&(0===(2&Nu)&&(Uu|=n),4===Mu&&uc(e,Au)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Bu=Je()+500,ji&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Pu?Au:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){ji=!0,qi(e)}(cc.bind(null,e)):qi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ft(e,e===Pu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Pu===e&&Au===t||(Wu=null,Bu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}_a(),Cu.current=o,Nu=i,null!==Ru?t=0:(Pu=null,Au=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,qu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,qu,Wu),t);break}wc(e,qu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,qu,Wu),r);break}wc(e,qu,Wu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=qu,qu=n,null!==t&&sc(t)),e}function sc(e){null===qu?qu=e:qu.push.apply(qu,e)}function uc(e,t){for(t&=~ju,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));xc();var t=ft(e,0);if(0===(1&t))return ic(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,qu,Wu),ic(e,Je()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Bu=Je()+500,ji&&zi())}}function hc(e){null!==Qu&&0===Qu.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Iu.transition,r=kt;try{if(Iu.transition=null,kt=1,e)return e()}finally{kt=r,Iu.transition=n,0===(6&(Nu=t))&&zi()}}function fc(){Ou=Du.current,Ei(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ni),Ei(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Pu=e,Ru=e=Dc(e.current,null),Au=Ou=t,Mu=0,Lu=null,ju=Uu=Fu=0,qu=Vu=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pc(e,t){for(;;){var n=Ru;try{if(_a(),ho.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Mu=1,Lu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(o,l,t),yc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Mu&&(Mu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function vc(){var e=Cu.current;return Cu.current=os,null===e?os:e}function yc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Pu||0===(268435455&Fu)&&0===(268435455&Uu)||uc(Pu,Au)}function mc(e,t){var n=Nu;Nu|=2;var r=vc();for(Pu===e&&Au===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(_a(),Nu=n,Cu.current=r,null!==Ru)throw Error(a(261));return Pu=null,Au=0,Mu}function gc(){for(;null!==Ru;)bc(Ru)}function kc(){for(;null!==Ru&&!Qe();)bc(Ru)}function bc(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?_c(e):Ru=t,Tu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ou)))return void(Ru=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Mu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Mu&&(Mu=5)}function wc(e,t,n){var r=kt,i=Iu.transition;try{Iu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Ru=Pu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Pc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),$e(),Nu=u,kt=s,Iu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Yu,Yu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,zi()}(e,t,n,r)}finally{Iu.transition=i,kt=r}return null}function xc(){if(null!==Qu){var e=bt($u),t=Iu.transition,n=kt;try{if(Iu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(ou(h),h===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Ec(u,u.return,w)}if(u===s){Zs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Zs=_;break e}Zs=u.return}}if(Nu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Iu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Au&n)===n&&(4===Mu||3===Mu&&(130023424&Au)===Au&&500>Je()-zu?dc(e,0):ju|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(mt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case R:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,s,u){return(e=qc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ci(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xs(e,t,r,i=ya(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Ws(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Sa(t,n),Ba(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=qc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&Nu)&&(Bu=Je()+500,zi()))}break;case 13:hc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ne=hc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,_i,Ce,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=qc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},590:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r=n(578),i=n(846),a=n(985),o=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){e()}))},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(i.l))},708:function(e,t,n){"use strict";n.d(t,{QueryClient:function(){return r.S},hashQueryKey:function(){return i.yF}});var r=n(161),i=n(985),a=n(44);n.o(a,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return a.QueryClientProvider}}),n.o(a,"useMutation")&&n.d(t,{useMutation:function(){return a.useMutation}}),n.o(a,"useQuery")&&n.d(t,{useQuery:function(){return a.useQuery}}),n.o(a,"useQueryClient")&&n.d(t,{useQueryClient:function(){return a.useQueryClient}})},209:function(e,t,n){"use strict";n.d(t,{E:function(){return a},j:function(){return i}});var r=console;function i(){return r}function a(e){r=e}},909:function(e,t,n){"use strict";n.d(t,{R:function(){return c},m:function(){return u}});var r=n(462),i=n(209),a=n(363),o=n(350),s=n(985),u=function(){function e(e){this.options=(0,r.Z)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||c(),this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(s.ZT).catch(s.ZT)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then((function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)})).then((function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)})).then((function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})}))),r.then((function(){return t.executeMutation()})).then((function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)})).then((function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)})).then((function(){return t.dispatch({type:"success",data:e}),e})).catch((function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,i.j)().error(e),Promise.resolve().then((function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)})).then((function(){throw t.dispatch({type:"error",error:e}),e}))}))},t.executeMutation=function(){var e,t=this;return this.retryer=new o.m4({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.Z)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"loading":return(0,r.Z)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.Z)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.Z)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.Z)({},e,t.state);default:return e}}(this.state,e),a.V.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify(t)}))},e}();function c(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}},363:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(985),i=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.A4)((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.schedule((function(){e.apply(void 0,r)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.A4)((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}(),a=new i},503:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(578),i=n(846),a=n(985),o=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){e()}))},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(i.l))},161:function(e,t,n){"use strict";n.d(t,{S:function(){return g}});var r=n(462),i=n(985),a=n(578),o=n(363),s=n(209),u=n(350),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,r.Z)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,i.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,r,a=this.state.data,o=(0,i.SE)(e,a);return(null==(n=(r=this.options).isDataEqual)?void 0:n.call(r,a,o))?o=a:!1!==this.options.structuralSharing&&(o=(0,i.Q$)(a,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),o},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(i.ZT).catch(i.ZT):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some((function(e){return!1!==e.options.enabled}))},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.Kp)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,r,a,o=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var l=this.observers.find((function(e){return e.options.queryFn}));l&&this.setOptions(l.options)}var h=(0,i.mc)(this.queryKey),f=(0,i.G9)(),d={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(d,"signal",{enumerable:!0,get:function(){if(f)return o.abortSignalConsumed=!0,f.signal}});var p,v,y={fetchOptions:t,options:this.options,queryKey:h,state:this.state,fetchFn:function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(d)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(p=this.options.behavior)||p.onFetch(y));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=y.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(v=y.fetchOptions)?void 0:v.meta});return this.retryer=new u.m4({fn:y.fetchFn,abort:null==f||null==(a=f.abort)?void 0:a.bind(f),onSuccess:function(e){o.setData(e),null==o.cache.config.onSuccess||o.cache.config.onSuccess(e,o),0===o.cacheTime&&o.optionalRemove()},onError:function(e){(0,u.DV)(e)&&e.silent||o.dispatch({type:"error",error:e}),(0,u.DV)(e)||(null==o.cache.config.onError||o.cache.config.onError(e,o),(0,s.j)().error(e)),0===o.cacheTime&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),o.V.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"queryUpdated",action:e})}))},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var n,i;switch(t.type){case"failed":return(0,r.Z)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"fetch":return(0,r.Z)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,r.Z)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(i=t.dataUpdatedAt)?i:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=t.error;return(0,u.DV)(a)&&a.revert&&this.revertState?(0,r.Z)({},this.revertState):(0,r.Z)({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,r.Z)({},e,{isInvalidated:!0});case"setState":return(0,r.Z)({},e,t.state);default:return e}},e}(),l=n(846),h=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,a.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,a=t.queryKey,o=null!=(r=t.queryHash)?r:(0,i.Rm)(a,t),s=this.get(o);return s||(s=new c({cache:this,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(s)),s},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,i.I6)(e,t)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find((function(e){return(0,i._x)(n,e)}))},n.findAll=function(e,t){var n=(0,i.I6)(e,t)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return(0,i._x)(n,e)})):this.queries},n.notify=function(e){var t=this;o.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))},n.onOnline=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))},t}(l.l),f=n(909),d=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,a.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new f.m({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),e.cancel(),this.notify(e)},n.clear=function(){var e=this;o.V.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))},n.getAll=function(){return this.mutations},n.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((function(t){return(0,i.X7)(e,t)}))},n.findAll=function(e){return this.mutations.filter((function(t){return(0,i.X7)(e,t)}))},n.notify=function(e){var t=this;o.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter((function(e){return e.state.isPaused}));return o.V.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(i.ZT)}))}),Promise.resolve())}))},t}(l.l),p=n(590),v=n(503);function y(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function m(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var g=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new h,this.mutationCache=e.mutationCache||new d,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=p.j.subscribe((function(){p.j.isFocused()&&v.N.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())})),this.unsubscribeOnline=v.N.subscribe((function(){p.j.isFocused()&&v.N.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())}))},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,i.I6)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.Z)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))},t.setQueryData=function(e,t,n){var r=(0,i._v)(e),a=this.defaultQueryOptions(r);return this.queryCache.build(this,a).setData(t,n)},t.setQueriesData=function(e,t,n){var r=this;return o.V.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,i.I6)(e,t)[0],r=this.queryCache;o.V.batch((function(){r.findAll(n).forEach((function(e){r.remove(e)}))}))},t.resetQueries=function(e,t,n){var a=this,s=(0,i.I6)(e,t,n),u=s[0],c=s[1],l=this.queryCache,h=(0,r.Z)({},u,{active:!0});return o.V.batch((function(){return l.findAll(u).forEach((function(e){e.reset()})),a.refetchQueries(h,c)}))},t.cancelQueries=function(e,t,n){var r=this,a=(0,i.I6)(e,t,n),s=a[0],u=a[1],c=void 0===u?{}:u;"undefined"===typeof c.revert&&(c.revert=!0);var l=o.V.batch((function(){return r.queryCache.findAll(s).map((function(e){return e.cancel(c)}))}));return Promise.all(l).then(i.ZT).catch(i.ZT)},t.invalidateQueries=function(e,t,n){var a,s,u,c=this,l=(0,i.I6)(e,t,n),h=l[0],f=l[1],d=(0,r.Z)({},h,{active:null==(a=null!=(s=h.refetchActive)?s:h.active)||a,inactive:null!=(u=h.refetchInactive)&&u});return o.V.batch((function(){return c.queryCache.findAll(h).forEach((function(e){e.invalidate()})),c.refetchQueries(d,f)}))},t.refetchQueries=function(e,t,n){var a=this,s=(0,i.I6)(e,t,n),u=s[0],c=s[1],l=o.V.batch((function(){return a.queryCache.findAll(u).map((function(e){return e.fetch(void 0,(0,r.Z)({},c,{meta:{refetchPage:null==u?void 0:u.refetchPage}}))}))})),h=Promise.all(l).then(i.ZT);return(null==c?void 0:c.throwOnError)||(h=h.catch(i.ZT)),h},t.fetchQuery=function(e,t,n){var r=(0,i._v)(e,t,n),a=this.defaultQueryOptions(r);"undefined"===typeof a.retry&&(a.retry=!1);var o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.fetchInfiniteQuery=function(e,t,n){var r=(0,i._v)(e,t,n);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,r,a,o,s,c,l=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,h=null==(r=e.fetchOptions)||null==(a=r.meta)?void 0:a.fetchMore,f=null==h?void 0:h.pageParam,d="forward"===(null==h?void 0:h.direction),p="backward"===(null==h?void 0:h.direction),v=(null==(o=e.state.data)?void 0:o.pages)||[],g=(null==(s=e.state.data)?void 0:s.pageParams)||[],k=(0,i.G9)(),b=null==k?void 0:k.signal,_=g,w=!1,x=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,n,r){return _=r?[t].concat(_):[].concat(_,[t]),r?[n].concat(e):[].concat(e,[n])},E=function(t,n,r,i){if(w)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,signal:b,pageParam:r,meta:e.meta},o=x(a),s=Promise.resolve(o).then((function(e){return S(t,r,e,i)}));return(0,u.LE)(o)&&(s.cancel=o.cancel),s};if(v.length)if(d){var C="undefined"!==typeof f,T=C?f:y(e.options,v);c=E(v,C,T)}else if(p){var I="undefined"!==typeof f,N=I?f:m(e.options,v);c=E(v,I,N,!0)}else!function(){_=[];var t="undefined"===typeof e.options.getNextPageParam,n=!l||!v[0]||l(v[0],0,v);c=n?E([],t,g[0]):Promise.resolve(S([],g[0],v[0]));for(var r=function(n){c=c.then((function(r){if(!l||!v[n]||l(v[n],n,v)){var i=t?g[n]:y(e.options,r);return E(r,t,i)}return Promise.resolve(S(r,g[n],v[n]))}))},i=1;i<v.length;i++)r(i)}();else c=E([]);var P=c.then((function(e){return{pages:e,pageParams:_}}));return P.cancel=function(){w=!0,null==k||k.abort(),(0,u.LE)(c)&&c.cancel()},P}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.cancelMutations=function(){var e=this,t=o.V.batch((function(){return e.mutationCache.getAll().map((function(e){return e.cancel()}))}));return Promise.all(t).then(i.ZT).catch(i.ZT)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find((function(t){return(0,i.to)(e,t.queryKey)})))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find((function(t){return(0,i.to)(e,t.mutationKey)})))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.Z)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,i.Rm)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.Z)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},350:function(e,t,n){"use strict";n.d(t,{DV:function(){return c},LE:function(){return s},m4:function(){return l}});var r=n(590),i=n(503),a=n(985);function o(e){return Math.min(1e3*Math.pow(2,e),3e4)}function s(e){return"function"===typeof(null==e?void 0:e.cancel)}var u=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof u}var l=function(e){var t,n,c,l,h=this,f=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){f=!0},this.continueRetry=function(){f=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(e,t){c=e,l=t}));var d=function(t){h.isResolved||(h.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),c(t))},p=function(t){h.isResolved||(h.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),l(t))};!function c(){if(!h.isResolved){var l;try{l=e.fn()}catch(v){l=Promise.reject(v)}t=function(e){if(!h.isResolved&&(p(new u(e)),null==h.abort||h.abort(),s(l)))try{l.cancel()}catch(t){}},h.isTransportCancelable=s(l),Promise.resolve(l).then(d).catch((function(t){var s,u;if(!h.isResolved){var l=null!=(s=e.retry)?s:3,d=null!=(u=e.retryDelay)?u:o,v="function"===typeof d?d(h.failureCount,t):d,y=!0===l||"number"===typeof l&&h.failureCount<l||"function"===typeof l&&l(h.failureCount,t);!f&&y?(h.failureCount++,null==e.onFail||e.onFail(h.failureCount,t),(0,a.Gh)(v).then((function(){if(!r.j.isFocused()||!i.N.isOnline())return new Promise((function(t){n=t,h.isPaused=!0,null==e.onPause||e.onPause()})).then((function(){n=void 0,h.isPaused=!1,null==e.onContinue||e.onContinue()}))})).then((function(){f?p(t):c()}))):p(t)}}))}}()}},846:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(e){return e!==n})),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},44:function(){},985:function(e,t,n){"use strict";n.d(t,{A4:function(){return E},G9:function(){return C},Gh:function(){return S},I6:function(){return f},Kp:function(){return c},PN:function(){return s},Q$:function(){return k},Rm:function(){return v},SE:function(){return o},VS:function(){return b},X7:function(){return p},ZT:function(){return a},_v:function(){return l},_x:function(){return d},lV:function(){return h},mc:function(){return u},sk:function(){return i},to:function(){return m},yF:function(){return y}});var r=n(462),i="undefined"===typeof window;function a(){}function o(e,t){return"function"===typeof e?e(t):e}function s(e){return"number"===typeof e&&e>=0&&e!==1/0}function u(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t,n){return x(e)?"function"===typeof t?(0,r.Z)({},n,{queryKey:e,queryFn:t}):(0,r.Z)({},t,{queryKey:e}):e}function h(e,t,n){return x(e)?"function"===typeof t?(0,r.Z)({},n,{mutationKey:e,mutationFn:t}):(0,r.Z)({},t,{mutationKey:e}):"function"===typeof e?(0,r.Z)({},t,{mutationFn:e}):(0,r.Z)({},e)}function f(e,t,n){return x(e)?[(0,r.Z)({},t,{queryKey:e}),n]:[e||{},t]}function d(e,t){var n=e.active,r=e.exact,i=e.fetching,a=e.inactive,o=e.predicate,s=e.queryKey,u=e.stale;if(x(s))if(r){if(t.queryHash!==v(s,t.options))return!1}else if(!m(t.queryKey,s))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,a);if("none"===c)return!1;if("all"!==c){var l=t.isActive();if("active"===c&&!l)return!1;if("inactive"===c&&l)return!1}return("boolean"!==typeof u||t.isStale()===u)&&(("boolean"!==typeof i||t.isFetching()===i)&&!(o&&!o(t)))}function p(e,t){var n=e.exact,r=e.fetching,i=e.predicate,a=e.mutationKey;if(x(a)){if(!t.options.mutationKey)return!1;if(n){if(y(t.options.mutationKey)!==y(a))return!1}else if(!m(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function v(e,t){return((null==t?void 0:t.queryKeyHashFn)||y)(e)}function y(e){var t,n=u(e);return t=n,JSON.stringify(t,(function(e,t){return _(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function m(e,t){return g(u(e),u(t))}function g(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((function(n){return!g(e[n],t[n])})))}function k(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||_(e)&&_(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},s=0,u=0;u<a;u++){var c=n?u:i[u];o[c]=k(e[c],t[c]),o[c]===e[c]&&s++}return r===a&&s===r?e:o}return t}function b(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function _(e){if(!w(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!w(n)&&!!n.hasOwnProperty("isPrototypeOf")}function w(e){return"[object Object]"===Object.prototype.toString.call(e)}function x(e){return"string"===typeof e||Array.isArray(e)}function S(e){return new Promise((function(t){setTimeout(t,e)}))}function E(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function C(){if("function"===typeof AbortController)return new AbortController}},933:function(e,t,n){"use strict";n.d(t,{QueryClient:function(){return r.QueryClient},QueryClientProvider:function(){return i.QueryClientProvider},hashQueryKey:function(){return r.hashQueryKey},useMutation:function(){return i.useMutation},useQuery:function(){return i.useQuery},useQueryClient:function(){return i.useQueryClient}});var r=n(708);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}}),n.o(r,"useMutation")&&n.d(t,{useMutation:function(){return r.useMutation}}),n.o(r,"useQuery")&&n.d(t,{useQuery:function(){return r.useQuery}}),n.o(r,"useQueryClient")&&n.d(t,{useQueryClient:function(){return r.useQueryClient}});var i=n(704)},704:function(e,t,n){"use strict";n.d(t,{QueryClientProvider:function(){return f},useMutation:function(){return b},useQuery:function(){return R},useQueryClient:function(){return h}});var r=n(363),i=n(164).unstable_batchedUpdates;r.V.setBatchNotifyFunction(i);var a=n(209),o=console;(0,a.E)(o);var s=n(791),u=s.createContext(void 0),c=s.createContext(!1);function l(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=u),window.ReactQueryClientContext):u}var h=function(){var e=s.useContext(l(s.useContext(c)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},f=function(e){var t=e.client,n=e.contextSharing,r=void 0!==n&&n,i=e.children;s.useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var a=l(r);return s.createElement(c.Provider,{value:r},s.createElement(a.Provider,{value:t},i))},d=n(462),p=n(985),v=n(578),y=n(909),m=n(846),g=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.setOptions(n),r.bindMethods(),r.updateResult(),r}(0,v.Z)(t,e);var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},n.onUnsubscribe=function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))},n.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,d.Z)({},this.options,{variables:"undefined"!==typeof e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:(0,y.R)(),t=(0,d.Z)({},e,{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t},n.notify=function(e){var t=this;r.V.batch((function(){t.mutateOptions&&(e.onSuccess?(null==t.mutateOptions.onSuccess||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(null==t.mutateOptions.onError||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)}))}))},t}(m.l);function k(e,t,n){return"function"===typeof t?t.apply(void 0,n):"boolean"===typeof t?t:!!e}function b(e,t,n){var i=s.useRef(!1),a=s.useState(0)[1],o=(0,p.lV)(e,t,n),u=h(),c=s.useRef();c.current?c.current.setOptions(o):c.current=new g(u,o);var l=c.current.getCurrentResult();s.useEffect((function(){i.current=!0;var e=c.current.subscribe(r.V.batchCalls((function(){i.current&&a((function(e){return e+1}))})));return function(){i.current=!1,e()}}),[]);var f=s.useCallback((function(e,t){c.current.mutate(e,t).catch(p.ZT)}),[]);if(l.error&&k(void 0,c.current.options.useErrorBoundary,[l.error]))throw l.error;return(0,d.Z)({},l,{mutate:f,mutateAsync:l.mutate})}var _=n(590),w=n(350),x=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(n),r}(0,v.Z)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),S(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return E(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return E(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&C(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var a=this.computeRefetchInterval();!i||this.currentQuery===r&&this.options.enabled===n.enabled&&a===this.currentRefetchInterval||this.updateRefetchInterval(a)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,r={},i=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:function(){return i(t),e[t]}})})),(t.useErrorBoundary||t.suspense)&&i("error"),r},n.getNextResult=function(e){var t=this;return new Promise((function(n,r){var i=t.subscribe((function(t){t.isFetching||(i(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))}))}))},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,d.Z)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then((function(){return t.createResult(r,n)}))},n.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(p.ZT)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!p.sk&&!this.currentResult.isStale&&(0,p.PN)(this.options.staleTime)){var t=(0,p.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},n.computeRefetchInterval=function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!p.sk&&!1!==this.options.enabled&&(0,p.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||_.j.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(e,t){var n,r=this.currentQuery,i=this.options,o=this.currentResult,s=this.currentResultState,u=this.currentResultOptions,c=e!==r,l=c?e.state:this.currentQueryInitialState,h=c?this.currentResult:this.previousQueryResult,f=e.state,d=f.dataUpdatedAt,v=f.error,y=f.errorUpdatedAt,m=f.isFetching,g=f.status,k=!1,b=!1;if(t.optimisticResults){var _=this.hasListeners(),w=!_&&S(e,t),x=_&&C(e,r,t,i);(w||x)&&(m=!0,d||(g="loading"))}if(t.keepPreviousData&&!f.dataUpdateCount&&(null==h?void 0:h.isSuccess)&&"error"!==g)n=h.data,d=h.dataUpdatedAt,g=h.status,k=!0;else if(t.select&&"undefined"!==typeof f.data)if(o&&f.data===(null==s?void 0:s.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(f.data),!1!==t.structuralSharing&&(n=(0,p.Q$)(null==o?void 0:o.data,n)),this.selectResult=n,this.selectError=null}catch(I){(0,a.j)().error(I),this.selectError=I}else n=f.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&("loading"===g||"idle"===g)){var E;if((null==o?void 0:o.isPlaceholderData)&&t.placeholderData===(null==u?void 0:u.placeholderData))E=o.data;else if(E="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof E)try{E=t.select(E),!1!==t.structuralSharing&&(E=(0,p.Q$)(null==o?void 0:o.data,E)),this.selectError=null}catch(I){(0,a.j)().error(I),this.selectError=I}"undefined"!==typeof E&&(g="success",n=E,b=!0)}return this.selectError&&(v=this.selectError,n=this.selectResult,y=Date.now(),g="error"),{status:g,isLoading:"loading"===g,isSuccess:"success"===g,isError:"error"===g,isIdle:"idle"===g,data:n,dataUpdatedAt:d,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:m,isRefetching:m&&"loading"!==g,isLoadingError:"error"===g&&0===f.dataUpdatedAt,isPlaceholderData:b,isPreviousData:k,isRefetchError:"error"===g&&0!==f.dataUpdatedAt,isStale:T(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,r=n.notifyOnChangeProps,i=n.notifyOnChangePropsExclusions;if(!r&&!i)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var a="tracked"===r?this.trackedProps:r;return Object.keys(e).some((function(n){var r=n,o=e[r]!==t[r],s=null==a?void 0:a.some((function(e){return e===n})),u=null==i?void 0:i.some((function(e){return e===n}));return o&&!u&&(!a||s)}))},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,p.VS)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,d.Z)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,w.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;r.V.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(m.l);function S(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&E(e,t,t.refetchOnMount)}function E(e,t,n){if(!1!==t.enabled){var r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&T(e,t)}return!1}function C(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&T(e,n)}function T(e,t){return e.isStaleByTime(t.staleTime)}function I(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var N=s.createContext(I()),P=function(){return s.useContext(N)};function R(e,t,n){return function(e,t){var n=s.useRef(!1),i=s.useState(0)[1],a=h(),o=P(),u=a.defaultQueryObserverOptions(e);u.optimisticResults=!0,u.onError&&(u.onError=r.V.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=r.V.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=r.V.batchCalls(u.onSettled)),u.suspense&&("number"!==typeof u.staleTime&&(u.staleTime=1e3),0===u.cacheTime&&(u.cacheTime=1)),(u.suspense||u.useErrorBoundary)&&(o.isReset()||(u.retryOnMount=!1));var c=s.useState((function(){return new t(a,u)}))[0],l=c.getOptimisticResult(u);if(s.useEffect((function(){n.current=!0,o.clearReset();var e=c.subscribe(r.V.batchCalls((function(){n.current&&i((function(e){return e+1}))})));return c.updateResult(),function(){n.current=!1,e()}}),[o,c]),s.useEffect((function(){c.setOptions(u,{listeners:!1})}),[u,c]),u.suspense&&l.isLoading)throw c.fetchOptimistic(u).then((function(e){var t=e.data;null==u.onSuccess||u.onSuccess(t),null==u.onSettled||u.onSettled(t,null)})).catch((function(e){o.clearReset(),null==u.onError||u.onError(e),null==u.onSettled||u.onSettled(void 0,e)}));if(l.isError&&!o.isReset()&&!l.isFetching&&k(u.suspense,u.useErrorBoundary,[l.error,c.getCurrentQuery()]))throw l.error;return"tracked"===u.notifyOnChangeProps&&(l=c.trackResult(l,u)),l}((0,p._v)(e,t,n),x)}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,O(w);else{var t=r(l);null!==t&&D(_,t.startTime-e)}}function w(e,n){v=!1,y&&(y=!1,g(C),C=-1),p=!0;var a=d;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&D(_,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function P(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=P,x=function(){A.postMessage(null)}}else x=function(){m(P,0)};function O(e){E=e,S||(S=!0,x())}function D(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(C),C=-1):y=!0,D(_,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f8326ffd.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="visitor-log:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkvisitor_log=self.webpackChunkvisitor_log||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Rt},SDK_VERSION:function(){return Qn},_DEFAULT_ENTRY_NAME:function(){return Ln},_addComponent:function(){return Vn},_addOrOverwriteComponent:function(){return qn},_apps:function(){return Un},_clearComponents:function(){return Hn},_components:function(){return jn},_getProvider:function(){return Bn},_registerComponent:function(){return zn},_removeServiceInstance:function(){return Wn},deleteApp:function(){return Zn},getApp:function(){return Jn},getApps:function(){return Xn},initializeApp:function(){return $n},onLog:function(){return nr},registerVersion:function(){return tr},setLogLevel:function(){return rr}});var t=n(791),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||o(e,t)||s()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||c(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var y,m=n(611);function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,m.Z)(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(hL){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function x(e,t,n){return x=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,m.Z)(i,n.prototype),i},x.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,m.Z)(n,e)},S(e)}function E(e){return i(e)||c(e)||o(e)||s()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(y||(y={}));var I,N="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(hL){}}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=y.Pop,h=null,f=d();function d(){return(c.state||{idx:null}).idx}function p(){l=y.Pop;var e=d(),t=null==e?null:e-f;f=e,h&&h({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:D(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(T({},c.state,{idx:f}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(N,p),h=e,function(){o.removeEventListener(N,p),h=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=y.Push;var r=O(m.location,e,t);n&&n(r,e);var i=A(r,f=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(iT){o.location.assign(a)}u&&h&&h({action:l,location:m.location,delta:1})},replace:function(e,t){l=y.Replace;var r=O(m.location,e,t);n&&n(r,e);var i=A(r,f=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&h&&h({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],$(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=te([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:K(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=E(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=j(i.join("/")),u=[];return u.push.apply(u,l(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,l(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,q=3,z=2,B=1,W=10,H=-2,Y=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=H),t&&(r+=z),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(V.test(t)?q:""===t?B:W)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Q({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:te([i,l.pathname]),pathnameBase:ne(te([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=te([i,l.pathnameBase]))}return a}function Q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),h=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(iT){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+iT+")."),e}}(l[n]||"",t),e}),{});return{params:h,pathname:s,pathnameBase:c,pattern:e}}function $(e){try{return decodeURI(e)}catch(iT){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+iT+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(P(!(i=T({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:re(a),hash:ie(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(S(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ue=(new Set(se),["get"].concat(se));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var le=t.createContext(null);var he=t.createContext(null);var fe=t.createContext(null);var de=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=t.createContext(null);function me(){return null!=t.useContext(pe)}function ge(){return me()||P(!1),t.useContext(pe).location}function ke(e){t.useContext(de).static||t.useLayoutEffect(e)}function be(){return t.useContext(ve).isDataRoute?function(){var e=Pe(Se.UseNavigateStable).router,n=Ae(Ee.UseNavigateStable),r=t.useRef(!1);ke((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,ce({fromRouteId:n},i)))}),[e,n]);return i}():function(){me()||P(!1);var e=t.useContext(le),n=t.useContext(de),r=n.basename,i=n.navigator,a=t.useContext(ve).matches,o=ge().pathname,s=JSON.stringify(Z(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);ke((function(){u.current=!0}));var c=t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=ee(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:te([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e]);return c}()}function _e(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ve).matches,a=ge().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function we(e,n,r){me()||P(!1);var i,a=t.useContext(de).navigator,o=t.useContext(ve).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,ge());if(n){var h,f="string"===typeof n?M(n):n;"/"===c||(null==(h=f.pathname)?void 0:h.startsWith(c))||P(!1),i=f}else i=l;var d=i.pathname||"/",p=F(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=Ne(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:te([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:te([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(pe.Provider,{value:{location:ce({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:y.Pop}},v):v}function xe(){var e=function(){var e,n=t.useContext(ye),r=Re(Ee.UseRouteError),i=Ae(Ee.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Se,Ee,Ce=t.createElement(xe,null),Te=function(e){g(r,e);var n=w(r);function r(e){var t;return h(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return v(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ve.Provider,{value:this.props.routeContext},t.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ie(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(le);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ve.Provider,{value:n},i)}function Ne(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||P(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ce);var l=n.concat(o.slice(0,a+1)),h=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ie,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Te,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()}),null)}function Pe(e){var n=t.useContext(le);return n||P(!1),n}function Re(e){var n=t.useContext(he);return n||P(!1),n}function Ae(e){var n=function(e){var n=t.useContext(ve);return n||P(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||P(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Se||(Se={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ee||(Ee={}));var Oe;function De(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;me()||P(!1);var o=t.useContext(ve).matches,s=ge().pathname,u=be(),c=ee(n,Z(o).map((function(e){return e.pathnameBase})),s,"path"===a),l=JSON.stringify(c);return t.useEffect((function(){return u(JSON.parse(l),{replace:r,state:i,relative:a})}),[u,l,a,r,i]),null}function Me(e){P(!1)}function Le(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?y.Pop:s,c=e.navigator,l=e.static,h=void 0!==l&&l;me()&&P(!1);var f=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof o&&(o=M(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,k=void 0===g?"":g,b=p.hash,_=void 0===b?"":b,w=p.state,x=void 0===w?null:w,S=p.key,E=void 0===S?"default":S,C=t.useMemo((function(){var e=J(m,f);return null==e?null:{location:{pathname:e,search:k,hash:_,state:x,key:E},navigationType:u}}),[f,m,k,_,x,E,u]);return null==C?null:t.createElement(de.Provider,{value:d},t.createElement(pe.Provider,{children:a,value:C}))}function Fe(e){var t=e.children,n=e.location;return we(je(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Oe||(Oe={}));var Ue=new Promise((function(){}));t.Component;function je(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(l(n),[i]);if(e.type!==t.Fragment){e.type!==Me&&P(!1),e.props.index&&e.props.children&&P(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,a)),r.push(o)}else r.push.apply(r,je(e.props.children,a))}})),r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ze=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Be(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),L((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:D(t)}),null,n)));var s=o.current,c=u(t.useState({action:s.action,location:s.location}),2),l=c[0],h=c[1];return t.useLayoutEffect((function(){return s.listen(h)}),[s]),t.createElement(Le,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var We="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,He=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,h=e.preventScrollReset,f=qe(e,ze),d=t.useContext(de).basename,p=!1;if("string"===typeof l&&He.test(l)&&(r=l,We))try{var v=new URL(window.location.href),y=l.startsWith("//")?new URL(v.protocol+l):new URL(l),m=J(y.pathname,d);y.origin===v.origin&&null!=m?l=m+y.search+y.hash:p=!0}catch(hL){}var g=function(e,n){var r=(void 0===n?{}:n).relative;me()||P(!1);var i=t.useContext(de),a=i.basename,o=i.navigator,s=_e(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==a&&(h="/"===c?a:te([a,c])),o.createHref({pathname:h,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=be(),l=ge(),h=_e(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:D(l)===D(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,h,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:h,relative:a});return t.createElement("a",Ve({},f,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Ke,Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ke||(Ke={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ge||(Ge={}));function Qe(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=n(184),Ze=t.createContext();function et(e){var t=e.children,n=e.value;return(0,Xe.jsx)(Ze.Provider,{value:n,children:t})}function tt(){return(0,t.useContext)(Ze)}function nt(){return nt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nt.apply(this,arguments)}function rt(){rt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var y={};u(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(y=g);var k=v.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==f(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function it(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(iT){return void n(iT)}s.done?t(u):Promise.resolve(u).then(r,i)}function at(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){it(a,r,i,o,s,"next",e)}function s(e){it(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ot=!1,st=!1,ut="${JSCORE_VERSION}",ct=function(e,t){if(!e)throw lt(t)},lt=function(e){return new Error("Firebase Database ("+ut+") INTERNAL ASSERT FAILED: "+e)},ht=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ht(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new dt;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},dt=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return v(n)}(S(Error)),pt=function(e){var t=ht(e);return ft.encodeByteArray(t,!0)},vt=function(e){return pt(e).replace(/\./g,"")},yt=function(e){try{return ft.decodeString(e,!0)}catch(hL){console.error("base64Decode failed: ",hL)}return null};function mt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=mt(e[n],t[n]));return e}var gt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},kt=function(){try{return gt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyByxdtQH0B6gv6JeRPukjhsaeTuvQJZcJ4",REACT_APP_APP_ID:"1:557864423616:web:b83c7a34f15fc91a74dd25",REACT_APP_AUTH_DOMAIN:"visitor-log-d8b6c.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-8RRJWNTKMX",REACT_APP_MESSAGING_SENDER_ID:"557864423616",REACT_APP_PROJECT_ID:"visitor-log-d8b6c",REACT_APP_STORAGE_BUCKET:"visitor-log-d8b6c.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(hL){return}var t=e&&yt(e[1]);return t&&JSON.parse(t)}}()}catch(hL){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(hL))}},bt=function(e){var t=function(e){var t,n;return null===(n=null===(t=kt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},_t=function(){var e;return null===(e=kt())||void 0===e?void 0:e.config},wt=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function St(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Et(){var e,t=null===(e=kt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(hL){return!1}}function Ct(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Tt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function It(){var e=xt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Nt(){return!0===ot||!0===st}function Pt(){try{return"object"===typeof indexedDB}catch(hL){return!1}}var Rt=function(e){g(n,e);var t=w(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),At.prototype.create),a}return v(n)}(S(Error)),At=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ot,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Rt(n,a,t)}}]),e}();var Ot=/\{\$([^}]+)}/g;function Dt(e){return JSON.parse(e)}function Mt(e){return JSON.stringify(e)}var Lt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Dt(yt(a[0])||""),n=Dt(yt(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(hL){}return{header:t,claims:n,data:r,signature:i}};function Ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function jt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vt(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function qt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(zt(s)&&zt(u)){if(!qt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function zt(e){return null!==e&&"object"===typeof e}function Bt(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Wt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ht(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Yt=function(){function e(){h(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return v(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Kt(e,t){var n=new Gt(e,t);return n.subscribe.bind(n)}var Gt=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Qt),void 0===r.error&&(r.error=Qt),void 0===r.complete&&(r.complete=Qt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(hL){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(hL){"undefined"!==typeof console&&console.error&&console.error(hL)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Qt(){}function $t(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Jt=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Xt(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Zt(e){return e&&e._delegate?e._delegate:e}var en=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),tn="[DEFAULT]",nn=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new wt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(hL){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(hL){if(r)return null;throw hL}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(hL){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(hL){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===tn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.component?this.component.multipleInstances?e:tn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var rn,an,on=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new nn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),sn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(an||(an={}));var un={debug:an.DEBUG,verbose:an.VERBOSE,info:an.INFO,warn:an.WARN,error:an.ERROR,silent:an.SILENT},cn=an.INFO,ln=(Qe(rn={},an.DEBUG,"log"),Qe(rn,an.VERBOSE,"log"),Qe(rn,an.INFO,"info"),Qe(rn,an.WARN,"warn"),Qe(rn,an.ERROR,"error"),rn),hn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ln[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fn=function(){function e(t){h(this,e),this.name=t,this._logLevel=cn,this._logHandler=hn,this._userLogHandler=null,sn.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in an))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?un[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.DEBUG].concat(t)),this._logHandler.apply(this,[this,an.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.VERBOSE].concat(t)),this._logHandler.apply(this,[this,an.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.INFO].concat(t)),this._logHandler.apply(this,[this,an.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.WARN].concat(t)),this._logHandler.apply(this,[this,an.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.ERROR].concat(t)),this._logHandler.apply(this,[this,an.ERROR].concat(t))}}]),e}();var dn,pn,vn=function(e,t){return t.some((function(t){return e instanceof t}))};var yn=new WeakMap,mn=new WeakMap,gn=new WeakMap,kn=new WeakMap,bn=new WeakMap;var _n={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(En(this),n),Sn(yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sn(e.apply(En(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[En(this),t].concat(r));return gn.set(a,t.sort?t.sort():[t]),Sn(a)}}function xn(e){return"function"===typeof e?wn(e):(e instanceof IDBTransaction&&function(e){if(!mn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));mn.set(e,t)}}(e),vn(e,dn||(dn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_n):e)}function Sn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Sn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&yn.set(t,e)})).catch((function(){})),bn.set(t,e),t}(e);if(kn.has(e))return kn.get(e);var t=xn(e);return t!==e&&(kn.set(e,t),bn.set(t,e)),t}var En=function(e){return bn.get(e)};var Cn,Tn,In=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],Pn=new Map;function Rn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Pn.get(t))return Pn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Nn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||In.includes(n))){var a=function(){var e=at(rt().mark((function e(t){var a,o,s,u,c,l,h=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Pn.set(t,a),a}}}_n=function(e){return Je(Je({},e),{},{get:function(t,n,r){return Rn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Rn(t,n)||e.has(t,n)}})}(_n);var An=function(){function e(t){h(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var On="@firebase/app",Dn="0.9.10",Mn=new fn("@firebase/app"),Ln="[DEFAULT]",Fn=(Qe(Cn={},On,"fire-core"),Qe(Cn,"@firebase/app-compat","fire-core-compat"),Qe(Cn,"@firebase/analytics","fire-analytics"),Qe(Cn,"@firebase/analytics-compat","fire-analytics-compat"),Qe(Cn,"@firebase/app-check","fire-app-check"),Qe(Cn,"@firebase/app-check-compat","fire-app-check-compat"),Qe(Cn,"@firebase/auth","fire-auth"),Qe(Cn,"@firebase/auth-compat","fire-auth-compat"),Qe(Cn,"@firebase/database","fire-rtdb"),Qe(Cn,"@firebase/database-compat","fire-rtdb-compat"),Qe(Cn,"@firebase/functions","fire-fn"),Qe(Cn,"@firebase/functions-compat","fire-fn-compat"),Qe(Cn,"@firebase/installations","fire-iid"),Qe(Cn,"@firebase/installations-compat","fire-iid-compat"),Qe(Cn,"@firebase/messaging","fire-fcm"),Qe(Cn,"@firebase/messaging-compat","fire-fcm-compat"),Qe(Cn,"@firebase/performance","fire-perf"),Qe(Cn,"@firebase/performance-compat","fire-perf-compat"),Qe(Cn,"@firebase/remote-config","fire-rc"),Qe(Cn,"@firebase/remote-config-compat","fire-rc-compat"),Qe(Cn,"@firebase/storage","fire-gcs"),Qe(Cn,"@firebase/storage-compat","fire-gcs-compat"),Qe(Cn,"@firebase/firestore","fire-fst"),Qe(Cn,"@firebase/firestore-compat","fire-fst-compat"),Qe(Cn,"fire-js","fire-js"),Qe(Cn,"firebase","fire-js-all"),Cn),Un=new Map,jn=new Map;function Vn(e,t){try{e.container.addComponent(t)}catch(hL){Mn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),hL)}}function qn(e,t){e.container.addOrOverwriteComponent(t)}function zn(e){var t=e.name;if(jn.has(t))return Mn.debug("There were multiple attempts to register component ".concat(t,".")),!1;jn.set(t,e);var n,r=C(Un.values());try{for(r.s();!(n=r.n()).done;){Vn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Bn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ln;Bn(e,t).clearInstance(n)}function Hn(){jn.clear()}var Yn=(Qe(Tn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Qe(Tn,"bad-app-name","Illegal App name: '{$appName}"),Qe(Tn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Qe(Tn,"app-deleted","Firebase App named '{$appName}' already deleted"),Qe(Tn,"no-options","Need to provide options, when not being deployed to hosting via source."),Qe(Tn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Qe(Tn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Qe(Tn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Qe(Tn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Qe(Tn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Qe(Tn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Tn),Kn=new At("app","Firebase",Yn),Gn=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}]),e}(),Qn="9.22.0";function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=_t()),!n)throw Kn.create("no-options");var a=Un.get(i);if(a){if(qt(n,a.options)&&qt(r,a.config))return a;throw Kn.create("duplicate-app",{appName:i})}var o,s=new on(i),u=C(jn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new Gn(n,r,s);return Un.set(i,l),l}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=Un.get(e);if(!t&&e===Ln&&_t())return $n();if(!t)throw Kn.create("no-app",{appName:e});return t}function Xn(){return Array.from(Un.values())}function Zn(e){return er.apply(this,arguments)}function er(){return er=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Un.has(n)){e.next=6;break}return Un.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function tr(e,t,n){var r,i=null!==(r=Fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mn.warn(s.join(" "))}zn(new en("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function nr(e,t){if(null!==e&&"function"!==typeof e)throw Kn.create("invalid-log-argument");!function(e,t){var n,r=C(sn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=un[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:an[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function rr(e){var t;t=e,sn.forEach((function(e){e.setLogLevel(t)}))}var ir="firebase-heartbeat-database",ar=1,or="firebase-heartbeat-store",sr=null;function ur(){return sr||(sr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Sn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Sn(s.result),e.oldVersion,e.newVersion,Sn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(ir,ar,{upgrade:function(e,t){if(0===t)e.createObjectStore(or)}}).catch((function(e){throw Kn.create("idb-open",{originalErrorMessage:e.message})}))),sr}function cr(e){return lr.apply(this,arguments)}function lr(){return lr=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur();case 3:return n=e.sent,e.next=6,n.transaction(or).objectStore(or).get(dr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Rt?Mn.warn(e.t0.message):(i=Kn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),lr.apply(this,arguments)}function hr(e,t){return fr.apply(this,arguments)}function fr(){return fr=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur();case 3:return r=e.sent,i=r.transaction(or,"readwrite"),a=i.objectStore(or),e.next=8,a.put(n,dr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Rt?Mn.warn(e.t0.message):(o=Kn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),fr.apply(this,arguments)}function dr(e){return"".concat(e.name,"!").concat(e.options.appId)}var pr=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new gr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=at(rt().mark((function e(){var t,n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vr(),n=yr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=vt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vr(){return(new Date).toISOString().substring(0,10)}function yr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),kr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),kr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var mr,gr=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(iT){t(iT)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,cr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",hr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",hr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function kr(e){return vt(JSON.stringify({version:2,heartbeats:e})).length}mr="",zn(new en("platform-logger",(function(e){return new An(e)}),"PRIVATE")),zn(new en("heartbeat",(function(e){return new pr(e)}),"PRIVATE")),tr(On,Dn,mr),tr(On,Dn,"esm2017"),tr("fire-js","");var br=function(e,t){return br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},br(e,t)};function _r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}br(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function wr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function xr(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(hL){a(hL)}}function s(e){try{u(r.throw(e))}catch(hL){a(hL)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Sr(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(hL){s=[6,hL],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function Er(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(iT){i={error:iT}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function Tr(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Ir(e){return this instanceof Ir?(this.v=e,this):new Ir(e)}function Nr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Ir?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(hL){l(a[0][3],hL)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Pr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Er(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;var Rr,Ar={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Or="EMAIL_SIGNIN",Dr="PASSWORD_RESET",Mr="RECOVER_EMAIL",Lr="REVERT_SECOND_FACTOR_ADDITION",Fr="VERIFY_AND_CHANGE_EMAIL",Ur="VERIFY_EMAIL";function jr(){return Qe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Vr=function(){var e;return Qe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Qe(e,"argument-error",""),Qe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Qe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Qe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Qe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Qe(e,"cordova-not-ready","Cordova framework is not ready."),Qe(e,"cors-unsupported","This browser is not supported."),Qe(e,"credential-already-in-use","This credential is already associated with a different user account."),Qe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Qe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Qe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Qe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Qe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Qe(e,"email-already-in-use","The email address is already in use by another account."),Qe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Qe(e,"expired-action-code","The action code has expired."),Qe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Qe(e,"internal-error","An internal AuthError has occurred."),Qe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Qe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Qe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Qe(e,"invalid-auth-event","An internal AuthError has occurred."),Qe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Qe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Qe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Qe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Qe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Qe(e,"invalid-email","The email address is badly formatted."),Qe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Qe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Qe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Qe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Qe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Qe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Qe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Qe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Qe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Qe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Qe(e,"wrong-password","The password is invalid or the user does not have a password."),Qe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Qe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Qe(e,"invalid-provider-id","The specified provider ID is invalid."),Qe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Qe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Qe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Qe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Qe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Qe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Qe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Qe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Qe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Qe(e,"missing-continue-uri","A continue URL must be provided in the request."),Qe(e,"missing-iframe-start","An internal AuthError has occurred."),Qe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Qe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Qe(e,"missing-password","A non-empty password must be provided"),Qe(e,"missing-multi-factor-info","No second factor identifier is provided."),Qe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Qe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Qe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Qe(e,"app-deleted","This instance of FirebaseApp has been deleted."),Qe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Qe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Qe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Qe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Qe(e,"no-auth-event","An internal AuthError has occurred."),Qe(e,"no-such-provider","User was not linked to an account with the given provider."),Qe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Qe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Qe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Qe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Qe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Qe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Qe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Qe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Qe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Qe(e,"rejected-credential","The request contains malformed or mismatching credentials."),Qe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Qe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Qe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Qe(e,"timeout","The operation has timed out."),Qe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Qe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Qe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Qe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Qe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Qe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Qe(e,"unverified-email","The operation requires a verified email."),Qe(e,"user-cancelled","The user did not grant your application the permissions it requested."),Qe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Qe(e,"user-disabled","The user account has been disabled by an administrator."),Qe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Qe(e,"user-signed-out",""),Qe(e,"weak-password","The password must be 6 characters long or more."),Qe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Qe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Qe(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Qe(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Qe(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Qe(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Qe(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Qe(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Qe(e,"invalid-req-type","Invalid request parameters."),Qe(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},qr=jr,zr=new At("auth","Firebase",jr()),Br=new fn("@firebase/auth");function Wr(e){if(Br.logLevel<=an.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Br.warn.apply(Br,["Auth (".concat(Qn,"): ").concat(e)].concat(n))}}function Hr(e){if(Br.logLevel<=an.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Br.error.apply(Br,["Auth (".concat(Qn,"): ").concat(e)].concat(n))}}function Yr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $r.apply(void 0,[e].concat(n))}function Kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $r.apply(void 0,[e].concat(n))}function Gr(e,t,n){var r=Object.assign(Object.assign({},qr()),Qe({},t,n));return new At("auth","Firebase",r).create(t,{appName:e.name})}function Qr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Yr(e,"argument-error"),Gr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=l(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(l(o)))}return zr.create.apply(zr,[e].concat(n))}function Jr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $r.apply(void 0,[t].concat(r))}}function Xr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Hr(t),new Error(t)}function Zr(e,t){e||Xr(t)}function ei(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ti(){return"http:"===ni()||"https:"===ni()}function ni(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ri=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,Zr(n>t,"Short delay should be less than long delay!"),this.isMobile=St()||Tt()}return v(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ti()||Ct()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ii(e,t){Zr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ai=function(){function e(){h(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),oi=(Qe(Rr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Qe(Rr,"MISSING_CUSTOM_TOKEN","internal-error"),Qe(Rr,"INVALID_IDENTIFIER","invalid-email"),Qe(Rr,"MISSING_CONTINUE_URI","internal-error"),Qe(Rr,"INVALID_PASSWORD","wrong-password"),Qe(Rr,"MISSING_PASSWORD","missing-password"),Qe(Rr,"EMAIL_EXISTS","email-already-in-use"),Qe(Rr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Qe(Rr,"INVALID_IDP_RESPONSE","invalid-credential"),Qe(Rr,"INVALID_PENDING_TOKEN","invalid-credential"),Qe(Rr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Qe(Rr,"MISSING_REQ_TYPE","internal-error"),Qe(Rr,"EMAIL_NOT_FOUND","user-not-found"),Qe(Rr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Qe(Rr,"EXPIRED_OOB_CODE","expired-action-code"),Qe(Rr,"INVALID_OOB_CODE","invalid-action-code"),Qe(Rr,"MISSING_OOB_CODE","internal-error"),Qe(Rr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Qe(Rr,"INVALID_ID_TOKEN","invalid-user-token"),Qe(Rr,"TOKEN_EXPIRED","user-token-expired"),Qe(Rr,"USER_NOT_FOUND","user-token-expired"),Qe(Rr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Qe(Rr,"INVALID_CODE","invalid-verification-code"),Qe(Rr,"INVALID_SESSION_INFO","invalid-verification-id"),Qe(Rr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Qe(Rr,"MISSING_SESSION_INFO","missing-verification-id"),Qe(Rr,"SESSION_EXPIRED","code-expired"),Qe(Rr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Qe(Rr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Qe(Rr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Qe(Rr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Qe(Rr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Qe(Rr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Qe(Rr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Qe(Rr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Qe(Rr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Qe(Rr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Qe(Rr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Qe(Rr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Qe(Rr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Qe(Rr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Qe(Rr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Qe(Rr,"MISSING_CLIENT_TYPE","missing-client-type"),Qe(Rr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Qe(Rr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Qe(Rr,"INVALID_REQ_TYPE","invalid-req-type"),Rr),si=new ri(3e4,6e4);function ui(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ci(e,t,n,r){return li.apply(this,arguments)}function li(){return li=at(rt().mark((function e(t,n,r,i){var a,o=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",hi(t,a,at(rt().mark((function e(){var a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Bt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ai.fetch()(vi(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function hi(e,t,n){return fi.apply(this,arguments)}function fi(){return fi=at(rt().mark((function e(t,n,r){var i,a,o,s,c,l,h,f,d,p;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},oi),n),e.prev=2,a=new yi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw mi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),h=u(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw mi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw mi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw mi(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Gr(t,p,d);case 34:Yr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Rt)){e.next=41;break}throw e.t0;case 41:Yr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),fi.apply(this,arguments)}function di(e,t,n,r){return pi.apply(this,arguments)}function pi(){return pi=at(rt().mark((function e(t,n,r,i){var a,o,s=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ci(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Yr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ii(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var yi=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Kr(n.auth,"network-request-failed"))}),si.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function mi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Kr(e,t,r);return i.customData._tokenResponse=n,i}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}function bi(e,t){return _i.apply(this,arguments)}function _i(){return _i=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function wi(e,t){return xi.apply(this,arguments)}function xi(){return xi=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}function Si(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(hL){}}function Ei(){return Ei=at(rt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Zt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Jr((a=Ti(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Si(Ci(a.auth_time)),issuedAtTime:Si(Ci(a.iat)),expirationTime:Si(Ci(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ci(e){return 1e3*Number(e)}function Ti(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Hr("JWT malformed, contained fewer than 3 sections"),null;try{var a=yt(r);return a?JSON.parse(a):(Hr("Failed to decode base64 JWT payload"),null)}catch(hL){return Hr("Caught error parsing JWT payload as JSON",null===hL||void 0===hL?void 0:hL.toString()),null}}function Ii(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=at(rt().mark((function e(t,n){var r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Rt&&Pi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ni.apply(this,arguments)}function Pi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ri=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ai=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Si(this.lastLoginAt),this.creationTime=Si(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Oi(e){return Di.apply(this,arguments)}function Di(){return Di=at(rt().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ii(t,wi(r,{idToken:i}));case 6:Jr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=wr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Li(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ai(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Mi(){return(Mi=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zt(t),e.next=3,Oi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(l(n),l(t))}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(t,{},at(rt().mark((function e(){var r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=vi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ai.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}var ji=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Jr(e.idToken,"internal-error"),Jr("undefined"!==typeof e.idToken,"internal-error"),Jr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ti(e);return Jr(t,"internal-error"),Jr("undefined"!==typeof t.exp,"internal-error"),Jr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=at(rt().mark((function e(t){var n,r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Jr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Xr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Jr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Jr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Jr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Vi(e,t){Jr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var qi=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=wr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?l(a.providerData):[],this.metadata=new Ai(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Jr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ei.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Mi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Jr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Jr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=at(rt().mark((function e(t){var n,r,i=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Oi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ii(this,gi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,_=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Jr(k&&x,t,"internal-error");var S=ji.fromJSON(this.name,x);Jr("string"===typeof k,t,"internal-error"),Vi(h,t.name),Vi(f,t.name),Jr("boolean"===typeof b,t,"internal-error"),Jr("boolean"===typeof _,t,"internal-error"),Vi(d,t.name),Vi(p,t.name),Vi(v,t.name),Vi(y,t.name),Vi(m,t.name),Vi(g,t.name);var E=new e({uid:k,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return w&&Array.isArray(w)&&(E.providerData=w.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=at(rt().mark((function t(n,r){var i,a,o,s=arguments;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ji).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Oi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),zi=new Map;function Bi(e){Zr(e instanceof Function,"Expected a class definition");var t=zi.get(e);return t?(Zr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zi.set(e,t),t)}var Wi=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Wi.type="NONE";var Hi=Wi;function Yi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ki=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Yi(this.userKey,a.apiKey,o),this.fullPersistenceKey=Yi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?qi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=at(rt().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Bi(Hi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Bi(Hi),s=Yi(i,n.config.apiKey,n.name),u=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=qi._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ea(t))return"Blackberry";if(ta(t))return"Webos";if($i(t))return"Safari";if((t.includes("chrome/")||Ji(t))&&!t.includes("edge/"))return"Chrome";if(Zi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/firefox\//i.test(e)}function $i(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/crios\//i.test(e)}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/iemobile/i.test(e)}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/android/i.test(e)}function ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/blackberry/i.test(e)}function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/webos/i.test(e)}function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return na(e)||Zi(e)||ta(e)||ea(e)||/windows phone/i.test(e)||Xi(e)}function ia(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gi(xt());break;case"Worker":t="".concat(Gi(xt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qn,"/").concat(r)}function aa(e){return oa.apply(this,arguments)}function oa(){return oa=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function sa(e,t){return ua.apply(this,arguments)}function ua(){return ua=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"GET","/v2/recaptchaConfig",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(e){return void 0!==e&&void 0!==e.getResponse}function la(e){return void 0!==e&&void 0!==e.enterprise}var ha=v((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function fa(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Kr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function da(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var pa=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=ka(t)}return v(e,[{key:"verify",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;la(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=at(rt().mark((function e(n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sa(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ha(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&la(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));fa("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function va(e,t,n){return ya.apply(this,arguments)}function ya(){return ya=at(rt().mark((function e(t,n,r){var i,a,o,s,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new pa(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),ya.apply(this,arguments)}var ma=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(hL){r(hL)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(EM){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ga=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ba(this),this.idTokenSubscription=new ba(this),this.beforeStateQueue=new ma(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(at(rt().mark((function r(){var i,a;return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ki.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Jr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Zt(t):null)&&Jr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=at(rt().mark((function e(t){var n,r=this,i=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Jr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(at(rt().mark((function n(){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Bi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new ha(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new pa(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new At("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Jr(n=t&&Bi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ki.create(this,[Bi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=at(rt().mark((function e(t){var n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Jr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Jr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ia(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=at(rt().mark((function e(){var t,n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Wr("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ka(e){return Zt(e)}var ba=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=Kt((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return Jr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function _a(e,t,n){var r=ka(e);Jr(r._canInitEmulator,r,"emulator-config-failed"),Jr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=wa(t),o=function(e){var t=wa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xa(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:xa(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Sa=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return Xr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Xr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Xr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Xr("not implemented")}}]),e}();function Ea(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:resetPassword",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Ta(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Na(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:update",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Ra(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signInWithPassword",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Oa(e,t){return Da.apply(this,arguments)}function Da(){return Da=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:sendOobCode",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function Ma(e,t){return La.apply(this,arguments)}function La(){return La=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,n));case 1:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,n));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function ja(e,t){return Va.apply(this,arguments)}function Va(){return Va=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,n));case 1:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function qa(e,t){return za.apply(this,arguments)}function za(){return za=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,n));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ba(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ha(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}var Ka=function(e){g(n,e);var t=w(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return v(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,va(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Ra(t,i));case 11:return e.abrupt("return",Ra(t,r).catch(function(){var e=at(rt().mark((function e(n){var i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,va(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Ra(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Ba(t,{email:this._email,oobCode:this._password}));case 13:Yr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ta(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ha(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Yr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Sa);function Ga(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signInWithIdp",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}var $a=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ga(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ga(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ga(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=wr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Sa);function Ja(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:sendVerificationCode",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Za(){return Za=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signInWithPhoneNumber",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(){return eo=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(t,"POST","/v1/accounts:signInWithPhoneNumber",ui(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw mi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}var to=Qe({},"USER_NOT_FOUND","user-not-found");function no(){return no=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",di(t,"POST","/v1/accounts:signInWithPhoneNumber",ui(t,r),to));case 2:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}var ro=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Za.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return eo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return no.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Sa);var io=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=Wt(Ht(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Jr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Wt(Ht(e)).link,n=t?Wt(Ht(t)).deep_link_id:null,r=Wt(Ht(e)).deep_link_id;return(r?Wt(Ht(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var ao=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return Ka._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=io.parseLink(t);return Jr(n,"argument-error"),Ka._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ao.PROVIDER_ID="password",ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var oo=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),so=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return l(this.scopes)}}]),n}(oo),uo=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Jr(e.idToken||e.accessToken,"argument-error"),$a._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Jr("providerId"in t&&"signInMethod"in t,"argument-error"),$a._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(hL){return null}}}]),n}(so),co=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return $a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(so);co.FACEBOOK_SIGN_IN_METHOD="facebook.com",co.PROVIDER_ID="facebook.com";var lo=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return $a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(so);lo.GOOGLE_SIGN_IN_METHOD="google.com",lo.PROVIDER_ID="google.com";var ho=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return $a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(so);ho.GITHUB_SIGN_IN_METHOD="github.com",ho.PROVIDER_ID="github.com";var fo=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Ga(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ga(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ga(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Sa),po=function(e){g(n,e);var t=w(n);function n(e){return h(this,n),Jr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return v(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=fo.fromJSON(e);return Jr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return fo._create(r,n)}catch(hL){return null}}}]),n}(oo),vo=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return $a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(so);function yo(e,t){return mo.apply(this,arguments)}function mo(){return mo=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signUp",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}vo.TWITTER_SIGN_IN_METHOD="twitter.com",vo.PROVIDER_ID="twitter.com";var go=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=at(rt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,qi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ko(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=at(rt().mark((function t(n,r,i){var a;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ko(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ko(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function bo(){return bo=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new go({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,go._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}var _o=function(e){g(n,e);var t=w(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Rt);function wo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw _o._fromErrorAndOperation(e,n,t,r);throw n}))}function xo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,Io(!0,r,n);case 3:return e.t0=bi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=xo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function Co(e,t){return To.apply(this,arguments)}function To(){return To=at(rt().mark((function e(t,n){var r,i,a=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ii,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",go._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Io(e,t,n){return No.apply(this,arguments)}function No(){return(No=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi(n);case 2:i=xo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Jr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ii(t,wo(i,a,n,t),r);case 6:return Jr((o=e.sent).idToken,i,"internal-error"),Jr(s=Ti(o.idToken),i,"internal-error"),u=s.sub,Jr(t.uid===u,i,"user-mismatch"),e.abrupt("return",go._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Yr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ro.apply(this,arguments)}function Ao(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=at(rt().mark((function e(t,n){var r,i,a,o,s=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,wo(t,i,n);case 4:return a=e.sent,e.next=7,go._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Do(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(ka(t),n));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Lo(e,t){return Fo.apply(this,arguments)}function Fo(){return(Fo=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,Io(!1,r,n.providerId);case 3:return e.abrupt("return",Co(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t){return jo.apply(this,arguments)}function jo(){return(jo=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(Zt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return qo.apply(this,arguments)}function qo(){return qo=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signInWithCustomToken",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function zo(){return zo=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka(t),e.next=3,Vo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,go._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}var Bo=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return v(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Wo._fromServerResponse(e,t):"totpInfo"in t?Ho._fromServerResponse(e,t):Yr(e,"internal-error")}}]),e}(),Wo=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bo),Ho=function(e){g(n,e);var t=w(n);function n(e){return h(this,n),t.call(this,"totp",e)}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bo);function Yo(e,t,n){var r;Jr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Jr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Jr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Jr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ko(e,t,n){return Go.apply(this,arguments)}function Go(){return Go=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ka(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,va(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Yo(a,s,r),e.next=9,Fa(a,s);case 9:e.next=14;break;case 11:return r&&Yo(a,o,r),e.next=14,Fa(a,o).catch(function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,va(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Yo(a,n,r),e.next=8,Fa(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Qo(){return Qo=at(rt().mark((function e(t,n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(Zt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function $o(){return $o=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(Zt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Jo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,Ea(r,{oobCode:n});case 3:i=e.sent,Jr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Jr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Jr(i.mfaInfo,r,"internal-error");case 13:Jr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Bo._fromServerResponse(ka(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Zo(){return Zo=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(Zt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function es(e,t,n){return ts.apply(this,arguments)}function ts(){return ts=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c,l;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ka(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,va(a,o,"signUpPassword");case 5:u=e.sent,s=yo(a,u),e.next=10;break;case 9:s=yo(a,o).catch(function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,va(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",yo(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,go._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t,n){return Do(Zt(e),ao.credential(t,n))}function rs(){return rs=at(rt().mark((function e(t,n,r){var i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Jr(t.handleCodeInApp,a,"argument-error"),t&&Yo(a,e,t)},a=ka(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,va(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,ja(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,ja(a,o).catch(function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,va(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,ja(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(){return is=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),Jr((a=ao.credentialWithLink(n,r||ei()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Do(i,a));case 4:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:createAuthUri",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function ss(){return ss=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ti()?ei():"http://localhost",i={identifier:n,continueUri:r},e.next=4,as(Zt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function us(e,t){return cs.apply(this,arguments)}function cs(){return(cs=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Yo(r.auth,a,n),e.next=8,Ma(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(){return(ls=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Yo(i.auth,o,r),e.next=8,qa(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t){return fs.apply(this,arguments)}function fs(){return fs=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function ds(){return(ds=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Zt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ii(a,hs(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t,n){return vs.apply(this,arguments)}function vs(){return vs=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ii(t,Ta(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}var ys=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ms=function(e){g(n,e);var t=w(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return v(n)}(ys),gs=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return v(n)}(ys),ks=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return v(n)}(ms),bs=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return v(n)}(ys),_s=function(e){g(n,e);var t=w(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return v(n)}(ms);function ws(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ti(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ys(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new gs(a,i);case"github.com":return new ks(a,i);case"google.com":return new bs(a,i);case"twitter.com":return new _s(a,i,e.screenName||null);case"custom":case"anonymous":return new ys(a,null);default:return new ys(a,r,i)}}(n)}var xs=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return v(e,[{key:"toJSON",value:function(){return{multiFactorSession:Qe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ss=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return v(e,[{key:"resolveSignIn",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ka(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Bo._fromServerResponse(r,e)}));Jr(i.mfaPendingCredential,r,"internal-error");var o=xs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=at(rt().mark((function e(t){var a,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,go._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Jr(n.user,r,"internal-error"),e.abrupt("return",go._forOperation(n.user,n.operationType,s));case 17:Yr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Es(e,t){return ci(e,"POST","/v2/accounts/mfaEnrollment:start",ui(e,t))}function Cs(e,t){return ci(e,"POST","/v2/accounts/mfaEnrollment:start",ui(e,t))}function Ts(e,t){return ci(e,"POST","/v2/accounts/mfaEnrollment:finalize",ui(e,t))}function Is(e,t){return ci(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ui(e,t))}var Ns=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Bo._fromServerResponse(t.auth,e)})))}))}return v(e,[{key:"getSession",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ii(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Ii(this.user,Is(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ps=new WeakMap;var Rs="__sak",As=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Rs,"1"),this.storage.removeItem(Rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Os=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xt();return $i(e)||na(e)}()&&function(){try{return!(!window||window===window.top)}catch(hL){return!1}}(),e.fallbackToPolling=ra(),e._shouldAllowMigration=!0,e}return v(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);It()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=at(rt().mark((function e(t,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=at(rt().mark((function e(t){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(As);Os.type="LOCAL";var Ds=Os,Ms=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(As);Ms.type="SESSION";var Ls=Ms;function Fs(e){return Promise.all(e.map(function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Us=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Fs(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function js(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Us.receivers=[];var Vs=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=js("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function qs(){return window}function zs(e){qs().location.href=e}function Bs(){return"undefined"!==typeof qs().WorkerGlobalScope&&"function"===typeof qs().importScripts}function Ws(){return Hs.apply(this,arguments)}function Hs(){return(Hs=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ys(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ks="firebaseLocalStorageDb",Gs="firebaseLocalStorage",Qs="fbase_key",$s=function(){function e(t){h(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Js(e,t){return e.transaction([Gs],t?"readwrite":"readonly").objectStore(Gs)}function Xs(){var e=indexedDB.deleteDatabase(Ks);return new $s(e).toPromise()}function Zs(){var e=indexedDB.open(Ks,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Gs,{keyPath:Qs})}catch(hL){n(hL)}})),e.addEventListener("success",at(rt().mark((function n(){var r;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Gs)){n.next=12;break}return r.close(),n.next=5,Xs();case 5:return n.t0=t,n.next=8,Zs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function eu(e,t,n){return tu.apply(this,arguments)}function tu(){return tu=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Js(t,!0).put((Qe(i={},Qs,n),Qe(i,"value",r),i)),e.abrupt("return",new $s(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Js(t,!1).get(n),e.next=3,new $s(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t){var n=Js(e,!0).delete(t);return new $s(n).toPromise()}var au=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Zs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=at(rt().mark((function e(){var t=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Us._getInstance(Bs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=at(rt().mark((function e(n,r){var i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=at(rt().mark((function e(){var t,n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Vs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ys()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Zs();case 5:return t=e.sent,e.next=8,eu(t,Rs,"1");case 8:return e.next=10,iu(t,Rs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=at(rt().mark((function e(t,n){var r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return eu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return nu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=at(rt().mark((function e(t){var n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return iu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Js(e,!1).getAll();return new $s(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();au.type="LOCAL";var ou=au;function su(e,t){return ci(e,"POST","/v2/accounts/mfaSignIn:start",ui(e,t))}function uu(e,t){return ci(e,"POST","/v2/accounts/mfaSignIn:finalize",ui(e,t))}var cu=1e12,lu=function(){function e(t){h(this,e),this.auth=t,this.counter=cu,this._widgets=new Map}return v(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new hu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||cu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||cu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||cu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hu=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Jr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return v(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(hL){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(hL){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var fu=da("rcb"),du=new ri(3e4,6e4),pu=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=qs().grecaptcha)||void 0===t?void 0:t.render)}return v(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Jr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ca(qs().grecaptcha)?Promise.resolve(qs().grecaptcha):new Promise((function(r,i){var a=qs().setTimeout((function(){i(Kr(e,"network-request-failed"))}),du.get());qs()[fu]=function(){qs().clearTimeout(a),delete qs()[fu];var o=qs().grecaptcha;if(o&&ca(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Kr(e,"internal-error"))},fa("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Bt({onload:fu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Kr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=qs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var vu=function(){function e(){h(this,e)}return v(e,[{key:"load",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new lu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),yu="recaptcha",mu={theme:"light",type:"image"},gu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},mu),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ka(r),this.isInvisible="invisible"===this.parameters.size,Jr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Jr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vu:new pu,this.validateStartingState()}return v(e,[{key:"verify",value:function(){var e=at(rt().mark((function e(){var t,n,r,i=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(hL){return Promise.reject(hL)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Jr(!this.parameters.sitekey,this.auth,"argument-error"),Jr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Jr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=qs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Jr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr(ti()&&!Bs(),this.auth,"internal-error"),e.next=3,ku();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,aa(this.auth);case 8:Jr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Jr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ku(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var bu=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return v(e,[{key:"confirm",value:function(e){var t=ro._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function _u(){return _u=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(t),e.next=3,Eu(i,n,Zt(r));case 3:return a=e.sent,e.abrupt("return",new bu(a,(function(e){return Do(i,e)})));case 5:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function wu(e,t,n){return xu.apply(this,arguments)}function xu(){return(xu=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,Io(!1,i,"phone");case 3:return e.next=5,Eu(i.auth,n,Zt(r));case 5:return a=e.sent,e.abrupt("return",new bu(a,(function(e){return Lo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(){return(Su=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,Eu(i.auth,n,Zt(r));case 3:return a=e.sent,e.abrupt("return",new bu(a,(function(e){return Uo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t,n){return Cu.apply(this,arguments)}function Cu(){return Cu=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Jr("string"===typeof a,t,"argument-error"),Jr(r.type===yu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Jr("enroll"===s.type,t,"internal-error"),e.next=13,Es(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Jr("signin"===s.type,t,"internal-error"),Jr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,su(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ja(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Cu.apply(this,arguments)}function Tu(){return(Tu=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(Zt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Iu=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=ka(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return Eu(this.auth,e,Zt(t))}}],[{key:"credential",value:function(e,t){return ro._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ro._fromTokenResponse(n,r):null}}]),e}();function Nu(e,t){return t?Bi(t):(Jr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Iu.PROVIDER_ID="phone",Iu.PHONE_SIGN_IN_METHOD="phone";var Pu=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Ga(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ga(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ga(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Sa);function Ru(e){return Ao(e.auth,new Pu(e),e.bypassAuthState)}function Au(e){var t=e.auth,n=e.user;return Jr(n,t,"internal-error"),Po(n,new Pu(e),e.bypassAuthState)}function Ou(e){return Du.apply(this,arguments)}function Du(){return Du=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Jr(r=t.user,n,"internal-error"),e.abrupt("return",Co(r,new Pu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}var Mu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=at(rt().mark((function t(n,r){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ru;case"linkViaPopup":case"linkViaRedirect":return Ou;case"reauthViaPopup":case"reauthViaRedirect":return Au;default:Yr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Lu=new ri(2e3,1e4);function Fu(e,t,n){return Uu.apply(this,arguments)}function Uu(){return Uu=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(t),Qr(t,n,oo),a=Nu(i,r),o=new zu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function ju(){return(ju=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qr((i=Zt(t)).auth,n,oo),a=Nu(i.auth,r),o=new zu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t,n){return qu.apply(this,arguments)}function qu(){return(qu=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qr((i=Zt(t)).auth,n,oo),a=Nu(i.auth,r),o=new zu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zu=function(e){g(n,e);var t=w(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(s),s}return v(n,[{key:"executeNotNull",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Jr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=at(rt().mark((function e(){var t,n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr(1===this.filter.length,"Popup operations only handle one event"),t=js(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Kr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Kr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Kr(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Lu.get())}()}}]),n}(Mu);zu.currentPopupAction=null;var Bu="pendingRedirect",Wu=new Map,Hu=function(e){g(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return v(n,[{key:"execute",value:function(){var e=at(rt().mark((function e(){var t,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Wu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Yu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,nt(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Wu.set(this.auth._key(),t);case 21:return this.bypassAuthState||Wu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=at(rt().mark((function e(t){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",nt(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",nt(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Mu);function Yu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(n),i=Ju(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Gu(e,t){return Qu.apply(this,arguments)}function Qu(){return Qu=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ju(t)._set(Xu(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function $u(e,t){Wu.set(e._key(),t)}function Ju(e){return Bi(e._redirectPersistence)}function Xu(e){return Yi(Bu,e.config.apiKey,e.name)}function Zu(e,t,n){return function(e,t,n){return ec.apply(this,arguments)}(e,t,n)}function ec(){return ec=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(t),Qr(t,n,oo),e.next=4,i._initializationPromise;case 4:return a=Nu(i,r),e.next=7,Gu(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t,n){return function(e,t,n){return nc.apply(this,arguments)}(e,t,n)}function nc(){return(nc=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qr((i=Zt(t)).auth,n,oo),e.next=4,i.auth._initializationPromise;case 4:return a=Nu(i.auth,r),e.next=7,Gu(a,i.auth);case 7:return e.next=9,cc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(e,t,n){return function(e,t,n){return ic.apply(this,arguments)}(e,t,n)}function ic(){return(ic=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qr((i=Zt(t)).auth,n,oo),e.next=4,i.auth._initializationPromise;case 4:return a=Nu(i.auth,r),e.next=7,Io(!1,i,n.providerId);case 7:return e.next=9,Gu(a,i.auth);case 9:return e.next=11,cc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(t)._initializationPromise;case 2:return e.abrupt("return",sc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function sc(e,t){return uc.apply(this,arguments)}function uc(){return uc=at(rt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ka(t),a=Nu(i,n),o=new Hu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(e){return lc.apply(this,arguments)}function lc(){return(lc=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=js("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hc=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!dc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(fc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function fc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function dc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function pc(e){return vc.apply(this,arguments)}function vc(){return vc=at(rt().mark((function e(t){var n,r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ci(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}var yc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mc=/^https?/;function gc(){return gc=at(rt().mark((function e(t){var n,r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pc(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!kc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Yr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),gc.apply(this,arguments)}function kc(e){var t=ei(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!mc.test(r))return!1;if(yc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var bc=new ri(3e4,6e4);function _c(){var e=qs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=l(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var wc=null;function xc(e){return wc=wc||function(e){return new Promise((function(t,n){var r,i,a;function o(){_c(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){_c(),n(Kr(e,"network-request-failed"))},timeout:bc.get()})}if(null===(i=null===(r=qs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=qs().gapi)||void 0===a?void 0:a.load)){var s=da("iframefcb");return qs()[s]=function(){gapi.load?o():n(Kr(e,"network-request-failed"))},fa("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw wc=null,e}))}(e),wc}var Sc=new ri(5e3,15e3),Ec="__/auth/iframe",Cc="emulator/auth/iframe",Tc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ic=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nc(e){var t=e.config;Jr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ii(t,Cc):"https://".concat(e.config.authDomain,"/").concat(Ec),r={apiKey:t.apiKey,appName:e.name,v:Qn},i=Ic.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Bt(r).slice(1))}function Pc(e){return Rc.apply(this,arguments)}function Rc(){return Rc=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xc(t);case 2:return n=e.sent,Jr(r=qs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Nc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tc,dontclear:!0},(function(e){return new Promise(function(){var n=at(rt().mark((function n(r,i){var a,o,s;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){qs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Kr(t,"network-request-failed"),o=qs().setTimeout((function(){i(a)}),Sc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}var Ac={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oc=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(hL){}}}]),e}();function Dc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Ac),{width:r.toString(),height:i.toString(),top:a,left:o}),l=xt().toLowerCase();n&&(s=Ji(l)?"_blank":n),Qi(l)&&(t=t||"http://localhost",c.scrollbars="yes");var h=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return na(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Oc(null);var f=window.open(t||"",s,h);Jr(f,e,"popup-blocked");try{f.focus()}catch(hL){}return new Oc(f)}var Mc="__/auth/handler",Lc="emulator/auth/handler",Fc=encodeURIComponent("fac");function Uc(e,t,n,r,i,a){return jc.apply(this,arguments)}function jc(){return jc=at(rt().mark((function e(t,n,r,i,a,o){var s,c,l,h,f,d,p,v,y,m,g,k,b;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jr(t.config.authDomain,t,"auth-domain-config-required"),Jr(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Qn,eventId:a},n instanceof oo)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",jt(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(o||{});c<l.length;c++)h=u(l[c],2),f=h[0],d=h[1],s[f]=d;for(n instanceof so&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,y=0,m=Object.keys(v);y<m.length;y++)g=m[y],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Fc,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Vc(t),"?").concat(Bt(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Vc(e){var t=e.config;return t.emulator?ii(t,Lc):"https://".concat(t.authDomain,"/").concat(Mc)}var qc="webStorageSupport",zc=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=sc,this._overrideRedirectResult=$u}return v(e,[{key:"_openPopup",value:function(){var e=at(rt().mark((function e(t,n,r,i){var a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Uc(t,n,r,ei(),i);case 3:return o=e.sent,e.abrupt("return",Dc(t,o,js()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=at(rt().mark((function e(t,n,r,i){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Uc(t,n,r,ei(),i);case 4:return zs(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Zr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pc(t);case 2:return n=e.sent,r=new hc(t),n.register("authEvent",(function(e){return Jr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(qc,{type:qc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[qc];void 0!==i&&t(!!i),Yr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ra()||$i()||na()}}]),e}(),Bc=zc,Wc=function(){function e(t){h(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xr("unexpected MultiFactorSessionType")}}}]),e}(),Hc=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ci(e,"POST","/v2/accounts/mfaEnrollment:finalize",ui(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ci(e,"POST","/v2/accounts/mfaSignIn:finalize",ui(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Wc),Yc=function(){function e(){h(this,e)}return v(e,null,[{key:"assertion",value:function(e){return Hc._fromCredential(e)}}]),e}();Yc.FACTOR_ID="phone";var Kc=function(){function e(){h(this,e)}return v(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Gc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Gc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Cs(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Qc._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Kc.FACTOR_ID="totp";var Gc=function(e){g(n,e);var t=w(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return v(n,[{key:"_finalizeEnroll",value:function(){var e=at(rt().mark((function e(t,n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Ts(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",uu(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Wc),Qc=function(){function e(t,n,r,i,a,o,s){h(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return v(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return($c(e)||$c(t))&&(r=!0),r&&($c(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),$c(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function $c(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Jc="@firebase/auth",Xc="0.23.2",Zc=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Jr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var el,tl;!function(e){var t;null===(t=kt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");el="Browser",zn(new en("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Jr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:el,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ia(el)},l=new ga(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),zn(new en("auth-internal",(function(e){return function(e){return new Zc(e)}(ka(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Jc,Xc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(el)),tr(Jc,Xc,"esm2017");var nl=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,Vn(t,new en("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Zn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){qn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),rl=(Qe(tl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Qe(tl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),tl),il=new At("app-compat","Firebase",rl);var al=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=$n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ft(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:tr,setLogLevel:rr,onLog:nr,apps:null,SDK_VERSION:Qn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(zn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw il.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&mt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ft(n,e=e||Ln))throw il.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(nl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){mt(n,e)},createSubscribe:Kt,ErrorFactory:At,deepExtend:mt}),n}(),ol=new fn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ol.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var sl=self.firebase.SDK_VERSION;sl&&sl.indexOf("LITE")>=0&&ol.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ul=al;!function(e){tr("@firebase/app-compat","0.2.10",e)}();ul.registerVersion("firebase","9.22.0","app-compat");var cl,ll="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},hl={},fl=fl||{},dl=ll||self;function pl(){}function vl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ml="closure_uid_"+(1e9*Math.random()>>>0),gl=0;function kl(e,t,n){return e.call.apply(e.bind,arguments)}function bl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _l(e,t,n){return(_l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kl:bl).apply(null,arguments)}function wl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Sl(){this.s=this.s,this.o=this.o}Sl.prototype.s=!1,Sl.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ml)&&e[ml]||(e[ml]=++gl))},Sl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var El=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Cl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(vl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Il(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Il.prototype.h=function(){this.defaultPrevented=!0};var Nl=function(){if(!dl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dl.addEventListener("test",pl,t),dl.removeEventListener("test",pl,t)}catch(n){}return e}();function Pl(e){return/^[\s\xa0]*$/.test(e)}var Rl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Al(e,t){return e<t?-1:e>t?1:0}function Ol(){var e=dl.navigator;return e&&(e=e.userAgent)?e:""}function Dl(e){return-1!=Ol().indexOf(e)}function Ml(e){return Ml[" "](e),e}function Ll(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}Ml[" "]=pl;var Fl,Ul=Dl("Opera"),jl=Dl("Trident")||Dl("MSIE"),Vl=Dl("Edge"),ql=Vl||jl,zl=Dl("Gecko")&&!(-1!=Ol().toLowerCase().indexOf("webkit")&&!Dl("Edge"))&&!(Dl("Trident")||Dl("MSIE"))&&!Dl("Edge"),Bl=-1!=Ol().toLowerCase().indexOf("webkit")&&!Dl("Edge");function Wl(){var e=dl.document;return e?e.documentMode:void 0}e:{var Hl="",Yl=function(){var e=Ol();return zl?/rv:([^\);]+)(\)|;)/.exec(e):Vl?/Edge\/([\d\.]+)/.exec(e):jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bl?/WebKit\/(\S+)/.exec(e):Ul?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Yl&&(Hl=Yl?Yl[1]:""),jl){var Kl=Wl();if(null!=Kl&&Kl>parseFloat(Hl)){Fl=String(Kl);break e}}Fl=Hl}var Gl,Ql={};if(dl.document&&jl){var $l=Wl();Gl=$l||(parseInt(Fl,10)||void 0)}else Gl=void 0;var Jl=Gl;function Xl(e,t){if(Il.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zl){e:{try{Ml(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xl.$.h.call(this)}}xl(Xl,Il);var Zl={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),th=0;function nh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++th,this.fa=this.ia=!1}function rh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ih(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ah(e){var t={};for(var n in e)t[n]=e[n];return t}var oh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<oh.length;a++)n=oh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function uh(e){this.src=e,this.g={},this.h=0}function ch(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=El(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(rh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function lh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}uh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=lh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new nh(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var hh="closure_lm_"+(1e6*Math.random()|0),fh={};function dh(e,t,n,r,i){if(r&&r.once)return vh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)dh(e,t[a],n,r,i);return null}return n=wh(n),e&&e[eh]?e.O(t,n,yl(r)?!!r.capture:!!r,i):ph(e,t,n,!1,r,i)}function ph(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yl(i)?!!i.capture:!!i,s=bh(e);if(s||(e[hh]=s=new uh(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=kh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Nl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)vh(e,t[a],n,r,i);return null}return n=wh(n),e&&e[eh]?e.P(t,n,yl(r)?!!r.capture:!!r,i):ph(e,t,n,!0,r,i)}function yh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)yh(e,t[a],n,r,i);else r=yl(r)?!!r.capture:!!r,n=wh(n),e&&e[eh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=lh(a=e.g[t],n,r,i))&&(rh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=bh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=lh(t,n,r,i)),(n=-1<e?t[e]:null)&&mh(n))}function mh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[eh])ch(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bh(t))?(ch(n,e),0==n.h&&(n.src=null,t[hh]=null)):rh(e)}}}function gh(e){return e in fh?fh[e]:fh[e]="on"+e}function kh(e,t){if(e.fa)e=!0;else{t=new Xl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&mh(e),e=n.call(r,t)}return e}function bh(e){return(e=e[hh])instanceof uh?e:null}var _h="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(e){return"function"===typeof e?e:(e[_h]||(e[_h]=function(t){return e.handleEvent(t)}),e[_h])}function xh(){Sl.call(this),this.i=new uh(this),this.S=this,this.J=null}function Sh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Il(t,e);else if(t instanceof Il)t.target=t.target||e;else{var i=t;sh(t=new Il(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Eh(o,r,!0,t)&&i}if(i=Eh(o=t.g=e,r,!0,t)&&i,i=Eh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Eh(o=t.g=n[a],r,!1,t)&&i}function Eh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&ch(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}xl(xh,Sl),xh.prototype[eh]=!0,xh.prototype.removeEventListener=function(e,t,n,r){yh(this,e,t,n,r)},xh.prototype.N=function(){if(xh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rh(n[r]);delete t.g[e],t.h--}}this.J=null},xh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ch=dl.JSON.stringify;function Th(){var e=Mh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ih,Nh=function(){function e(){h(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=Ph.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ph=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Rh}),(function(e){return e.reset()})),Rh=function(){function e(){h(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ah(e){dl.setTimeout((function(){throw e}),0)}function Oh(e,t){Ih||function(){var e=dl.Promise.resolve(void 0);Ih=function(){e.then(Lh)}}(),Dh||(Ih(),Dh=!0),Mh.add(e,t)}var Dh=!1,Mh=new Nh;function Lh(){for(var e;e=Th();){try{e.h.call(e.g)}catch(n){Ah(n)}var t=Ph;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Dh=!1}function Fh(e,t){xh.call(this),this.h=e||1,this.g=t||dl,this.j=_l(this.qb,this),this.l=Date.now()}function Uh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function jh(e,t,n){if("function"===typeof e)n&&(e=_l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_l(e.handleEvent,e)}return 2147483647<Number(t)?-1:dl.setTimeout(e,t||0)}function Vh(e){e.g=jh((function(){e.g=null,e.i&&(e.i=!1,Vh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}xl(Fh,xh),(cl=Fh.prototype).ga=!1,cl.T=null,cl.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sh(this,"tick"),this.ga&&(Uh(this),this.start()))}},cl.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cl.N=function(){Fh.$.N.call(this),Uh(this),delete this.g};var qh=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Vh(this)}},{key:"N",value:function(){nt(k(n.prototype),"N",this).call(this),this.g&&(dl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sl);function zh(e){Sl.call(this),this.h=e,this.g={}}xl(zh,Sl);var Bh=[];function Wh(e,t,n,r){Array.isArray(n)||(n&&(Bh[0]=n.toString()),n=Bh);for(var i=0;i<n.length;i++){var a=dh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Hh(e){ih(e.g,(function(e,t){this.g.hasOwnProperty(t)&&mh(e)}),e),e.g={}}function Yh(){this.g=!0}function Kh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ch(n)}catch(lL){return t}}(e,n)+(r?" "+r:"")}))}zh.prototype.N=function(){zh.$.N.call(this),Hh(this)},zh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Ea=function(){this.g=!1},Yh.prototype.info=function(){};var Gh={},Qh=null;function $h(){return Qh=Qh||new xh}function Jh(e){Il.call(this,Gh.Ta,e)}function Xh(e){var t=$h();Sh(t,new Jh(t))}function Zh(e,t){Il.call(this,Gh.STAT_EVENT,e),this.stat=t}function ef(e){var t=$h();Sh(t,new Zh(t,e))}function tf(e,t){Il.call(this,Gh.Ua,e),this.size=t}function nf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return dl.setTimeout((function(){e()}),t)}Gh.Ta="serverreachability",xl(Jh,Il),Gh.STAT_EVENT="statevent",xl(Zh,Il),Gh.Ua="timingevent",xl(tf,Il);var rf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},af={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function of(){}function sf(e){return e.h||(e.h=e.i())}function uf(){}of.prototype.h=null;var cf,lf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hf(){Il.call(this,"d")}function ff(){Il.call(this,"c")}function df(){}function pf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new zh(this),this.P=yf,e=ql?125:void 0,this.V=new Fh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new vf}function vf(){this.i=null,this.g="",this.h=!1}xl(hf,Il),xl(ff,Il),xl(df,of),df.prototype.g=function(){return new XMLHttpRequest},df.prototype.i=function(){return{}},cf=new df;var yf=45e3,mf={},gf={};function kf(e,t,n){e.L=1,e.v=Uf(Of(t)),e.s=n,e.S=!0,bf(e,null)}function bf(e,t){e.G=Date.now(),Sf(e),e.A=Of(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Jf(n.i,"t",r),e.C=0,n=e.l.I,e.h=new vf,e.g=Xd(e.l,n?t:null,!e.s),0<e.O&&(e.M=new qh(_l(e.Pa,e,e.g),e.O)),Wh(e.U,e.g,"readystatechange",e.nb),t=e.I?ah(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Xh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function _f(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function wf(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=xf(e,n))==gf){4==t&&(e.o=4,ef(14),i=!1),Kh(e.j,e.m,null,"[Incomplete Response]");break}if(r==mf){e.o=4,ef(15),Kh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Kh(e.j,e.m,r,null),Nf(e,r)}_f(e)&&r!=gf&&r!=mf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ef(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wd(t),t.L=!0,ef(11))):(Kh(e.j,e.m,n,"[Invalid Chunked Response]"),If(e),Tf(e))}function xf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gf:(n=Number(t.substring(n,r)),isNaN(n)?mf:(r+=1)+n>t.length?gf:(t=t.substr(r,n),e.C=r+n,t))}function Sf(e){e.Y=Date.now()+e.P,Ef(e,e.P)}function Ef(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nf(_l(e.lb,e),t)}function Cf(e){e.B&&(dl.clearTimeout(e.B),e.B=null)}function Tf(e){0==e.l.H||e.J||Kd(e.l,e)}function If(e){Cf(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Uh(e.V),Hh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Nf(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ad(n.h,e)))if(!e.K&&ad(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Yd(n),Ld(n)}Bd(n),ef(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=nf(_l(n.ib,n),6e3));if(1>=id(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Qd(n,11)}else if((e.K||n.g==e)&&Yd(n),!Pl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.h;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(od(h,h.h),h.h=null))}if(r.F){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,Ff(r.G,r.F,f))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Jd(r,r.I?r.oa:null,r.Y),d.K){sd(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Cf(p),Sf(p)),r.g=d}else zd(r);0<n.i.length&&Ud(n)}else"stop"!=a[0]&&"close"!=a[0]||Qd(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Qd(n,7):Md(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Xh()}catch(a){}}function Pf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(vl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(vl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(cl=pf.prototype).setTimeout=function(e){this.P=e},cl.nb=function(e){e=e.target;var t=this.M;t&&3==Nd(e)?t.l():this.Pa(e)},cl.Pa=function(e){try{if(e==this.g)e:{var t=Nd(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ql||this.g&&(this.h.h||this.g.ja()||Pd(this.g)))){this.J||4!=t||7==n||Xh(),Cf(this);var r=this.g.da();this.aa=r;t:if(_f(this)){var i=Pd(this.g);e="";var a=i.length,o=4==Nd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){If(this),Tf(this);var s="";break t}this.h.i=new dl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pl(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ef(12),If(this),Tf(this);break e}Kh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nf(this,r)}this.S?(wf(this,t,s),ql&&this.i&&3==t&&(Wh(this.U,this.V,"tick",this.mb),this.V.start())):(Kh(this.j,this.m,s,null),Nf(this,s)),4==t&&If(this),this.i&&!this.J&&(4==t?Kd(this.l,this):(this.i=!1,Sf(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ef(12)):(this.o=0,ef(13)),If(this),Tf(this)}}}catch(t){}},cl.mb=function(){if(this.g){var e=Nd(this.g),t=this.g.ja();this.C<t.length&&(Cf(this),wf(this,e,t),this.i&&4!=e&&Sf(this))}},cl.cancel=function(){this.J=!0,If(this)},cl.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Xh(),ef(17)),If(this),this.o=2,Tf(this)):Ef(this,this.Y-e)};var Rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Af(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Af){this.h=void 0!==t?t:e.h,Df(this,e.j),this.s=e.s,this.g=e.g,Mf(this,e.m),this.l=e.l,t=e.i;var n=new Kf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Lf(this,n),this.o=e.o}else e&&(n=String(e).match(Rf))?(this.h=!!t,Df(this,n[1]||"",!0),this.s=jf(n[2]||""),this.g=jf(n[3]||"",!0),Mf(this,n[4]),this.l=jf(n[5]||"",!0),Lf(this,n[6]||"",!0),this.o=jf(n[7]||"")):(this.h=!!t,this.i=new Kf(null,this.h))}function Of(e){return new Af(e)}function Df(e,t,n){e.j=n?jf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Mf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lf(e,t,n){t instanceof Kf?(e.i=t,function(e,t){t&&!e.j&&(Gf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qf(this,t),Jf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Vf(t,Hf)),e.i=new Kf(t,e.h))}function Ff(e,t,n){e.i.set(t,n)}function Uf(e){return Ff(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Af.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vf(t,zf,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vf(t,zf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vf(n,"/"==n.charAt(0)?Wf:Bf,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vf(n,Yf)),e.join("")};var zf=/[#\/\?@]/g,Bf=/[#\?:]/g,Wf=/[#\?]/g,Hf=/[#\?@]/g,Yf=/#/g;function Kf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qf(e,t){Gf(e),t=Xf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $f(e,t){return Gf(e),t=Xf(e,t),e.g.has(t)}function Jf(e,t,n){Qf(e,t),0<n.length&&(e.i=null,e.g.set(Xf(e,t),Cl(n)),e.h+=n.length)}function Xf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(cl=Kf.prototype).add=function(e,t){Gf(this),this.i=null,e=Xf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cl.forEach=function(e,t){Gf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},cl.sa=function(){Gf(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},cl.Z=function(e){Gf(this);var t=[];if("string"===typeof e)$f(this,e)&&(t=t.concat(this.g.get(Xf(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},cl.set=function(e,t){return Gf(this),this.i=null,$f(this,e=Xf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cl.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},cl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Zf=v((function e(t,n){h(this,e),this.h=t,this.g=n}));function ed(e){this.l=e||nd,dl.PerformanceNavigationTiming?e=0<(e=dl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(dl.g&&dl.g.Ka&&dl.g.Ka()&&dl.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var td,nd=10;function rd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function id(e){return e.h?1:e.g?e.g.size:0}function ad(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function od(e,t){e.g?e.g.add(t):e.h=t}function sd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ud(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Cl(e.i)}function cd(){}function ld(){this.g=new cd}function hd(e,t,n){var r=n||"";try{Pf(e,(function(e,n){var i=e;yl(e)&&(i=Ch(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(hL){throw t.push(r+"type="+encodeURIComponent("_badmap")),hL}}function fd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function dd(e){this.l=e.fc||null,this.j=e.ob||!1}function pd(e,t){xh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=vd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ed.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},cd.prototype.stringify=function(e){return dl.JSON.stringify(e,void 0)},cd.prototype.parse=function(e){return dl.JSON.parse(e,void 0)},xl(dd,of),dd.prototype.g=function(){return new pd(this.l,this.j)},dd.prototype.i=(td={},function(){return td}),xl(pd,xh);var vd=0;function yd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function md(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gd(e)}function gd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cl=pd.prototype).open=function(e,t){if(this.readyState!=vd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gd(this)},cl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||dl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},cl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,md(this)),this.readyState=vd},cl.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gd(this)),this.g&&(this.readyState=3,gd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof dl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},cl.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?md(this):gd(this),3==this.readyState&&yd(this)}},cl.Za=function(e){this.g&&(this.response=this.responseText=e,md(this))},cl.Ya=function(e){this.g&&(this.response=e,md(this))},cl.ka=function(){this.g&&md(this)},cl.setRequestHeader=function(e,t){this.v.append(e,t)},cl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kd=dl.JSON.parse;function bd(e){xh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_d,this.L=this.M=!1}xl(bd,xh);var _d="",wd=/^https?$/i,xd=["POST","PUT"];function Sd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ed(e),Td(e)}function Ed(e){e.F||(e.F=!0,Sh(e,"complete"),Sh(e,"error"))}function Cd(e){if(e.h&&"undefined"!=typeof fl&&(!e.C[1]||4!=Nd(e)||2!=e.da()))if(e.v&&4==Nd(e))jh(e.La,0,e);else if(Sh(e,"readystatechange"),4==Nd(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Rf)[1]||null;if(!a&&dl.self&&dl.self.location){var o=dl.self.location.protocol;a=o.substr(0,o.length-1)}i=!wd.test(a?a.toLowerCase():"")}t=i}if(t)Sh(e,"complete"),Sh(e,"success");else{e.m=6;try{var s=2<Nd(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.da()+"]",Ed(e)}}finally{Td(e)}}}function Td(e,t){if(e.g){Id(e);var n=e.g,r=e.C[0]?pl:null;e.g=null,e.C=null,t||Sh(e,"ready");try{n.onreadystatechange=r}catch(hL){}}}function Id(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(dl.clearTimeout(e.A),e.A=null)}function Nd(e){return e.g?e.g.readyState:0}function Pd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case _d:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Mp){return null}}function Rd(e){var t="";return ih(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ad(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ff(e,t,n))}function Od(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dd(e){this.Ga=0,this.i=[],this.j=new Yh,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Od("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Od("baseRetryDelayMs",5e3,e),this.hb=Od("retryDelaySeedMs",1e4,e),this.eb=Od("forwardChannelMaxRetries",2,e),this.xa=Od("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new ed(e&&e.concurrentRequestLimit),this.Ja=new ld,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Md(e){if(Fd(e),3==e.H){var t=e.W++,n=Of(e.G);Ff(n,"SID",e.J),Ff(n,"RID",t),Ff(n,"TYPE","terminate"),Vd(e,n),(t=new pf(e,e.j,t,void 0)).L=2,t.v=Uf(Of(n)),n=!1,dl.navigator&&dl.navigator.sendBeacon&&(n=dl.navigator.sendBeacon(t.v.toString(),"")),!n&&dl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xd(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Sf(t)}$d(e)}function Ld(e){e.g&&(Wd(e),e.g.cancel(),e.g=null)}function Fd(e){Ld(e),e.u&&(dl.clearTimeout(e.u),e.u=null),Yd(e),e.h.cancel(),e.m&&("number"===typeof e.m&&dl.clearTimeout(e.m),e.m=null)}function Ud(e){rd(e.h)||e.m||(e.m=!0,Oh(e.Na,e),e.C=0)}function jd(e,t){var n;n=t?t.m:e.W++;var r=Of(e.G);Ff(r,"SID",e.J),Ff(r,"RID",n),Ff(r,"AID",e.V),Vd(e,r),e.o&&e.s&&Ad(r,e.o,e.s),n=new pf(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=qd(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),od(e.h,n),kf(n,r,t)}function Vd(e,t){e.ma&&ih(e.ma,(function(e,n){Ff(t,n,e)})),e.l&&Pf({},(function(e,n){Ff(t,n,e)}))}function qd(e,t,n){n=Math.min(e.i.length,n);var r=e.l?_l(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{hd(l,o,"req"+c+"_")}catch(Yp){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function zd(e){e.g||e.u||(e.ba=1,Oh(e.Ma,e),e.A=0)}function Bd(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=nf(_l(e.Ma,e),Gd(e,e.A)),e.A++,!0)}function Wd(e){null!=e.B&&(dl.clearTimeout(e.B),e.B=null)}function Hd(e){e.g=new pf(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Of(e.wa);Ff(t,"RID","rpc"),Ff(t,"SID",e.J),Ff(t,"CI",e.M?"0":"1"),Ff(t,"AID",e.V),Ff(t,"TYPE","xmlhttp"),Vd(e,t),e.o&&e.s&&Ad(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Uf(Of(t)),n.s=null,n.S=!0,bf(n,e)}function Yd(e){null!=e.v&&(dl.clearTimeout(e.v),e.v=null)}function Kd(e,t){var n=null;if(e.g==t){Yd(e),Wd(e),e.g=null;var r=2}else{if(!ad(e.h,t))return;n=t.F,sd(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Sh(r=$h(),new tf(r,n)),Ud(e)}else zd(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(id(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=nf(_l(e.Na,e,t),Gd(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bd(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Qd(e,5);break;case 4:Qd(e,10);break;case 3:Qd(e,6);break;default:Qd(e,2)}}function Gd(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Qd(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=_l(e.pb,e);n||(n=new Af("//www.google.com/images/cleardot.gif"),dl.location&&"http"==dl.location.protocol||Df(n,"https"),Uf(n)),function(e,t){var n=new Yh;if(dl.Image){var r=new Image;r.onload=wl(fd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wl(fd,n,r,"TestLoadImage: error",!1,t),r.onabort=wl(fd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wl(fd,n,r,"TestLoadImage: timeout",!1,t),dl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ef(2);e.H=0,e.l&&e.l.za(t),$d(e),Fd(e)}function $d(e){if(e.H=0,e.pa=[],e.l){var t=ud(e.h);0==t.length&&0==e.i.length||(Tl(e.pa,t),Tl(e.pa,e.i),e.h.i.length=0,Cl(e.i),e.i.length=0),e.l.ya()}}function Jd(e,t,n){var r=n instanceof Af?Of(n):new Af(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Mf(r,r.m);else{var i=dl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Af(null,void 0);r&&Df(a,r),t&&(a.g=t),i&&Mf(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Ff(r,n,t),Ff(r,"VER",e.qa),Vd(e,r),r}function Xd(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new bd(new dd({ob:!0})):new bd(e.va)).Oa(e.I),t}function Zd(){}function ep(){if(jl&&!(10<=Number(Jl)))throw Error("Environmental error: no available transport.")}function tp(e,t){xh.call(this),this.g=new Dd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Pl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Pl(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ip(this)}function np(e){hf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rp(){ff.call(this),this.status=1}function ip(e){this.g=e}function ap(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function op(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function sp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(cl=bd.prototype).Oa=function(e){this.M=e},cl.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cf.g(),this.C=this.u?sf(this.u):sf(cf),this.g.onreadystatechange=_l(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Sd(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=dl.FormData&&e instanceof dl.FormData,!(0<=El(xd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=C(n);try{for(l.s();!(c=l.n()).done;){var h=u(c.value,2),f=h[0],d=h[1];this.g.setRequestHeader(f,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Id(this),0<this.B&&((this.L=function(e){return jl&&Ll(Ql,9,(function(){for(var e=0,t=Rl(String(Fl)).split("."),n=Rl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Al(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Al(0==a[2].length,0==o[2].length)||Al(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_l(this.ua,this)):this.A=jh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Sd(this,s)}},cl.ua=function(){"undefined"!=typeof fl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sh(this,"timeout"),this.abort(8))},cl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sh(this,"complete"),Sh(this,"abort"),Td(this))},cl.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Td(this,!0)),bd.$.N.call(this)},cl.La=function(){this.s||(this.G||this.v||this.l?Cd(this):this.kb())},cl.kb=function(){Cd(this)},cl.da=function(){try{return 2<Nd(this)?this.g.status:-1}catch(td){return-1}},cl.ja=function(){try{return this.g?this.g.responseText:""}catch(td){return""}},cl.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kd(t)}},cl.Ia=function(){return this.m},cl.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(cl=Dd.prototype).qa=8,cl.H=1,cl.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new pf(this,this.j,e,void 0),n=this.s;if(this.U&&(n?sh(n=ah(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qd(this,t,r),Ff(i=Of(this.G),"RID",e),Ff(i,"CVER",22),this.F&&Ff(i,"X-HTTP-Session-Id",this.F),Vd(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Rd(n)))+"&"+r:this.o&&Ad(i,this.o,n)),od(this.h,t),this.bb&&Ff(i,"TYPE","init"),this.P?(Ff(i,"$req",r),Ff(i,"SID","null"),t.ba=!0,kf(t,i,null)):kf(t,i,r),this.H=2}}else 3==this.H&&(e?jd(this,e):0==this.i.length||rd(this.h)||jd(this))},cl.Ma=function(){if(this.u=null,Hd(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=nf(_l(this.jb,this),e)}},cl.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ef(10),Ld(this),Hd(this))},cl.ib=function(){null!=this.v&&(this.v=null,Ld(this),Bd(this),ef(19))},cl.pb=function(e){e?(this.j.info("Successfully pinged google.com"),ef(2)):(this.j.info("Failed to ping google.com"),ef(1))},(cl=Zd.prototype).Ba=function(){},cl.Aa=function(){},cl.za=function(){},cl.ya=function(){},cl.Va=function(){},ep.prototype.g=function(e,t){return new tp(e,t)},xl(tp,xh),tp.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;ef(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Jd(e,null,e.Y),Ud(e)},tp.prototype.close=function(){Md(this.g)},tp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ch(e),e=n);t.i.push(new Zf(t.fb++,e)),3==t.H&&Ud(t)},tp.prototype.N=function(){this.g.l=null,delete this.j,Md(this.g),delete this.g,tp.$.N.call(this)},xl(np,hf),xl(rp,ff),xl(ip,Zd),ip.prototype.Ba=function(){Sh(this.g,"a")},ip.prototype.Aa=function(e){Sh(this.g,new np(e))},ip.prototype.za=function(e){Sh(this.g,new rp)},ip.prototype.ya=function(){Sh(this.g,"b")},xl(ap,(function(){this.blockSize=-1})),ap.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ap.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)op(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){op(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){op(this,r),i=0;break}}this.h=i,this.i+=t},ap.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var up={};function cp(e){return-128<=e&&128>e?Ll(up,e,(function(e){return new sp([0|e],0>e?-1:0)})):new sp([0|e],0>e?-1:0)}function lp(e){if(isNaN(e)||!isFinite(e))return fp;if(0>e)return mp(lp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=hp;return new sp(t,0)}var hp=4294967296,fp=cp(0),dp=cp(1),pp=cp(16777216);function vp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function yp(e){return-1==e.h}function mp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new sp(n,~e.h).add(dp)}function gp(e,t){return e.add(mp(t))}function kp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function bp(e,t){this.g=e,this.h=t}function _p(e,t){if(vp(t))throw Error("division by zero");if(vp(e))return new bp(fp,fp);if(yp(e))return t=_p(mp(e),t),new bp(mp(t.g),mp(t.h));if(yp(t))return t=_p(e,mp(t)),new bp(mp(t.g),t.h);if(30<e.g.length){if(yp(e)||yp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=dp,r=t;0>=r.X(e);)n=wp(n),r=wp(r);var i=xp(n,1),a=xp(r,1);for(r=xp(r,2),n=xp(n,2);!vp(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=xp(r,1),n=xp(n,1)}return t=gp(e,i.R(t)),new bp(i,t)}for(i=fp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=lp(n)).R(t);yp(o)||0<o.X(e);)o=(a=lp(n-=r)).R(t);vp(a)&&(a=dp),i=i.add(a),e=gp(e,o)}return new bp(i,e)}function wp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new sp(n,e.h)}function xp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new sp(i,e.h)}(cl=sp.prototype).ea=function(){if(yp(this))return-mp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:hp+r)*t,t*=hp}return e},cl.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(vp(this))return"0";if(yp(this))return"-"+mp(this).toString(e);for(var t=lp(Math.pow(e,6)),n=this,r="";;){var i=_p(n,t).g,a=((0<(n=gp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(vp(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},cl.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},cl.X=function(e){return yp(e=gp(this,e))?-1:vp(e)?0:1},cl.abs=function(){return yp(this)?mp(this):this},cl.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new sp(n,-2147483648&n[n.length-1]?-1:0)},cl.R=function(e){if(vp(this)||vp(e))return fp;if(yp(this))return yp(e)?mp(this).R(mp(e)):mp(mp(this).R(e));if(yp(e))return mp(this.R(mp(e)));if(0>this.X(pp)&&0>e.X(pp))return lp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,kp(n,2*r+2*i),n[2*r+2*i+1]+=a*u,kp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,kp(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,kp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new sp(n,0)},cl.gb=function(e){return _p(this,e).h},cl.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new sp(n,this.h&e.h)},cl.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new sp(n,this.h|e.h)},cl.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new sp(n,this.h^e.h)},ep.prototype.createWebChannel=ep.prototype.g,tp.prototype.send=tp.prototype.u,tp.prototype.open=tp.prototype.m,tp.prototype.close=tp.prototype.close,rf.NO_ERROR=0,rf.TIMEOUT=8,rf.HTTP_ERROR=6,af.COMPLETE="complete",uf.EventType=lf,lf.OPEN="a",lf.CLOSE="b",lf.ERROR="c",lf.MESSAGE="d",xh.prototype.listen=xh.prototype.O,bd.prototype.listenOnce=bd.prototype.P,bd.prototype.getLastError=bd.prototype.Sa,bd.prototype.getLastErrorCode=bd.prototype.Ia,bd.prototype.getStatus=bd.prototype.da,bd.prototype.getResponseJson=bd.prototype.Wa,bd.prototype.getResponseText=bd.prototype.ja,bd.prototype.send=bd.prototype.ha,bd.prototype.setWithCredentials=bd.prototype.Oa,ap.prototype.digest=ap.prototype.l,ap.prototype.reset=ap.prototype.reset,ap.prototype.update=ap.prototype.j,sp.prototype.add=sp.prototype.add,sp.prototype.multiply=sp.prototype.R,sp.prototype.modulo=sp.prototype.gb,sp.prototype.compare=sp.prototype.X,sp.prototype.toNumber=sp.prototype.ea,sp.prototype.toString=sp.prototype.toString,sp.prototype.getBits=sp.prototype.D,sp.fromNumber=lp,sp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return mp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=lp(Math.pow(n,8)),i=fp,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=lp(Math.pow(n,o)),i=i.R(o).add(lp(s))):i=(i=i.R(r)).add(lp(s))}return i};var Sp=hl.createWebChannelTransport=function(){return new ep},Ep=hl.getStatEventTarget=function(){return $h()},Cp=hl.ErrorCode=rf,Tp=hl.EventType=af,Ip=hl.Event=Gh,Np=hl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pp=hl.FetchXmlHttpFactory=dd,Rp=hl.WebChannel=uf,Ap=hl.XhrIo=bd,Op=hl.Md5=ap,Dp=hl.Integer=sp,Mp="@firebase/firestore",Lp=function(){function e(t){h(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Lp.UNAUTHENTICATED=new Lp(null),Lp.GOOGLE_CREDENTIALS=new Lp("google-credentials-uid"),Lp.FIRST_PARTY=new Lp("first-party-uid"),Lp.MOCK_USER=new Lp("mock-user");var Fp="9.22.0",Up=new fn("@firebase/firestore");function jp(){return Up.logLevel}function Vp(e){if(Up.logLevel<=an.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bp);Up.debug.apply(Up,["Firestore (".concat(Fp,"): ").concat(e)].concat(l(i)))}}function qp(e){if(Up.logLevel<=an.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bp);Up.error.apply(Up,["Firestore (".concat(Fp,"): ").concat(e)].concat(l(i)))}}function zp(e){if(Up.logLevel<=an.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bp);Up.warn.apply(Up,["Firestore (".concat(Fp,"): ").concat(e)].concat(l(i)))}}function Bp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Fp,") INTERNAL ASSERTION FAILED: ")+e;throw qp(t),new Error(t)}function Hp(e,t){e||Wp()}function Yp(e,t){return e}var Kp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gp=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(Rt),Qp=v((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$p=v((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Jp=function(){function e(){h(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Lp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Xp=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zp=function(){function e(t){h(this,e),this.t=t,this.currentUser=Lp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Qp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Qp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Vp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Vp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Vp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Hp("string"==typeof n.accessToken),new $p(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Hp(null===e||"string"==typeof e),new Lp(e)}}]),e}(),ev=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Lp.FIRST_PARTY,this.g=new Map}return v(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),tv=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new ev(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Lp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),nv=v((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),rv=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Vp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Vp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Vp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Vp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Hp("string"==typeof t.token),e.T=t.token,new nv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function iv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var av=function(){function e(){h(this,e)}return v(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=iv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function ov(e,t){return e<t?-1:e>t?1:0}function sv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var uv=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Gp(Kp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Gp(Kp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Gp(Kp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gp(Kp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ov(this.nanoseconds,e.nanoseconds):ov(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),cv=function(){function e(t){h(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new uv(0,0))}},{key:"max",value:function(){return new e(new uv(253402300799,999999999))}}]),e}(),lv=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&Wp(),void 0===r?r=t.length-n:r>t.length-n&&Wp(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),hv=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Gp(Kp.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,l(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lv),fv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dv=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Gp(Kp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Gp(Kp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gp(Kp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Gp(Kp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lv),pv=function(){function e(t){h(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===hv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(hv.fromString(t))}},{key:"fromName",value:function(t){return new e(hv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(hv.emptyPath())}},{key:"comparator",value:function(e,t){return hv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new hv(t.slice()))}}]),e}(),vv=v((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));vv.UNKNOWN_ID=-1;function yv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=cv.fromTimestamp(1e9===r?new uv(n+1,0):new uv(n,r));return new gv(i,pv.empty(),t)}function mv(e){return new gv(e.readTime,e.key,-1)}var gv=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(cv.min(),pv.empty(),-1)}},{key:"max",value:function(){return new e(cv.max(),pv.empty(),-1)}}]),e}();function kv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=pv.comparator(e.documentKey,t.documentKey))?n:ov(e.largestBatchId,t.largestBatchId)}var bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=function(){function e(){h(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function wv(e){return xv.apply(this,arguments)}function xv(){return(xv=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Kp.FAILED_PRECONDITION&&t.message===bv){e.next=2;break}throw t;case 2:Vp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sv=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Wp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Ev(e){return"IndexedDbTransactionError"===e.name}var Cv=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Tv(e){return null==e}function Iv(e){return 0===e&&1/e==-1/0}function Nv(e){return"number"==typeof e&&Number.isInteger(e)&&!Iv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Cv.ct=-1;var Pv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Rv=([].concat(l(Pv),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Av=Rv;[].concat(Av,["indexConfiguration","indexState","indexEntries"]);function Ov(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lv=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||Uv.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Uv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Uv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Fv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Fv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Fv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Fv(this.root,e,this.comparator,!0)}}]),e}(),Fv=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Uv=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Wp();if(this.right.isRed())throw Wp();var e=this.left.check();if(e!==this.right.check())throw Wp();return e+(this.isRed()?0:1)}}]),e}();Uv.EMPTY=null,Uv.RED=!0,Uv.BLACK=!1,Uv.EMPTY=new(function(){function e(){h(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw Wp()}},{key:"value",get:function(){throw Wp()}},{key:"color",get:function(){throw Wp()}},{key:"left",get:function(){throw Wp()}},{key:"right",get:function(){throw Wp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Uv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var jv=function(){function e(t){h(this,e),this.comparator=t,this.data=new Lv(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Vv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Vv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Vv=function(){function e(t){h(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var qv=function(){function e(t){h(this,e),this.fields=t,t.sort(dv.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new jv(dv.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return sv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),zv=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return v(n)}(S(Error));var Bv=function(e){function t(e){h(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ov(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new zv("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Bv.EMPTY_BYTE_STRING=new Bv("");var Wv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hv(e){if(Hp(!!e),"string"==typeof e){var t=0,n=Wv.exec(e);if(Hp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yv(e.seconds),nanos:Yv(e.nanos)}}function Yv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kv(e){return"string"==typeof e?Bv.fromBase64String(e):Bv.fromUint8Array(e)}function Gv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qv(e){var t=e.mapValue.fields.__previous_value__;return Gv(t)?Qv(t):t}function $v(e){var t=Hv(e.mapValue.fields.__local_write_time__.timestampValue);return new uv(t.seconds,t.nanos)}var Jv=v((function e(t,n,r,i,a,o,s,u,c){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Xv=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Zv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ey(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gv(e)?4:py(e)?9007199254740991:10:Wp()}function ty(e,t){if(e===t)return!0;var n=ey(e);if(n!==ey(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $v(e).isEqual($v(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Hv(e.timestampValue),r=Hv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kv(e.bytesValue).isEqual(Kv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yv(e.geoPointValue.latitude)===Yv(t.geoPointValue.latitude)&&Yv(e.geoPointValue.longitude)===Yv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yv(e.integerValue)===Yv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Yv(e.doubleValue),r=Yv(t.doubleValue);return n===r?Iv(n)===Iv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sv(e.arrayValue.values||[],t.arrayValue.values||[],ty);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ov(n)!==Ov(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ty(n[i],r[i])))return!1;return!0}(e,t);default:return Wp()}}function ny(e,t){return void 0!==(e.values||[]).find((function(e){return ty(e,t)}))}function ry(e,t){if(e===t)return 0;var n=ey(e),r=ey(t);if(n!==r)return ov(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ov(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Yv(e.integerValue||e.doubleValue),r=Yv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return iy(e.timestampValue,t.timestampValue);case 4:return iy($v(e),$v(t));case 5:return ov(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Kv(e),r=Kv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ov(n[i],r[i]);if(0!==a)return a}return ov(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ov(Yv(e.latitude),Yv(t.latitude));return 0!==n?n:ov(Yv(e.longitude),Yv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ry(n[i],r[i]);if(a)return a}return ov(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Zv.mapValue&&t===Zv.mapValue)return 0;if(e===Zv.mapValue)return 1;if(t===Zv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=ov(r[o],a[o]);if(0!==s)return s;var u=ry(n[r[o]],i[a[o]]);if(0!==u)return u}return ov(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Wp()}}function iy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ov(e,t);var n=Hv(e),r=Hv(t),i=ov(n.seconds,r.seconds);return 0!==i?i:ov(n.nanos,r.nanos)}function ay(e){return oy(e)}function oy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Hv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Kv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=oy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(oy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Wp();var t,n}function sy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function uy(e){return!!e&&"integerValue"in e}function cy(e){return!!e&&"arrayValue"in e}function ly(e){return!!e&&"nullValue"in e}function hy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fy(e){return!!e&&"mapValue"in e}function dy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Dv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=dy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function py(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var vy=function(){function e(t){h(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!fy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dy(t)}},{key:"setAll",value:function(e){var t=this,n=dv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());fy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ty(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];fy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Dv(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(dy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function yy(e){var t=[];return Dv(e.fields,(function(e,n){var r=new dv([e]);if(fy(n)){var i=yy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new qv(t)}var my=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(cv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=vy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=vy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=cv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,cv.min(),cv.min(),cv.min(),vy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,cv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,cv.min(),cv.min(),vy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,cv.min(),cv.min(),vy.empty(),2)}}]),e}(),gy=v((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function ky(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?pv.comparator(pv.fromName(o.referenceValue),n.key):ry(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function by(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ty(e.position[n],t.position[n]))return!1;return!0}var _y=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function wy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var xy=v((function e(){h(this,e)})),Sy=function(e){g(n,e);var t=w(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ry(t,this.value)):null!==t&&ey(this.value)===ey(t)&&this.matchesComparison(ry(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wp()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ay(e,t,r):"array-contains"===t?new Ly(e,r):"in"===t?new Fy(e,r):"not-in"===t?new Uy(e,r):"array-contains-any"===t?new jy(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Oy(e,n):new Dy(e,n)}}]),n}(xy),Ey=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return v(n,[{key:"matches",value:function(e){return Cy(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(xy);function Cy(e){return"and"===e.op}function Ty(e){return Iy(e)&&Cy(e)}function Iy(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Ey)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Ny(e){if(e instanceof Sy)return e.field.canonicalString()+e.op.toString()+ay(e.value);if(Ty(e))return e.filters.map((function(e){return Ny(e)})).join(",");var t=e.filters.map((function(e){return Ny(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Py(e,t){return e instanceof Sy?function(e,t){return t instanceof Sy&&e.op===t.op&&e.field.isEqual(t.field)&&ty(e.value,t.value)}(e,t):e instanceof Ey?function(e,t){return t instanceof Ey&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Py(n,t.filters[r])}),!0)}(e,t):void Wp()}function Ry(e){return e instanceof Sy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ay(e.value))}(e):e instanceof Ey?function(e){return e.op.toString()+" {"+e.getFilters().map(Ry).join(" ,")+"}"}(e):"Filter"}var Ay=function(e){g(n,e);var t=w(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=pv.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=pv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Sy),Oy=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=My("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sy),Dy=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=My("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sy);function My(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return pv.fromName(e.referenceValue)}))}var Ly=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return cy(t)&&ny(t.arrayValue,this.value)}}]),n}(Sy),Fy=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ny(this.value.arrayValue,t)}}]),n}(Sy),Uy=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(ny(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ny(this.value.arrayValue,t)}}]),n}(Sy),jy=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ny(t.value.arrayValue,e)}))}}]),n}(Sy),Vy=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function qy(e){return new Vy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function zy(e){var t=Yp(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Ny(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Tv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ay(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ay(e)})).join(",")),t.dt=n}return t.dt}function By(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Py(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!by(e.startAt,t.startAt)&&by(e.endAt,t.endAt)}function Wy(e){return pv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Hy=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function Yy(e,t,n,r,i,a,o,s){return new Hy(e,t,n,r,i,a,o,s)}function Ky(e){return new Hy(e)}function Gy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $y(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Jy(e){return null!==e.collectionGroup}function Xy(e){var t=Yp(e);if(null===t.wt){t.wt=[];var n=$y(t),r=Qy(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new _y(n)),t.wt.push(new _y(dv.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new _y(dv.keyField(),u))}}}return t.wt}function Zy(e){var t=Yp(e);if(!t._t)if("F"===t.limitType)t._t=qy(t.path,t.collectionGroup,Xy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(Xy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new _y(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new gy(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new gy(t.startAt.position,t.startAt.inclusive):null;t._t=qy(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function em(e,t){t.getFirstInequalityField(),$y(e);var n=e.filters.concat([t]);return new Hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tm(e,t,n){return new Hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nm(e,t){return By(Zy(e),Zy(t))&&e.limitType===t.limitType}function rm(e){return"".concat(zy(Zy(e)),"|lt:").concat(e.limitType)}function im(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ry(e)})).join(", "),"]")),Tv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ay(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ay(e)})).join(",")),"Target(".concat(t,")")}(Zy(e)),"; limitType=").concat(e.limitType,")")}function am(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(Xy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ky(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xy(e),t))&&!(e.endAt&&!function(e,t,n){var r=ky(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xy(e),t))}(e,t)}function om(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sm(e){return function(t,n){var r,i=!1,a=C(Xy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=um(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function um(e,t,n){var r=e.field.isKeyField()?pv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ry(r,i):Wp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wp()}}var cm=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Dv(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Mv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),lm=new Lv(pv.comparator);function hm(){return lm}var fm=new Lv(pv.comparator);function dm(){for(var e=fm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function pm(e){var t=fm;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function vm(){return mm()}function ym(){return mm()}function mm(){return new cm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var gm=new Lv(pv.comparator),km=new jv(pv.comparator);function bm(){for(var e=km,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var _m=new jv(ov);function wm(){return _m}function xm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iv(t)?"-0":t}}function Sm(e){return{integerValue:""+e}}function Em(e,t){return Nv(t)?Sm(t):xm(e,t)}var Cm=v((function e(){h(this,e),this._=void 0}));function Tm(e,t,n){return e instanceof Pm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gv(t)&&(t=Qv(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rm?Am(e,t):e instanceof Om?Dm(e,t):function(e,t){var n=Nm(e,t),r=Lm(n)+Lm(e.gt);return uy(n)&&uy(e.gt)?Sm(r):xm(e.serializer,r)}(e,t)}function Im(e,t,n){return e instanceof Rm?Am(e,t):e instanceof Om?Dm(e,t):n}function Nm(e,t){return e instanceof Mm?uy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Pm=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(Cm),Rm=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Cm);function Am(e,t){var n,r=Fm(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ty(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Om=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Cm);function Dm(e,t){var n,r=Fm(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ty(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mm=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return v(n)}(Cm);function Lm(e){return Yv(e.integerValue||e.doubleValue)}function Fm(e){return cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Um=v((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),jm=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Vm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qm=v((function e(){h(this,e)}));function zm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new eg(e.key,jm.none()):new Km(e.key,e.data,jm.none());var n,r=e.data,i=vy.empty(),a=new jv(dv.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Gm(e.key,i,new qv(a.toArray()),jm.none())}function Bm(e,t,n){e instanceof Km?function(e,t,n){var r=e.value.clone(),i=$m(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gm?function(e,t,n){if(Vm(e.precondition,t)){var r=$m(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wm(e,t,n,r){return e instanceof Km?function(e,t,n,r){if(!Vm(e.precondition,t))return n;var i=e.value.clone(),a=Jm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gm?function(e,t,n,r){if(!Vm(e.precondition,t))return n;var i=Jm(e.fieldTransforms,r,t),a=t.data;return a.setAll(Qm(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Vm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hm(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Nm(a.transform,o||null);null!=s&&(null===r&&(r=vy.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ym(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rm&&t instanceof Rm||e instanceof Om&&t instanceof Om?sv(e.elements,t.elements,ty):e instanceof Mm&&t instanceof Mm?ty(e.gt,t.gt):e instanceof Pm&&t instanceof Pm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Km=function(e){g(n,e);var t=w(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qm),Gm=function(e){g(n,e);var t=w(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(qm);function Qm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $m(e,t,n){var r=new Map;Hp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Im(o,s,n[i]))}return r}function Jm(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Tm(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xm,Zm,eg=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qm),tg=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qm),ng=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Bm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Wm(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Wm(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=ym();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=zm(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(cv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),bm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&sv(this.mutations,e.mutations,(function(e,t){return Ym(e,t)}))&&sv(this.baseMutations,e.baseMutations,(function(e,t){return Ym(e,t)}))}}]),e}(),rg=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){Hp(t.mutations.length===r.length);for(var i=gm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ig=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ag=v((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function og(e){switch(e){default:return Wp();case Kp.CANCELLED:case Kp.UNKNOWN:case Kp.DEADLINE_EXCEEDED:case Kp.RESOURCE_EXHAUSTED:case Kp.INTERNAL:case Kp.UNAVAILABLE:case Kp.UNAUTHENTICATED:return!1;case Kp.INVALID_ARGUMENT:case Kp.NOT_FOUND:case Kp.ALREADY_EXISTS:case Kp.PERMISSION_DENIED:case Kp.FAILED_PRECONDITION:case Kp.ABORTED:case Kp.OUT_OF_RANGE:case Kp.UNIMPLEMENTED:case Kp.DATA_LOSS:return!0}}function sg(e){if(void 0===e)return qp("GRPC error has no .code"),Kp.UNKNOWN;switch(e){case Xm.OK:return Kp.OK;case Xm.CANCELLED:return Kp.CANCELLED;case Xm.UNKNOWN:return Kp.UNKNOWN;case Xm.DEADLINE_EXCEEDED:return Kp.DEADLINE_EXCEEDED;case Xm.RESOURCE_EXHAUSTED:return Kp.RESOURCE_EXHAUSTED;case Xm.INTERNAL:return Kp.INTERNAL;case Xm.UNAVAILABLE:return Kp.UNAVAILABLE;case Xm.UNAUTHENTICATED:return Kp.UNAUTHENTICATED;case Xm.INVALID_ARGUMENT:return Kp.INVALID_ARGUMENT;case Xm.NOT_FOUND:return Kp.NOT_FOUND;case Xm.ALREADY_EXISTS:return Kp.ALREADY_EXISTS;case Xm.PERMISSION_DENIED:return Kp.PERMISSION_DENIED;case Xm.FAILED_PRECONDITION:return Kp.FAILED_PRECONDITION;case Xm.ABORTED:return Kp.ABORTED;case Xm.OUT_OF_RANGE:return Kp.OUT_OF_RANGE;case Xm.UNIMPLEMENTED:return Kp.UNIMPLEMENTED;case Xm.DATA_LOSS:return Kp.DATA_LOSS;default:return Wp()}}(Zm=Xm||(Xm={}))[Zm.OK=0]="OK",Zm[Zm.CANCELLED=1]="CANCELLED",Zm[Zm.UNKNOWN=2]="UNKNOWN",Zm[Zm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zm[Zm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zm[Zm.NOT_FOUND=5]="NOT_FOUND",Zm[Zm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zm[Zm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zm[Zm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zm[Zm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zm[Zm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zm[Zm.ABORTED=10]="ABORTED",Zm[Zm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zm[Zm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zm[Zm.INTERNAL=13]="INTERNAL",Zm[Zm.UNAVAILABLE=14]="UNAVAILABLE",Zm[Zm.DATA_LOSS=15]="DATA_LOSS";var ug=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return v(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return cg}},{key:"getOrCreateInstance",value:function(){return null===cg&&(cg=new e),cg}}]),e}(),cg=null;function lg(){return new TextEncoder}var hg=new Dp([4294967295,4294967295],0);function fg(e){var t=lg().encode(e),n=new Op;return n.update(t),new Uint8Array(n.digest())}function dg(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Dp([n,r],0),new Dp([i,a],0)]}var pg=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vg("Invalid padding: ".concat(n));if(r<0)throw new vg("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new vg("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new vg("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Dp.fromNumber(this.It)}return v(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Dp.fromNumber(n)));return 1===r.compare(hg)&&(r=new Dp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=u(dg(fg(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=u(dg(fg(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),vg=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return v(n)}(S(Error)),yg=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,mg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(cv.min(),i,new Lv(ov),hm(),bm())}}]),e}(),mg=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,bm(),bm(),bm())}}]),e}(),gg=v((function e(t,n,r,i){h(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),kg=v((function e(t,n){h(this,e),this.targetId=t,this.Vt=n})),bg=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),_g=function(){function e(){h(this,e),this.St=0,this.Dt=Sg(),this.Ct=Bv.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return v(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=bm(),t=bm(),n=bm();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wp()}})),new mg(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Sg()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),wg=function(){function e(t){h(this,e),this.Gt=t,this.Qt=new Map,this.jt=hm(),this.zt=xg(),this.Wt=new Lv(ov)}return v(e,[{key:"Ht",value:function(e){var t,n=C(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Wp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(Wy(a))if(0===r){var o=new pv(a.path);this.Yt(n,o,my.newNoDocument(o,cv.min()))}else Hp(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=ug.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,h=void 0===l?0:l,f=r.hashCount,d=void 0===f?0:f;try{a=Kv(c).toUint8Array()}catch(e){if(e instanceof zv)return zp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new pg(a,h,d)}catch(e){return zp(e instanceof vg?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&Wy(a.target)){var o=new pv(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,my.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=bm();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new yg(e,n,this.Wt,this.jt,r);return this.jt=hm(),this.zt=xg(),this.Wt=new Lv(ov),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new _g,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new jv(ov),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||Vp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new _g),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function xg(){return new Lv(pv.comparator)}function Sg(){return new Lv(pv.comparator)}var Eg={asc:"ASCENDING",desc:"DESCENDING"},Cg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tg={and:"AND",or:"OR"},Ig=v((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function Ng(e,t){return e.useProto3Json||Tv(t)?t:{value:t}}function Pg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ag(e,t){return Pg(e,t.toTimestamp())}function Og(e){return Hp(!!e),cv.fromTimestamp(function(e){var t=Hv(e);return new uv(t.seconds,t.nanos)}(e))}function Dg(e,t){return function(e){return new hv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mg(e){var t=hv.fromString(e);return Hp(tk(t)),t}function Lg(e,t){return Dg(e.databaseId,t.path)}function Fg(e,t){var n=Mg(t);if(n.get(1)!==e.databaseId.projectId)throw new Gp(Kp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gp(Kp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pv(qg(n))}function Ug(e,t){return Dg(e.databaseId,t)}function jg(e){var t=Mg(e);return 4===t.length?hv.emptyPath():qg(t)}function Vg(e){return new hv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qg(e){return Hp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zg(e,t,n){return{name:Lg(e,t),fields:n.value.mapValue.fields}}function Bg(e,t){var n;if(t instanceof Km)n={update:zg(e,t.key,t.value)};else if(t instanceof eg)n={delete:Lg(e,t.key)};else if(t instanceof Gm)n={update:zg(e,t.key,t.data),updateMask:ek(t.fieldMask)};else{if(!(t instanceof tg))return Wp();n={verify:Lg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Pm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Om)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mm)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Wp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ag(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wp()}(e,t.precondition)),n}function Wg(e,t){return{documents:[Ug(e,t.path)]}}function Hg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ug(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ug(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Zg(Ey.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Jg(e.field),direction:Gg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=Ng(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Yg(e){var t=jg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Hp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Kg(e);return t instanceof Ey&&Ty(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new _y(Xg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Tv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gy(n,t)}(n.endAt)),Yy(t,i,s,o,u,"F",c,l)}function Kg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Xg(e.unaryFilter.field);return Sy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Xg(e.unaryFilter.field);return Sy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xg(e.unaryFilter.field);return Sy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xg(e.unaryFilter.field);return Sy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wp()}}(e):void 0!==e.fieldFilter?function(e){return Sy.create(Xg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ey.create(e.compositeFilter.filters.map((function(e){return Kg(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Wp()}}(e.compositeFilter.op))}(e):Wp()}function Gg(e){return Eg[e]}function Qg(e){return Cg[e]}function $g(e){return Tg[e]}function Jg(e){return{fieldPath:e.canonicalString()}}function Xg(e){return dv.fromServerFormat(e.fieldPath)}function Zg(e){return e instanceof Sy?function(e){if("=="===e.op){if(hy(e.value))return{unaryFilter:{field:Jg(e.field),op:"IS_NAN"}};if(ly(e.value))return{unaryFilter:{field:Jg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hy(e.value))return{unaryFilter:{field:Jg(e.field),op:"IS_NOT_NAN"}};if(ly(e.value))return{unaryFilter:{field:Jg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jg(e.field),op:Qg(e.op),value:e.value}}}(e):e instanceof Ey?function(e){var t=e.getFilters().map((function(e){return Zg(e)}));return 1===t.length?t[0]:{compositeFilter:{op:$g(e.op),filters:t}}}(e):Wp()}function ek(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var nk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:cv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bv.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),rk=v((function e(t){h(this,e),this.fe=t}));function ik(e){var t=Yg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tm(t,t.limit,"L"):t}var ak=function(){function e(){h(this,e)}return v(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yv(e.integerValue));else if("doubleValue"in e){var n=Yv(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Iv(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Kv(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?py(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Wp()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),pv.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();ak.Ve=new ak;var ok=function(){function e(){h(this,e),this.rn=new sk}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Sv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Sv.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Sv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Sv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Sv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Sv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Sv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Sv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Sv.resolve(gv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Sv.resolve(gv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Sv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Sv.resolve()}}]),e}(),sk=function(){function e(){h(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jv(hv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new jv(hv.comparator)).toArray()}}]),e}();new Uint8Array(0);var uk=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();uk.DEFAULT_COLLECTION_PERCENTILE=10,uk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uk.DEFAULT=new uk(41943040,uk.DEFAULT_COLLECTION_PERCENTILE,uk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uk.DISABLED=new uk(-1,0,0);var ck=function(){function e(t){h(this,e),this.Nn=t}return v(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}();var lk=function(){function e(){h(this,e),this.changes=new cm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,my.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Sv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var hk=v((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),fk=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Wm(r.mutation,e,qv.empty(),uv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,bm()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bm(),i=vm();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=dm();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=vm();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,bm())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hm(),a=mm(),o=mm();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Gm)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Wm(o.mutation,t,o.mutation.getFieldMask(),uv.now())):a.set(t.key,qv.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new hk(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=mm(),i=new Lv((function(e,t){return e-t})),a=bm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||qv.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||bm()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=ym();c.forEach((function(e){if(!a.has(e)){var n=zm(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Sv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return pv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Sv.resolve(vm()),s=-1,u=a;return o.next((function(t){return Sv.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Sv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,bm())})).next((function(e){return{batchId:s,changes:pm(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new pv(t)).next((function(e){var t=dm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=dm();return this.indexManager.getCollectionParents(e,i).next((function(o){return Sv.forEach(o,(function(o){var s=function(e,t){return new Hy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,my.newInvalidDocument(r)))}));var n=dm();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Wm(a.mutation,i,qv.empty(),uv.now()),am(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),dk=function(){function e(t){h(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Sv.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Og(n.createTime)}),Sv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Sv.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:ik(e.bundledQuery),readTime:Og(e.readTime)}}(t)),Sv.resolve()}}]),e}(),pk=function(){function e(){h(this,e),this.overlays=new Lv(pv.comparator),this.ls=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return Sv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=vm();return Sv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Sv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Sv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=vm(),i=t.length+1,a=new pv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Sv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Lv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=vm(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=vm(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Sv.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ig(t,n));var a=this.ls.get(t);void 0===a&&(a=bm(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),vk=function(){function e(){h(this,e),this.fs=new jv(yk.ds),this.ws=new jv(yk._s)}return v(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new yk(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new yk(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new pv(new hv([])),r=new yk(n,e),i=new yk(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new pv(new hv([])),n=new yk(t,e),r=new yk(t,e+1),i=bm();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new yk(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),yk=function(){function e(t,n){h(this,e),this.key=t,this.As=n}return v(e,null,[{key:"ds",value:function(e,t){return pv.comparator(e.key,t.key)||ov(e.As,t.As)}},{key:"_s",value:function(e,t){return ov(e.As,t.As)||pv.comparator(e.key,t.key)}}]),e}(),mk=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new jv(yk.ds)}return v(e,[{key:"checkEmpty",value:function(e){return Sv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ng(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new yk(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Sv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Sv.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Sv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Sv.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Sv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new yk(t,0),i=new yk(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Sv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new jv(ov);return t.forEach((function(e){var t=new yk(e,0),i=new yk(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Sv.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;pv.isDocumentKey(i)||(i=i.child(""));var a=new yk(new pv(i),0),o=new jv(ov);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Sv.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Hp(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Sv.forEach(t.mutations,(function(i){var a=new yk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new yk(t,0),r=this.Rs.firstAfterOrEqual(n);return Sv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Sv.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),gk=function(){function e(t){h(this,e),this.Ds=t,this.docs=new Lv(pv.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Sv.resolve(n?n.document.mutableCopy():my.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():my.newInvalidDocument(e))})),Sv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=hm(),a=t.path,o=new pv(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||kv(mv(l),n)<=0||(r.has(l.key)||am(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Sv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Wp()}},{key:"Cs",value:function(e,t){return Sv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new kk(this)}},{key:"getSize",value:function(e){return Sv.resolve(this.size)}}]),e}(),kk=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this)).os=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Sv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(lk),bk=function(){function e(t){h(this,e),this.persistence=t,this.xs=new cm((function(e){return zy(e)}),By),this.lastRemoteSnapshotVersion=cv.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vk,this.targetCount=0,this.Ms=ck.kn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Sv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Sv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Sv.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Sv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Sv.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new ck(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Sv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Sv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Sv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Sv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Sv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Sv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Sv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Sv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Sv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Sv.resolve(n)}},{key:"containsKey",value:function(e,t){return Sv.resolve(this.ks.containsKey(t))}}]),e}(),_k=function(){function e(t,n){var r=this;h(this,e),this.$s={},this.overlays={},this.Os=new Cv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new bk(this),this.indexManager=new ok,this.remoteDocumentCache=new gk((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new rk(n),this.qs=new dk(this.serializer)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new pk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new mk(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Vp("MemoryPersistence","Starting transaction:",e);var i=new wk(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Sv.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),wk=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(_v),xk=function(){function e(t){h(this,e),this.persistence=t,this.Qs=new vk,this.js=null}return v(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Wp()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Sv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Sv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Sv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sv.forEach(this.Ws,(function(r){var i=pv.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,cv.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Sv.or([function(){return Sv.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}();var Sk=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return v(e,null,[{key:"Li",value:function(t,n){var r,i=bm(),a=bm(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ek=function(){function e(){h(this,e),this.qi=!1}return v(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(Gy(t))return Sv.resolve(null);var r=Zy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=tm(t,null,"F"),r=Zy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=bm.apply(void 0,l(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,tm(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return Gy(t)||r.isEqual(cv.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(jp()<=an.DEBUG&&Vp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),im(t)),i.Wi(e,o,t,yv(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new jv(sm(e));return t.forEach((function(t,r){am(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return jp()<=an.DEBUG&&Vp("QueryEngine","Using full collection scan to execute query:",im(t)),this.Ui.getDocumentsMatchingQuery(e,t,gv.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ck=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Lv(ov),this.Yi=new cm((function(e){return zy(e)}),By),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return v(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fk(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Tk(e,t,n,r){return new Ck(e,t,n,r)}function Ik(e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=bm(),u=C(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=C(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=C(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Pk(e,t){var n=Yp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Sv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Hp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=bm(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Rk(e){var t=Yp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function Ak(e,t){var n=Yp(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Bv.EMPTY_BYTE_STRING,cv.min()).withLastLimboFreeSnapshotVersion(cv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=hm(),u=bm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ok(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(cv.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Sv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function Ok(e,t,n){var r=bm(),i=bm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hm();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(cv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Vp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function Dk(e,t){var n=Yp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Mk(e,t){var n=Yp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Sv.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new nk(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function Lk(e,t,n){return Fk.apply(this,arguments)}function Fk(){return Fk=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Yp(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ev(e.t1)){e.next=12;break}throw e.t1;case 12:Vp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Fk.apply(this,arguments)}function Uk(e,t,n){var r=Yp(e),i=cv.min(),a=bm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Yp(e),i=r.Yi.get(n);return void 0!==i?Sv.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Zy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:cv.min(),n?a:bm())})).next((function(e){return jk(r,om(t),e),{documents:e,ir:a}}))}))}function jk(e,t,n){var r=e.Xi.get(t)||cv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}var Vk=function(){function e(){h(this,e),this.activeTargetIds=wm()}return v(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),qk=function(){function e(){h(this,e),this.Hr=new Vk,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Vk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),zk=function(){function e(){h(this,e)}return v(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Bk=function(){function e(){var t=this;h(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return v(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){Vp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Vp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Wk=null;function Hk(){return null===Wk?Wk=268435456+Math.round(2147483648*Math.random()):Wk++,"0x"+Wk.toString(16)}var Yk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Kk=function(){function e(t){h(this,e),this.ro=t.ro,this.oo=t.oo}return v(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),Gk="WebChannelConnection",Qk=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return v(n,[{key:"Ao",value:function(e,t,n,r){var i=Hk();return new Promise((function(a,o){var s=new Ap;s.setWithCredentials(!0),s.listenOnce(Tp.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Cp.NO_ERROR:var t=s.getResponseJson();Vp(Gk,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Cp.TIMEOUT:Vp(Gk,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Gp(Kp.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:var n=s.getStatus();if(Vp(Gk,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kp).indexOf(t)>=0?t:Kp.UNKNOWN}(u.status);o(new Gp(c,u.message))}else o(new Gp(Kp.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gp(Kp.UNAVAILABLE,"Connection failed."));break;default:Wp()}}finally{Vp(Gk,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Vp(Gk,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Hk(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Sp(),o=Ep(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Pp({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Vp(Gk,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),h=!1,f=!1,d=new Kk({ro:function(t){f?Vp(Gk,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Vp(Gk,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),h=!0),Vp(Gk,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Rp.EventType.OPEN,(function(){f||Vp(Gk,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Rp.EventType.CLOSE,(function(){f||(f=!0,Vp(Gk,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,Rp.EventType.ERROR,(function(t){f||(f=!0,zp(Gk,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Gp(Kp.UNAVAILABLE,"The operation could not be completed")))})),p(l,Rp.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Hp(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Vp(Gk,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Xm[e];if(void 0!==t)return sg(t)}(s),c=o.message;void 0===u&&(u=Kp.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,d.wo(new Gp(u,c)),l.close()}else Vp(Gk,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Ip.STAT_EVENT,(function(t){t.stat===Np.PROXY?Vp(Gk,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Np.NOPROXY&&Vp(Gk,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=Hk(),o=this.To(e,t);Vp("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return Vp("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw zp("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Yk[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function $k(){return"undefined"!=typeof document?document:null}function Jk(e){return new Ig(e,!0)}var Xk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Vp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Zk=function(){function e(t,n,r,i,a,o,s,u){h(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Xk(t,n)}return v(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Kp.RESOURCE_EXHAUSTED?(qp(n.toString()),qp("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Kp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Gp(Kp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return Vp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(Vp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),eb=function(e){g(n,e);var t=w(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return v(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Hp(void 0===t||"string"==typeof t),Bv.fromBase64String(t||"")):(Hp(void 0===t||t instanceof Uint8Array),Bv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Kp.UNKNOWN:sg(e.code);return new Gp(t,e.message||"")}(o);n=new bg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Fg(e,u.document.name),l=Og(u.document.updateTime),h=u.document.createTime?Og(u.document.createTime):cv.min(),f=new vy({mapValue:{fields:u.document.fields}}),d=my.newFoundDocument(c,l,h,f),p=u.targetIds||[],v=u.removedTargetIds||[];n=new gg(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Fg(e,y.document),g=y.readTime?Og(y.readTime):cv.min(),k=my.newNoDocument(m,g),b=y.removedTargetIds||[];n=new gg([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var w=Fg(e,_.document),x=_.removedTargetIds||[];n=new gg([],x,w,null)}else{if(!("filter"in t))return Wp();t.filter;var S=t.filter;S.targetId;var E=S.count,C=void 0===E?0:E,T=S.unchangedNames,I=new ag(C,T),N=S.targetId;n=new kg(N,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return cv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?cv.min():t.readTime?Og(t.readTime):cv.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=Vg(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Wy(r)?{documents:Wg(e,r)}:{query:Hg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Rg(e,t.resumeToken);var i=Ng(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(cv.min())>0){n.readTime=Pg(e,t.snapshotVersion.toTimestamp());var a=Ng(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=Vg(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Zk),tb=function(e){g(n,e);var t=w(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return v(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,nt(k(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Hp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Hp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Og(e.updateTime):Og(t);return n.isEqual(cv.min())&&(n=Og(t)),new Um(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Og(e.commitTime);return this.listener.cu(n,t)}return Hp(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=Vg(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Bg(t.serializer,e)}))};this.Wo(n)}}]),n}(Zk),nb=function(e){g(n,e);var t=w(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return v(n,[{key:"fu",value:function(){if(this.lu)throw new Gp(Kp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Gp(Kp.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection.vo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kp.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Gp(Kp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return v((function e(){h(this,e)}))}());var rb=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return v(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(qp(t),this.mu=!1):Vp("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),ib=v((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=vb(o),!e.t0){e.next=5;break}return Vp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Yp(t)).vu.add(4),e.next=4,sb(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,ab(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new rb(r,i)}));function ab(e){return ob.apply(this,arguments)}function ob(){return(ob=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vb(t)){e.next=18;break}n=C(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function sb(e){return ub.apply(this,arguments)}function ub(){return(ub=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function cb(e,t){var n=Yp(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),pb(n)?db(n):Wb(n).Ko()&&hb(n,t))}function lb(e,t){var n=Yp(e),r=Wb(n);n.Au.delete(t),r.Ko()&&fb(n,t),0===n.Au.size&&(r.Ko()?r.jo():vb(n)&&n.bu.set("Unknown"))}function hb(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(cv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wb(e).su(t)}function fb(e,t){e.Vu.qt(t),Wb(e).iu(t)}function db(e){e.Vu=new wg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Wb(e).start(),e.bu.gu()}function pb(e){return vb(e)&&!Wb(e).Uo()&&e.Au.size>0}function vb(e){return 0===Yp(e).vu.size}function yb(e){e.Vu=void 0}function mb(e){return gb.apply(this,arguments)}function gb(){return(gb=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){hb(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kb(e,t){return bb.apply(this,arguments)}function bb(){return(bb=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yb(t),pb(t)?(t.bu.Iu(n),db(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _b(e,t,n){return wb.apply(this,arguments)}function wb(){return wb=at(rt().mark((function e(t,n,r){var i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof bg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Vp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,xb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof gg?t.Vu.Ht(n):n instanceof kg?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(cv.min())){e.next=29;break}return e.prev=14,e.next=17,Rk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Bv.EMPTY_BYTE_STRING,r.snapshotVersion)),fb(e,t);var i=new nk(r.target,t,n,r.sequenceNumber);hb(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Vp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,xb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),wb.apply(this,arguments)}function xb(e,t,n){return Sb.apply(this,arguments)}function Sb(){return(Sb=at(rt().mark((function e(t,n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ev(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,sb(t);case 5:t.bu.set("Offline"),r||(r=function(){return Rk(t.localStore)}),t.asyncQueue.enqueueRetryable(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,ab(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eb(e,t){return t().catch((function(n){return xb(e,n,t)}))}function Cb(e){return Tb.apply(this,arguments)}function Tb(){return(Tb=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Yp(t),r=Hb(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!Ib(n)){e.next=19;break}return e.prev=3,e.next=6,Dk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,Nb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,xb(n,e.t0);case 17:e.next=2;break;case 19:Pb(n)&&Rb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Ib(e){return vb(e)&&e.Eu.length<10}function Nb(e,t){e.Eu.push(t);var n=Hb(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Pb(e){return vb(e)&&!Hb(e).Uo()&&e.Eu.length>0}function Rb(e){Hb(e).start()}function Ab(e){return Ob.apply(this,arguments)}function Ob(){return(Ob=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hb(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Db(e){return Mb.apply(this,arguments)}function Mb(){return(Mb=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hb(t),r=C(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lb(e,t,n){return Fb.apply(this,arguments)}function Fb(){return(Fb=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=rg.from(i,n,r),e.next=3,Eb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Cb(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ub(e,t){return jb.apply(this,arguments)}function jb(){return jb=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Hb(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!og(i=n.code)||i===Kp.ABORTED){e.next=7;break}return r=t.Eu.shift(),Hb(t).Qo(),e.next=5,Eb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Cb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Pb(t)&&Rb(t);case 5:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Vb(e,t){return qb.apply(this,arguments)}function qb(){return(qb=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Yp(t)).asyncQueue.verifyOperationInProgress(),Vp("RemoteStore","RemoteStore received new credentials"),i=vb(r),r.vu.add(3),e.next=6,sb(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,ab(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zb(e,t){return Bb.apply(this,arguments)}function Bb(){return(Bb=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Yp(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,ab(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,sb(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wb(e){return e.Su||(e.Su=function(e,t,n){var r=Yp(e);return r.fu(),new eb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:mb.bind(null,e),ao:kb.bind(null,e),nu:_b.bind(null,e)}),e.Ru.push(function(){var t=at(rt().mark((function t(n){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),pb(e)?db(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:yb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function Hb(e){return e.Du||(e.Du=function(e,t,n){var r=Yp(e);return r.fu(),new tb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Ab.bind(null,e),ao:Ub.bind(null,e),au:Db.bind(null,e),cu:Lb.bind(null,e)}),e.Ru.push(function(){var t=at(rt().mark((function t(n){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,Cb(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(Vp("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var Yb=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gp(Kp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Kb(e,t){if(qp("AsyncQueue","".concat(t,": ").concat(e)),Ev(e))return new Gp(Kp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Gb=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||pv.comparator(e.key,n.key)}:function(e,t){return pv.comparator(e.key,t.key)},this.keyedMap=dm(),this.sortedSet=new Lv(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Qb=function(){function e(){h(this,e),this.Cu=new Lv(pv.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Wp():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),$b=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Gb.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Jb=v((function e(){h(this,e),this.Nu=void 0,this.listeners=[]})),Xb=v((function e(){h(this,e),this.queries=new cm((function(e){return rm(e)}),nm),this.onlineState="Unknown",this.ku=new Set}));function Zb(e,t){return e_.apply(this,arguments)}function e_(){return e_=at(rt().mark((function e(t,n){var r,i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Yp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Jb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Kb(e.t0,"Initialization of query '".concat(im(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&a_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=at(rt().mark((function e(t,n){var r,i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Yp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){var n,r=Yp(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=C(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.Nu=o}}}catch(h){a.e(h)}finally{a.f()}i&&a_(r)}function i_(e,t,n){var r=Yp(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function a_(e){e.ku.forEach((function(e){e.next()}))}var o_=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new $b(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=$b.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}();var s_=v((function e(t){h(this,e),this.key=t})),u_=v((function e(t){h(this,e),this.key=t})),c_=function(){function e(t,n){h(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=bm(),this.mutatedKeys=bm(),this.tc=sm(t),this.ec=new Gb(this.tc)}return v(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new Qb,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=am(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.rc(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.tc(h,u)>0||c&&n.tc(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wp()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new $b(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Qb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=bm(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new u_(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new s_(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=bm();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return $b.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),l_=v((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),h_=v((function e(t){h(this,e),this.key=t,this.fc=!1})),f_=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new cm((function(e){return rm(e)}),nm),this._c=new Map,this.mc=new Set,this.gc=new Lv(pv.comparator),this.yc=new Map,this.Ic=new vk,this.Tc={},this.Ec=new Map,this.Ac=ck.Mn(),this.onlineState="Unknown",this.vc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=at(rt().mark((function e(t,n){var r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=z_(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,Mk(r.localStore,Zy(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,v_(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&cb(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t,n,r,i){return y_.apply(this,arguments)}function y_(){return y_=at(rt().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=at(rt().mark((function e(t,n,r,i){var a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,Uk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(D_(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Uk(t.localStore,n,!0);case 3:return o=e.sent,s=new c_(n,o.ir),u=s.sc(o.documents),c=mg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),D_(t,r,l.cc),h=new l_(n,r,s),e.abrupt("return",(t.wc.set(n,h),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function m_(e,t){return g_.apply(this,arguments)}function g_(){return(g_=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Yp(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!nm(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Lk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),lb(r.remoteStore,i.targetId),A_(r,i.targetId)})).catch(wv);case 9:e.next=14;break;case 11:return A_(r,i.targetId),e.next=14,Lk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k_(e,t,n){return b_.apply(this,arguments)}function b_(){return b_=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Yp(e),a=uv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),bm());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=hm(),u=bm();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Hm(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Gm(c.key,l,yy(l.value.mapValue),jm.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:pm(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Lv(ov)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,F_(i,a.changes);case 9:return e.next=11,Cb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Kb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),b_.apply(this,arguments)}function __(e,t){return w_.apply(this,arguments)}function w_(){return(w_=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yp(t),e.prev=1,e.next=4,Ak(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Hp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Hp(n.fc):e.removedDocuments.size>0&&(Hp(n.fc),n.fc=!1))})),e.next=8,F_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,wv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function x_(e,t,n){var r=Yp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Yp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&a_(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function S_(e,t,n){return E_.apply(this,arguments)}function E_(){return E_=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Yp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Lv(pv.comparator)).insert(o,my.newNoDocument(o,cv.min())),u=bm().add(o),c=new yg(cv.min(),new Map,new Lv(ov),s,u),e.next=9,__(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),L_(i),e.next=16;break;case 14:return e.next=16,Lk(i.localStore,n,!1).then((function(){return A_(i,n,r)})).catch(wv);case 16:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function C_(e,t){return T_.apply(this,arguments)}function T_(){return(T_=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yp(t),i=n.batch.batchId,e.prev=1,e.next=4,Pk(r.localStore,n);case 4:return a=e.sent,R_(r,i,null),P_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,F_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function I_(e,t,n){return N_.apply(this,arguments)}function N_(){return(N_=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yp(t),e.prev=1,e.next=4,function(e,t){var n=Yp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Hp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,R_(i,n,r),P_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,F_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function P_(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function R_(e,t,n){var r=Yp(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function A_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||O_(e,t)}))}function O_(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(lb(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),L_(e))}function D_(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof s_?(e.Ic.addReference(a.key,t),M_(e,a)):a instanceof u_?(Vp("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||O_(e,a.key)):Wp()}}catch(o){i.e(o)}finally{i.f()}}function M_(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Vp("SyncEngine","New document in limbo: "+n),e.mc.add(r),L_(e))}function L_(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new pv(hv.fromString(t)),r=e.Ac.next();e.yc.set(r,new h_(n)),e.gc=e.gc.insert(n,r),cb(e.remoteStore,new nk(Zy(Ky(n.path)),r,"TargetPurposeLimboResolution",Cv.ct))}}function F_(e,t,n){return U_.apply(this,arguments)}function U_(){return U_=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Yp(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Sk.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Sv.forEach(n,(function(t){return Sv.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Sv.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ev(e.t0)){e.next=10;break}throw e.t0;case 10:Vp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function j_(e,t){return V_.apply(this,arguments)}function V_(){return(V_=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Yp(t)).currentUser.isEqual(n)){e.next=11;break}return Vp("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ik(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Gp(Kp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,F_(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q_(e,t){var n=Yp(e),r=n.yc.get(t);if(r&&r.fc)return bm().add(r.key);var i=bm(),a=n._c.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function z_(e){var t=Yp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=__.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=q_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=S_.bind(null,t),t.dc.nu=r_.bind(null,t.eventManager),t.dc.Pc=i_.bind(null,t.eventManager),t}function B_(e){var t=Yp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=C_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=I_.bind(null,t),t}var W_=function(){function e(){h(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Jk(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Tk(this.persistence,new Ek,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new _k(xk.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new qk}},{key:"terminate",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H_=function(){function e(){h(this,e)}return v(e,[{key:"initialize",value:function(){var e=at(rt().mark((function e(t,n){var r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return x_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=j_.bind(null,this.syncEngine),e.next=12,zb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Xb}},{key:"createDatastore",value:function(e){var t,n=Jk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Qk(t));return function(e,t,n,r){return new nb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return x_(o.syncEngine,e,0)},a=Bk.D()?new Bk:new zk,new ib(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new f_(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yp(t),Vp("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,sb(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Y_=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):qp("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),K_=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lp.UNAUTHENTICATED,this.clientId=av.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Vp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Gp(Kp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(at(rt().mark((function n(){var r;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Kb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function G_(e,t){return Q_.apply(this,arguments)}function Q_(){return Q_=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Vp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ik(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function $_(e,t){return J_.apply(this,arguments)}function J_(){return(J_=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Z_(t);case 3:return r=e.sent,Vp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Vb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Vb(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X_(e){return"FirebaseError"===e.name?e.code===Kp.FAILED_PRECONDITION||e.code===Kp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Z_(e){return ew.apply(this,arguments)}function ew(){return(ew=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Vp("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,G_(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),X_(n=e.t0)){e.next=13;break}throw n;case 13:return zp("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,G_(t,new W_);case 16:e.next=21;break;case 18:return Vp("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,G_(t,new W_);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function tw(e){return nw.apply(this,arguments)}function nw(){return(nw=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Vp("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,$_(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Vp("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,$_(t,new H_);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e){return Z_(e).then((function(e){return e.localStore}))}function iw(e){return tw(e).then((function(e){return e.syncEngine}))}function aw(e){return ow.apply(this,arguments)}function ow(){return(ow=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=d_.bind(null,n.syncEngine),r.onUnlisten=m_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qp;return e.asyncQueue.enqueueAndForget(at(rt().mark((function i(){return rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Y_({next:function(a){t.enqueueAndForget((function(){return t_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Gp(Kp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Gp(Kp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new o_(Ky(n.path),a,{includeMetadataChanges:!0,Ku:!0});return Zb(e,o)},i.next=3,aw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function uw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qp;return e.asyncQueue.enqueueAndForget(at(rt().mark((function i(){return rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Y_({next:function(n){t.enqueueAndForget((function(){return t_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Gp(Kp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new o_(n,a,{includeMetadataChanges:!0,Ku:!0});return Zb(e,o)},i.next=3,aw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function cw(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var lw=new Map;function hw(e,t,n){if(!n)throw new Gp(Kp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fw(e){if(!pv.isDocumentKey(e))throw new Gp(Kp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dw(e){if(pv.isDocumentKey(e))throw new Gp(Kp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Wp()}function vw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gp(Kp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pw(e);throw new Gp(Kp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var yw=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Gp(Kp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gp(Kp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Gp(Kp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cw(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Gp(Kp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Gp(Kp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Gp(Kp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),mw=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new Gp(Kp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Gp(Kp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jp;switch(e.type){case"firstParty":return new tv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gp(Kp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=lw.get(e);t&&(Vp("ComponentProvider","Removing Datastore"),lw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function gw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=vw(e,mw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&zp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Lp.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Gp(Kp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Lp(u)}e._authCredentials=new Xp(new $p(o,s))}}var kw=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new _w(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),bw=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),_w=function(e){g(n,e);var t=w(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Ky(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new kw(this.firestore,null,new pv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(bw);function ww(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),hw("collection","path",t),e instanceof mw){var a=hv.fromString.apply(hv,[t].concat(r));return dw(a),new _w(e,null,a)}if(!(e instanceof kw||e instanceof _w))throw new Gp(Kp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hv.fromString.apply(hv,[t].concat(r)));return dw(o),new _w(e.firestore,null,o)}function xw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),1===arguments.length&&(t=av.A()),hw("doc","path",t),e instanceof mw){var a=hv.fromString.apply(hv,[t].concat(r));return fw(a),new kw(e,null,new pv(a))}if(!(e instanceof kw||e instanceof _w))throw new Gp(Kp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hv.fromString.apply(hv,[t].concat(r)));return fw(o),new kw(e.firestore,e instanceof _w?e.converter:null,new pv(o))}function Sw(e,t){return e=Zt(e),t=Zt(t),e instanceof bw&&t instanceof bw&&e.firestore===t.firestore&&nm(e._query,t._query)&&e.converter===t.converter}var Ew=function(){function e(){var t=this;h(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Xk(this,"async_queue_retry"),this.Xc=function(){var e=$k();e&&Vp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=$k();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return v(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=$k();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Qp;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=at(rt().mark((function e(){var t=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ev(e.t0)){e.next=12;break}throw e.t0;case 12:Vp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Yb.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Wp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=C(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function Cw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Tw=function(e){g(n,e);var t=w(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Ew,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||Nw(this),this._firestoreClient.terminate()}}]),n}(mw);function Iw(e){return e._firestoreClient||Nw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Nw(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Jv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,cw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new K_(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var Pw=function(){function e(t){h(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Bv.fromBase64String(t))}catch(t){throw new Gp(Kp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Bv.fromUint8Array(t))}}]),e}(),Rw=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Gp(Kp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dv(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Aw=v((function e(t){h(this,e),this._methodName=t})),Ow=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Gp(Kp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Gp(Kp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ov(this._lat,e._lat)||ov(this._long,e._long)}}]),e}(),Dw=/^__.*__$/,Mw=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Km(e,this.data,t,this.fieldTransforms)}}]),e}(),Lw=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new Gm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Fw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wp()}}var Uw=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return Zw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Fw(this.ca)&&Dw.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),jw=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Jk(t)}return v(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Uw({ca:e,methodName:t,ga:n,path:dv.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Vw(e){var t=e._freezeSettings(),n=Jk(e._databaseId);return new jw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);Qw("Data must be an object, but it was:",o,r);var s,u,c=Kw(r,o);if(a.merge)s=new qv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=C(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=$w(t,l.value,n);if(!o.contains(d))throw new Gp(Kp.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));ex(h,d)||h.push(d)}}catch(p){f.e(p)}finally{f.f()}s=new qv(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Mw(new vy(c),s,u)}var zw=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Aw);function Bw(e,t,n,r){var i=e.ya(1,t,n);Qw("Data must be an object, but it was:",i,r);var a=[],o=vy.empty();Dv(r,(function(e,r){var s=Xw(t,e,n);r=Zt(r);var u=i.da(s);if(r instanceof zw)a.push(s);else{var c=Yw(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new qv(a);return new Lw(o,s,i.fieldTransforms)}function Ww(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[$w(t,r,n)],u=[i];if(a.length%2!=0)throw new Gp(Kp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push($w(t,a[c])),u.push(a[c+1]);for(var l=[],h=vy.empty(),f=s.length-1;f>=0;--f)if(!ex(l,s[f])){var d=s[f],p=u[f];p=Zt(p);var v=o.da(d);if(p instanceof zw)l.push(d);else{var y=Yw(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new qv(l);return new Lw(h,m,o.fieldTransforms)}function Hw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Yw(n,e.ya(r?4:3,t))}function Yw(e,t){if(Gw(e=Zt(e)))return Qw("Unsupported field value:",t,e),Kw(e,t);if(e instanceof Aw)return function(e,t){if(!Fw(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=Yw(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Zt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Em(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=uv.fromDate(e);return{timestampValue:Pg(t.serializer,n)}}if(e instanceof uv){var r=new uv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pg(t.serializer,r)}}if(e instanceof Ow)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pw)return{bytesValue:Rg(t.serializer,e._byteString)};if(e instanceof kw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Dg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(pw(e)))}(e,t)}function Kw(e,t){var n={};return Mv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dv(e,(function(e,r){var i=Yw(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Gw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof uv||e instanceof Ow||e instanceof Pw||e instanceof kw||e instanceof Aw)}function Qw(e,t,n){if(!Gw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=pw(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function $w(e,t,n){if((t=Zt(t))instanceof Rw)return t._internalPath;if("string"==typeof t)return Xw(e,t);throw Zw("Field path arguments must be of type string or ",e,!1,void 0,n)}var Jw=new RegExp("[~\\*/\\[\\]]");function Xw(e,t,n){if(t.search(Jw)>=0)throw Zw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(Rw,l(t.split(".")))._internalPath}catch(r){throw Zw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Zw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Gp(Kp.INVALID_ARGUMENT,s+e+u)}function ex(e,t){return e.some((function(e){return e.isEqual(t)}))}var tx=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new kw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new nx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(rx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),nx=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return nt(k(n.prototype),"data",this).call(this)}}]),n}(tx);function rx(e,t){return"string"==typeof t?Xw(e,t):t instanceof Rw?t._internalPath:t._delegate._internalPath}function ix(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gp(Kp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ax=v((function e(){h(this,e)})),ox=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(ax);function sx(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof ax&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof lx})).length,n=e.filter((function(e){return e instanceof ux})).length;if(t>1||t>0&&n>0)throw new Gp(Kp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var ux=function(e){g(n,e);var t=w(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=this._parse(e);return dx(e._query,t),new bw(e.firestore,e.converter,em(e._query,t))}},{key:"_parse",value:function(e){var t=Vw(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Gp(Kp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){fx(o,a);var u,c=[],l=C(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(hx(r,e,h))}}catch(f){l.e(f)}finally{l.f()}s={arrayValue:{values:c}}}else s=hx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||fx(o,a),s=Hw(n,"where",o,"in"===a||"not-in"===a);return Sy.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ox);function cx(e,t,n){var r=t,i=rx("where",e);return ux._create(i,r,n)}var lx=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return v(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Ey.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;dx(r,a),r=em(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new bw(e.firestore,e.converter,em(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ax);function hx(e,t,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new Gp(Kp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jy(t)&&-1!==n.indexOf("/"))throw new Gp(Kp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(hv.fromString(n));if(!pv.isDocumentKey(r))throw new Gp(Kp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sy(e,new pv(r))}if(n instanceof kw)return sy(e,n._key);throw new Gp(Kp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(pw(n),"."))}function fx(e,t){if(!Array.isArray(e)||0===e.length)throw new Gp(Kp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dx(e,t){if(t.isInequality()){var n=$y(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Gp(Kp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Qy(e);null!==i&&px(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Gp(Kp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gp(Kp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function px(e,t,n){if(!n.isEqual(t))throw new Gp(Kp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vx=function(){function e(){h(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ey(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wp()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Dv(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Ow(Yv(e.latitude),Yv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Qv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($v(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Hv(e);return new uv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=hv.fromString(e);Hp(tk(n));var r=new Xv(n.get(1),n.get(3)),i=new pv(n.popFirst(5));return r.isEqual(t)||qp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mx=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gx=function(e){g(n,e);var t=w(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return v(n,[{key:"exists",value:function(){return nt(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new kx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(rx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(tx),kx=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt(k(n.prototype),"data",this).call(this,e)}}]),n}(gx),bx=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new mx(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new kx(n._firestore,n._userDataWriter,r.key,r,new mx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gp(Kp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new kx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new kx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:_x(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function _x(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wp()}}function wx(e){e=vw(e,kw);var t=vw(e.firestore,Tw);return sw(Iw(t),e._key).then((function(n){return Rx(t,e,n)}))}var xx=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new Pw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kw(this.firestore,null,t)}}]),n}(vx);function Sx(e){e=vw(e,bw);var t=vw(e.firestore,Tw),n=Iw(t),r=new xx(t);return ix(e._query),uw(n,e._query).then((function(n){return new bx(t,r,e,n)}))}function Ex(e){e=vw(e,bw);var t=vw(e.firestore,Tw),n=Iw(t),r=new xx(t);return function(e,t){var n=new Qp;return e.asyncQueue.enqueueAndForget(at(rt().mark((function r(){return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=at(rt().mark((function e(t,n,r){var i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uk(t,n,!0);case 3:i=e.sent,a=new c_(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Kb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new bx(t,r,e,n)}))}function Cx(e){e=vw(e,bw);var t=vw(e.firestore,Tw),n=Iw(t),r=new xx(t);return uw(n,e._query,{source:"server"}).then((function(n){return new bx(t,r,e,n)}))}function Tx(e,t,n){e=vw(e,kw);for(var r=vw(e.firestore,Tw),i=Vw(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Px(r,[("string"==typeof(t=Zt(t))||t instanceof Rw?Ww(i,"updateDoc",e._key,t,n,o):Bw(i,"updateDoc",e._key,t)).toMutation(e._key,jm.exists(!0))])}function Ix(e,t){var n=vw(e.firestore,Tw),r=xw(e),i=yx(e.converter,t);return Px(n,[qw(Vw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jm.exists(!1))]).then((function(){return r}))}function Nx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Zt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Cw(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Cw(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof kw)l=vw(e.firestore,Tw),h=Ky(e._key.path),c={next:function(t){n[u]&&n[u](Rx(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=vw(e,bw);l=vw(p.firestore,Tw),h=p._query;var v=new xx(l);c={next:function(e){n[u]&&n[u](new bx(l,v,p,e))},error:n[u+1],complete:n[u+2]},ix(e._query)}return function(e,t,n,r){var i=new Y_(r),a=new o_(t,i,n);return e.asyncQueue.enqueueAndForget(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zb,t.next=3,aw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=t_,t.next=3,aw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Iw(l),h,f,c)}function Px(e,t){return function(e,t){var n=new Qp;return e.asyncQueue.enqueueAndForget(at(rt().mark((function r(){return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=k_,r.next=3,iw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Iw(e),t)}function Rx(e,t,n){var r=n.docs.get(t._key),i=new xx(e);return new gx(e,i,t._key,r,new mx(n.hasPendingWrites,n.fromCache),t.converter)}function Ax(){return window}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fp=e}(Qn),zn(new en("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Tw(new Zp(e.getProvider("auth-internal")),new rv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gp(Kp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),tr(Mp,"3.12.0",e),tr(Mp,"3.12.0","esm2017")}();var Ox=2e3;function Dx(e,t,n){return Mx.apply(this,arguments)}function Mx(){return Mx=at(rt().mark((function e(t,n,r){var i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ax(),o=a.BuildInfo,Zr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,qx(n.sessionId);case 4:return s=e.sent,u={},na()?u.ibi=o.packageName:Zi()?u.apn=o.packageName:Yr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Uc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Lx(){return Lx=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ax(),r=n.BuildInfo,i={},na()?i.iosBundleId=r.packageName:Zi()?i.androidPackageName=r.packageName:Yr(t,"operation-not-supported-in-this-environment"),e.next=5,pc(t,i);case 5:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Fx(e){var t=Ax().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ux(e,t,n){return jx.apply(this,arguments)}function jx(){return jx=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ax(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Kr(t,"redirect-cancelled-by-user"))}),Ox))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Zi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),jx.apply(this,arguments)}function Vx(e){var t,n,r,i,a,o,s,u,c,l,h=Ax();Jr("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Jr("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Jr("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Jr("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Jr("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function qx(e){return zx.apply(this,arguments)}function zx(){return(zx=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bx(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bx(e){if(Zr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Wx=20,Hx=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return v(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),nt(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(hc);function Yx(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Jx(),postBody:null,tenantId:e.tenantId,error:Kr(e,"no-auth-event")}}function Kx(e,t){return Xx()._set(Zx(e),t)}function Gx(e){return Qx.apply(this,arguments)}function Qx(){return Qx=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xx()._get(Zx(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Xx()._remove(Zx(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e,t){var n,r,i=function(e){var t=eS(e),n=t.link?decodeURIComponent(t.link):void 0,r=eS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return eS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=eS(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(hL){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Kr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Jx(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Wx;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Xx(){return Bi(Ds)}function Zx(e){return Yi("authEvent",e.config.apiKey,e.name)}function eS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=E(e.split("?"));t[0];return Wt(t.slice(1).join("?"))}var tS=function(){function e(){h(this,e),this._redirectPersistence=Ls,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sc,this._overrideRedirectResult=$u}return v(e,[{key:"_initialize",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Hx(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Yr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=at(rt().mark((function e(t,n,r,i){var a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vx(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Wu.clear(),e.next=10,this._originValidation(t);case 10:return o=Yx(t,r,i),e.next=13,Kx(t,o);case 13:return e.next=15,Dx(t,o,n);case 15:return s=e.sent,e.next=18,Fx(s);case 18:return u=e.sent,e.abrupt("return",Ux(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Lx.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ax(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(at(rt().mark((function n(){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gx(e);case 2:t.onEvent(rS());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=at(rt().mark((function n(r){var i,a;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Gx(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=$x(i,r.url)),t.onEvent(a||rS());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Ax().handleOpenURL=function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(hL){console.error(hL)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),nS=tS;function rS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Kr("no-auth-event")}}var iS=1e3;function aS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function oS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return!("file:"!==aS()&&"ionic:"!==aS()&&"capacitor:"!==aS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function sS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return It()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();return/Edge\/\d+/.test(e)}(e)}function uS(){try{var e=self.localStorage,t=js();if(e)return e.setItem(t,"1"),e.removeItem(t),!sS()||Pt()}catch(hL){return cS()&&Pt()}return!1}function cS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function lS(){return("http:"===aS()||"https:"===aS()||Ct()||oS())&&!(Tt()||Et())&&uS()&&!cS()}function hS(){return oS()&&"undefined"!==typeof document}function fS(){return dS.apply(this,arguments)}function dS(){return(dS=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hS()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),iS);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pS={LOCAL:"local",NONE:"none",SESSION:"session"},vS=Jr,yS="persistence";function mS(e,t){vS(Object.values(pS).includes(t),e,"invalid-persistence-type"),Tt()?vS(t!==pS.SESSION,e,"unsupported-persistence-type"):Et()?vS(t===pS.NONE,e,"unsupported-persistence-type"):cS()?vS(t===pS.NONE||t===pS.LOCAL&&Pt(),e,"unsupported-persistence-type"):vS(t===pS.NONE||uS(),e,"unsupported-persistence-type")}function gS(e){return kS.apply(this,arguments)}function kS(){return kS=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=bS(),r=Yi(yS,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(hL){return null}}var _S=Jr,wS=function(){function e(){h(this,e),this.browserResolver=Bi(Bc),this.cordovaResolver=Bi(nS),this.underlyingResolver=null,this._redirectPersistence=Ls,this._completeRedirectFn=sc,this._overrideRedirectResult=$u}return v(e,[{key:"_initialize",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=at(rt().mark((function e(t,n,r,i){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=at(rt().mark((function e(t,n,r,i){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return hS()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _S(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fS();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xS(e){return e.unwrap()}function SS(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new NS(e,function(e,t){var n,r=Zt(e),i=t;return Jr(t.customData.operationType,r,"argument-error"),Jr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ss._fromError(r,i)}(e,t));else if(r){var i=ES(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ES(e){var t=(e instanceof Rt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Rt)&&"temporaryProof"in t&&"phoneNumber"in t)return Iu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ar.PASSWORD)return null;switch(r){case Ar.GOOGLE:n=lo;break;case Ar.FACEBOOK:n=co;break;case Ar.GITHUB:n=ho;break;case Ar.TWITTER:n=vo;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?fo._create(r,s):$a._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new uo(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Rt?n.credentialFromError(e):n.credentialFromResult(e)}function CS(e,t){return t.catch((function(t){throw t instanceof Rt&&SS(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ES(t)),additionalUserInfo:ws(e),user:PS.getOrCreate(r)}}))}function TS(e,t){return IS.apply(this,arguments)}function IS(){return IS=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return CS(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}var NS=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return v(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return CS(xS(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),PS=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=Zt(e);return Ps.has(t)||Ps.set(t,Ns._fromUser(t)),Ps.get(t)}(t)}return v(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CS(this.auth,Lo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TS(this.auth,wu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CS(this.auth,Vu(this._delegate,t,wS)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gS(ka(this.auth));case 2:return e.abrupt("return",rc(this._delegate,t,wS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CS(this.auth,Uo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return TS(this.auth,function(e,t,n){return Su.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return CS(this.auth,function(e,t,n){return ju.apply(this,arguments)}(this._delegate,e,wS))}},{key:"reauthenticateWithRedirect",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gS(ka(this.auth));case 2:return e.abrupt("return",tc(this._delegate,t,wS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return us(this._delegate,e)}},{key:"unlink",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,So(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ps(Zt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ps(Zt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Tu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ds.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ls.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();PS.USER_MAP=new WeakMap;var RS=Jr,AS=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;RS(r,"invalid-api-key",{appName:t.name}),RS(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wS:void 0;this._delegate=n.initialize({options:{persistence:DS(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Vr),this.linkUnderlyingAuth()}return v(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?PS.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){_a(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return $o.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Jo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Qo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CS(this._delegate,es(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ss.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=io.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RS(lS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ac(this._delegate,wS);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",CS(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ka(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=OS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=OS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return rs.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return Ko(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mS(this._delegate,t),e.t0=t,e.next=e.t0===pS.SESSION?4:e.t0===pS.LOCAL?6:e.t0===pS.NONE?11:13;break;case 4:return n=Ls,e.abrupt("break",14);case 6:return e.next=8,Bi(ou)._isAvailable();case 8:return r=e.sent,n=r?ou:Ds,e.abrupt("break",14);case 11:return n=Hi,e.abrupt("break",14);case 13:return e.abrupt("return",Yr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return CS(this._delegate,function(e){return bo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return CS(this._delegate,Do(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return CS(this._delegate,function(e,t){return zo.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return CS(this._delegate,ns(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return CS(this._delegate,function(e,t,n){return is.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return TS(this._delegate,function(e,t,n){return _u.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RS(lS(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",CS(this._delegate,Fu(this._delegate,t,wS)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RS(lS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,gS(this._delegate);case 3:return e.abrupt("return",Zu(this._delegate,t,wS));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Zo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function OS(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&PS.getOrCreate(e))},error:t,complete:n}}function DS(e,t){var n=function(e,t){var n=bS();if(!n)return[];var r=Yi(yS,e,t);switch(n.getItem(r)){case pS.NONE:return[Hi];case pS.LOCAL:return[ou,Ls];case pS.SESSION:return[Ls];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ou)||n.push(ou),"undefined"!==typeof window)for(var r=0,i=[Ds,Ls];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Hi)||n.push(Hi),n}AS.Persistence=pS;var MS=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new Iu(xS(ul.auth()))}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Iu.credential(e,t)}}]),e}();MS.PHONE_SIGN_IN_METHOD=Iu.PHONE_SIGN_IN_METHOD,MS.PROVIDER_ID=Iu.PROVIDER_ID;var LS,FS=Jr,US=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ul.app();h(this,e),FS(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new gu(t,n,i.auth()),this.type=this._delegate.type}return v(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(LS=ul).INTERNAL.registerComponent(new en("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new AS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Or,PASSWORD_RESET:Dr,RECOVER_EMAIL:Mr,REVERT_SECOND_FACTOR_ADDITION:Lr,VERIFY_AND_CHANGE_EMAIL:Fr,VERIFY_EMAIL:Ur}},EmailAuthProvider:ao,FacebookAuthProvider:co,GithubAuthProvider:ho,GoogleAuthProvider:lo,OAuthProvider:uo,SAMLAuthProvider:po,PhoneAuthProvider:MS,PhoneMultiFactorGenerator:Yc,RecaptchaVerifier:US,TwitterAuthProvider:vo,Auth:AS,AuthCredential:Sa,Error:Rt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),LS.registerVersion("@firebase/auth-compat","0.4.2");var jS={apiKey:"AIzaSyByxdtQH0B6gv6JeRPukjhsaeTuvQJZcJ4",authDomain:"visitor-log-d8b6c.firebaseapp.com",projectId:"visitor-log-d8b6c",storageBucket:"visitor-log-d8b6c.appspot.com",messagingSenderId:"557864423616",appId:"1:557864423616:web:b83c7a34f15fc91a74dd25",measurementId:"G-8RRJWNTKMX"},VS=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Bn("object"==typeof e?e:Jn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=bt("firestore");i&&gw.apply(void 0,[r].concat(l(i)))}return r}(ul.initializeApp(jS)),qS=ul.auth();function zS(e){switch(e){case"Firebase: Error (auth/network-request-failed).":return"Check your internet connection and try again!";case"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found).":return"A user with this email is not registered!";case"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password).":return"Invalid password!";case"Firebase: The email address is already in use by another account. (auth/email-already-in-use).":return"Email is already registered!";default:return e}}var BS=n(933),WS=function(){return WS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WS.apply(this,arguments)};function HS(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(hL){a(hL)}}function s(e){try{u(r.throw(e))}catch(hL){a(hL)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function YS(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(hL){a=[6,hL],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var KS={},GS={},QS={};function $S(e){var t=KS[e];t&&"function"===typeof t&&t(),delete KS[e],delete QS[e]}function JS(e,t,n,r){var i,a=this,o=(null===r||void 0===r?void 0:r.queryKeyHashFn)||BS.hashQueryKey,s=o(t),u=(0,BS.useQueryClient)(),c=function(){return null},l=function(){return null},h=new Promise((function(e,t){c=e,l=t}));if(h.cancel=function(){u.invalidateQueries(e)},null===r||void 0===r?void 0:r.onlyOnce){if(!r.fetchFn)throw new Error("You must specify fetchFn if using onlyOnce mode.");(null===(i=null===r||void 0===r?void 0:r.enabled)||void 0===i||i)&&r.fetchFn().then(c).catch((function(e){l(e)}))}else{if(!!!GS[s]){var f=u.getQueryCache();GS[s]=f.subscribe((function(t){if(t&&t.query.queryHash===o(e)){var r=t.query,i=t.type;if("queryRemoved"===i&&(delete QS[s],function(e){var t=GS[e];t&&(t(),delete GS[e])}(s),$S(s)),"observerAdded"===i||"observerRemoved"===i)if(0===r.getObserversCount())$S(s);else if(!!KS[s]){var l=u.getQueryData(e);!!QS[s]&&c(null!==l&&void 0!==l?l:null)}else KS[s]=n((function(t){return HS(a,void 0,void 0,(function(){var n;return YS(this,(function(r){return null!==(n=QS[s])&&void 0!==n||(QS[s]=0),QS[s]++,1===QS[s]?c(t||null):u.setQueryData(e,t),[2]}))}))}))}}))}}return(0,BS.useQuery)(WS(WS({},r),{queryFn:function(){return h},queryKey:e,retry:!1,staleTime:1/0,refetchInterval:void 0,refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1}))}function XS(e,t){return(0,BS.useMutation)((function(t){return Ix(e,t)}),t)}function ZS(e,t){return HS(this,void 0,void 0,(function(){var n;return YS(this,(function(r){switch(r.label){case 0:return"cache"!==t?[3,2]:[4,Ex(e)];case 1:return n=r.sent(),[3,6];case 2:return"server"!==t?[3,4]:[4,Cx(e)];case 3:return n=r.sent(),[3,6];case 4:return[4,Sx(e)];case 5:n=r.sent(),r.label=6;case 6:return[2,n]}}))}))}function eE(e){return HS(this,void 0,void 0,(function(){return YS(this,(function(t){switch(t.label){case 0:return function(e){return"function"===typeof e}(e)?"function"!==typeof e?[3,2]:[4,e()]:[3,3];case 1:return[2,t.sent()];case 2:case 3:return[2,e]}}))}))}function tE(e){return nE.apply(this,arguments)}function nE(){return(nE=at(rt().mark((function e(t){var n,r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ww(VS,"visitors"),r=sx(n,cx("name","==",t.name.toUpperCase()),cx("signedOut","==","null")),e.next=4,Sx(r);case 4:return i=e.sent,a=sx(n,cx("badge","==",parseInt(t.badge)),cx("signedOut","==","null")),e.next=8,Sx(a);case 8:if(o=e.sent,0===i.docs.length){e.next=12;break}return alert("There is already a user signed in with this name!"),e.abrupt("return",null);case 12:if(0===o.docs.length){e.next=15;break}return alert("This badge is already signed in!"),e.abrupt("return",null);case 15:return e.abrupt("return","valid");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var iE=["children"],aE=["name"],oE=["_f"],sE=["_f"],uE=function(e){return"checkbox"===e.type},cE=function(e){return e instanceof Date},lE=function(e){return null==e},hE=function(e){return"object"===typeof e},fE=function(e){return!lE(e)&&!Array.isArray(e)&&hE(e)&&!cE(e)},dE=function(e){return fE(e)&&e.target?uE(e.target)?e.target.checked:e.target.value:e},pE=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},vE=function(e){var t=e.constructor&&e.constructor.prototype;return fE(t)&&t.hasOwnProperty("isPrototypeOf")},yE="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function mE(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(yE&&(e instanceof Blob||e instanceof FileList)||!n&&!fE(e))return e;if(t=n?[]:{},Array.isArray(e)||vE(e))for(var r in e)t[r]=mE(e[r]);else t=e}return t}var gE=function(e){return Array.isArray(e)?e.filter(Boolean):[]},kE=function(e){return void 0===e},bE=function(e,t,n){if(!t||!fE(e))return n;var r=gE(t.split(/[,[\].]+?/)).reduce((function(e,t){return lE(e)?e:e[t]}),e);return kE(r)||r===e?kE(e[t])?n:e[t]:r},_E={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xE="max",SE="min",EE="maxLength",CE="minLength",TE="pattern",IE="required",NE="validate",PE=t.createContext(null),RE=function(){return t.useContext(PE)},AE=function(e){var n=e.children,r=rE(e,iE);return t.createElement(PE.Provider,{value:r},n)},OE=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==wE.all&&(t._proxyFormState[i]=!r||wE.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i},DE=function(e){return fE(e)&&!Object.keys(e).length},ME=function(e,t,n,r){n(e);e.name;var i=rE(e,aE);return DE(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||wE.all)}))},LE=function(e){return Array.isArray(e)?e:[e]};function FE(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return function(){t&&t.unsubscribe()}}),[e.disabled])}var UE=function(e){return"string"===typeof e},jE=function(e,t,n,r,i){return UE(e)?(r&&t.watch.add(e),bE(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),bE(n,e)})):(r&&(t.watchAll=!0),n)};var VE=function(e){return/^\w*$/.test(e)},qE=function(e){return gE(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function zE(e,t,n){for(var r=-1,i=VE(t)?[t]:qE(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var c=e[s];u=fE(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var BE=function(e,t,n,r,i){return t?Je(Je({},n[e]),{},{types:Je(Je({},n[e]&&n[e].types?n[e].types:{}),{},Qe({},r,i||!0))}):{}},WE=function e(t,n,r){var i,a=C(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=bE(t,o);if(s){var u=s._f,c=rE(s,oE);if(u&&n(u.name)){if(u.ref.focus){u.ref.focus();break}if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else fE(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},HE=function(e){return{isOnSubmit:!e||e===wE.onSubmit,isOnBlur:e===wE.onBlur,isOnChange:e===wE.onChange,isOnAll:e===wE.all,isOnTouch:e===wE.onTouched}},YE=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||l(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},KE=function(e,t,n){var r=gE(bE(e,n));return zE(r,"root",t[n]),zE(e,n,r),e},GE=function(e){return"boolean"===typeof e},QE=function(e){return"file"===e.type},$E=function(e){return"function"===typeof e},JE=function(e){if(!yE)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},XE=function(e){return UE(e)},ZE=function(e){return"radio"===e.type},eC=function(e){return e instanceof RegExp},tC={value:!1,isValid:!1},nC={value:!0,isValid:!0},rC=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!kE(e[0].attributes.value)?kE(e[0].value)||""===e[0].value?nC:{value:e[0].value,isValid:!0}:nC:tC}return tC},iC={isValid:!1,value:null},aC=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),iC):iC};function oC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(XE(e)||Array.isArray(e)&&e.every(XE)||GE(e)&&!e)return{type:n,message:XE(e)?e:"",ref:t}}var sC=function(e){return fE(e)&&!eC(e)?e:{value:e,message:""}},uC=function(){var e=at(rt().mark((function e(t,n,r,i,a){var o,s,u,c,l,h,f,d,p,v,y,m,g,k,b,_,w,x,S,E,C,T,I,N,P,R,A,O,D,M,L,F,U,j,V,q,z,B,W,H,Y,K,G,Q,$,J,X,Z;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,c=o.required,l=o.maxLength,h=o.minLength,f=o.min,d=o.max,p=o.pattern,v=o.validate,y=o.name,m=o.valueAsNumber,g=o.mount,k=o.disabled,b=bE(n,y),g&&!k){e.next=4;break}return e.abrupt("return",{});case 4:if(_=u?u[0]:s,w=function(e){i&&_.reportValidity&&(_.setCustomValidity(GE(e)?"":e||""),_.reportValidity())},x={},S=ZE(s),E=uE(s),C=S||E,T=(m||QE(s))&&kE(s.value)&&kE(b)||JE(s)&&""===s.value||""===b||Array.isArray(b)&&!b.length,I=BE.bind(null,y,r,x),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:EE,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:CE,a=e?t:n;x[y]=Je({type:e?r:i,message:a,ref:s},I(e?r:i,a))},!(a?!Array.isArray(b)||!b.length:c&&(!C&&(T||lE(b))||GE(b)&&!b||E&&!rC(u).isValid||S&&!aC(u).isValid))){e.next=20;break}if(P=XE(c)?{value:!!c,message:c}:sC(c),R=P.value,A=P.message,!R){e.next=20;break}if(x[y]=Je({type:IE,message:A,ref:_},I(IE,A)),r){e.next=20;break}return w(A),e.abrupt("return",x);case 20:if(T||lE(f)&&lE(d)){e.next=29;break}if(M=sC(d),L=sC(f),lE(b)||isNaN(b)?(U=s.valueAsDate||new Date(b),j=function(e){return new Date((new Date).toDateString()+" "+e)},V="time"==s.type,q="week"==s.type,UE(M.value)&&b&&(O=V?j(b)>j(M.value):q?b>M.value:U>new Date(M.value)),UE(L.value)&&b&&(D=V?j(b)<j(L.value):q?b<L.value:U<new Date(L.value))):(F=s.valueAsNumber||(b?+b:b),lE(M.value)||(O=F>M.value),lE(L.value)||(D=F<L.value)),!O&&!D){e.next=29;break}if(N(!!O,M.message,L.message,xE,SE),r){e.next=29;break}return w(x[y].message),e.abrupt("return",x);case 29:if(!l&&!h||T||!(UE(b)||a&&Array.isArray(b))){e.next=39;break}if(z=sC(l),B=sC(h),W=!lE(z.value)&&b.length>+z.value,H=!lE(B.value)&&b.length<+B.value,!W&&!H){e.next=39;break}if(N(W,z.message,B.message),r){e.next=39;break}return w(x[y].message),e.abrupt("return",x);case 39:if(!p||T||!UE(b)){e.next=46;break}if(Y=sC(p),K=Y.value,G=Y.message,!eC(K)||b.match(K)){e.next=46;break}if(x[y]=Je({type:TE,message:G,ref:s},I(TE,G)),r){e.next=46;break}return w(G),e.abrupt("return",x);case 46:if(!v){e.next=80;break}if(!$E(v)){e.next=59;break}return e.next=50,v(b,n);case 50:if(Q=e.sent,!($=oC(Q,_))){e.next=57;break}if(x[y]=Je(Je({},$),I(NE,$.message)),r){e.next=57;break}return w($.message),e.abrupt("return",x);case 57:e.next=80;break;case 59:if(!fE(v)){e.next=80;break}J={},e.t0=rt().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(X=e.t1.value,DE(J)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=oC,e.next=69,v[X](b,n);case 69:e.t3=e.sent,e.t4=_,e.t5=X,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(J=Je(Je({},Z),I(X,Z.message)),w(Z.message),r&&(x[y]=J)),e.next=62;break;case 76:if(DE(J)){e.next=80;break}if(x[y]=Je({ref:_},J),r){e.next=80;break}return e.abrupt("return",x);case 80:return w(!0),e.abrupt("return",x);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function cC(e,t){var n=Array.isArray(t)?t:VE(t)?[t]:qE(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=kE(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(fE(r)&&DE(r)||Array.isArray(r)&&function(e){for(var t in e)if(!kE(e[t]))return!1;return!0}(r))&&cC(e,n.slice(0,-1)),e}function lC(){var e=[];return{get observers(){return e},next:function(t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var hC=function(e){return lE(e)||!hE(e)};function fC(e,t){if(hC(e)||hC(t))return e===t;if(cE(e)&&cE(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(cE(s)&&cE(u)||fE(s)&&fE(u)||Array.isArray(s)&&Array.isArray(u)?!fC(s,u):s!==u)return!1}}return!0}var dC=function(e){return"select-multiple"===e.type},pC=function(e){return ZE(e)||uE(e)},vC=function(e){return JE(e)&&e.isConnected},yC=function(e){for(var t in e)if($E(e[t]))return!0;return!1};function mC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(fE(e)||n)for(var r in e)Array.isArray(e[r])||fE(e[r])&&!yC(e[r])?(t[r]=Array.isArray(e[r])?[]:{},mC(e[r],t[r])):lE(e[r])||(t[r]=!0);return t}function gC(e,t,n){var r=Array.isArray(e);if(fE(e)||r)for(var i in e)Array.isArray(e[i])||fE(e[i])&&!yC(e[i])?kE(t)||hC(n[i])?n[i]=Array.isArray(e[i])?mC(e[i],[]):Je({},mC(e[i])):gC(e[i],lE(t)?{}:t[i],n[i]):n[i]=!fC(e[i],t[i]);return n}var kC=function(e,t){return gC(e,t,mC(t))},bC=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return kE(e)?e:n?""===e?NaN:e?+e:e:r&&UE(e)?new Date(e):i?i(e):e};function _C(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return QE(t)?t.files:ZE(t)?aC(e.refs).value:dC(t)?l(t.selectedOptions).map((function(e){return e.value})):uE(t)?rC(e.refs).value:bC(kE(t.value)?e.ref.value:t.value,e)}var wC=function(e,t,n,r){var i,a={},o=C(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=bE(t,s);u&&zE(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:l(e),fields:a,shouldUseNativeValidation:r}},xC=function(e){return kE(e)?e:eC(e)?e.source:fE(e)?eC(e.value)?e.value.source:e.value:e},SC=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function EC(e,t,n){var r=bE(e,n);if(r||VE(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=bE(t,a),s=bE(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var CC=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},TC=function(e,t){return!gE(bE(e,t)).length&&cC(e,t)},IC={mode:wE.onSubmit,reValidateMode:wE.onChange,shouldFocusError:!0};function NC(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=Je(Je({},IC),t),i={submitCount:0,isDirty:!1,isLoading:$E(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(fE(r.defaultValues)||fE(r.values))&&mE(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:mE(o),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h=0,f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:lC(),array:lC(),state:lC()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=HE(r.mode),y=HE(r.reValidateMode),m=r.criteriaMode===wE.all,g=function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=DE,e.next=5,x();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,E(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&d.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return f.isValidating&&d.state.next({isValidating:e})},b=function(e,t,n,r){var i=bE(a,e);if(i){var c=bE(s,e,kE(n)?bE(o,e):n);kE(c)||r&&r.defaultChecked||t?zE(s,e,t?c:_C(i._f)):N(e,c),u.mount&&g()}},_=function(e,t,n,r,a){var s=!1,u=!1,c={name:e};if(!n||r){f.isDirty&&(u=i.isDirty,i.isDirty=c.isDirty=T(),s=u!==c.isDirty);var l=fC(bE(o,e),t);u=bE(i.dirtyFields,e),l?cC(i.dirtyFields,e):zE(i.dirtyFields,e,!0),c.dirtyFields=i.dirtyFields,s=s||f.dirtyFields&&u!==!l}if(n){var h=bE(i.touchedFields,e);h||(zE(i.touchedFields,e,n),c.touchedFields=i.touchedFields,s=s||f.touchedFields&&h!==n)}return s&&a&&d.state.next(c),s?c:{}},w=function(n,r,a,o){var s=bE(i.errors,n),u=f.isValid&&GE(r)&&i.isValid!==r;if(t.delayError&&a?(e=function(e){return function(t){clearTimeout(h),h=setTimeout(e,t)}}((function(){return function(e,t){zE(i.errors,e,t),d.state.next({errors:i.errors})}(n,a)})),e(t.delayError)):(clearTimeout(h),e=null,a?zE(i.errors,n,a):cC(i.errors,n)),(a?!fC(s,a):s)||!DE(o)||u){var c=Je(Je(Je({},o),u&&GE(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=Je(Je({},i),c),d.state.next(c)}k(!1)},x=function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(s,r.context,wC(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=at(rt().mark((function e(t){var n,r,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(n=e.sent,r=n.errors,t){a=C(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=bE(r,s))?zE(i.errors,s,u):cC(i.errors,s)}catch(c){a.e(c)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=at(rt().mark((function e(t,n){var a,o,u,l,h,f,d,p=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=rt().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(u=t[o])){e.next=21;break}if(l=u._f,h=rE(u,sE),!l){e.next=17;break}return f=c.array.has(l.name),e.next=11,uC(u,s,m,r.shouldUseNativeValidation&&!n,f);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(bE(d,l.name)?f?KE(i.errors,d,l.name):zE(i.errors,l.name,d[l.name]):cC(i.errors,l.name));case 17:if(e.t2=h,!e.t2){e.next=21;break}return e.next=21,E(h,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e,t){return e&&t&&zE(s,e,t),!fC(D(),o)},I=function(e,t,n){return jE(e,c,Je({},u.mount?s:kE(t)?o:UE(e)?Qe({},e,t):t),n,t)},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=bE(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&zE(s,e,bC(t,o)),i=JE(o.ref)&&lE(t)?"":t,dC(o.ref)?l(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?uE(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):QE(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||d.values.next({name:e,values:Je({},s)})))}(n.shouldDirty||n.shouldTouch)&&_(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&O(e)},P=function e(t,n,r){for(var i in n){var o=n[i],s="".concat(t,".").concat(i),u=bE(a,s);!c.array.has(t)&&hC(o)&&(!u||u._f)||cE(o)?N(s,o,r):e(s,o,r)}},R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=bE(a,e),h=c.array.has(e),p=mE(t);zE(s,e,p),h?(d.array.next({name:e,values:Je({},s)}),(f.isDirty||f.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:kC(o,s),isDirty:T(e,p)})):!l||l._f||lE(p)?N(e,p,r):P(e,p,r),YE(e,c)&&d.state.next(Je({},i)),d.values.next({name:e,values:Je({},s)}),!u.mount&&n()},A=function(){var t=at(rt().mark((function t(n){var o,u,l,h,p,b,S,C,T,I,N,P,R,A,D,M,L;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,u=o.name,l=!0,h=bE(a,u),p=function(){return o.type?_C(h._f):dE(n)},!h){t.next=47;break}if(C=p(),T=n.type===_E.BLUR||n.type===_E.FOCUS_OUT,I=!SC(h._f)&&!r.resolver&&!bE(i.errors,u)&&!h._f.deps||CC(T,bE(i.touchedFields,u),i.isSubmitted,y,v),N=YE(u,c,T),zE(s,u,C),T?(h._f.onBlur&&h._f.onBlur(n),e&&e(0)):h._f.onChange&&h._f.onChange(n),P=_(u,C,T,!1),R=!DE(P)||N,!T&&d.values.next({name:u,type:n.type,values:Je({},s)}),!I){t.next=18;break}return f.isValid&&g(),t.abrupt("return",R&&d.state.next(Je({name:u},N?{}:P)));case 18:if(!T&&N&&d.state.next(Je({},i)),k(!0),!r.resolver){t.next=32;break}return t.next=23,x([u]);case 23:A=t.sent,D=A.errors,M=EC(i.errors,a,u),L=EC(D,a,M.name||u),b=L.error,u=L.name,S=DE(D),t.next=46;break;case 32:return t.next=34,uC(h,s,m,r.shouldUseNativeValidation);case 34:if(t.t0=u,b=t.sent[t.t0],!(l=isNaN(C)||C===bE(s,u,C))){t.next=46;break}if(!b){t.next=42;break}S=!1,t.next=46;break;case 42:if(!f.isValid){t.next=46;break}return t.next=45,E(a,!0);case 45:S=t.sent;case 46:l&&(h._f.deps&&O(h._f.deps),w(u,S,b,P));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=at(rt().mark((function e(t){var n,o,s,u,l,h=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},u=LE(t),k(!0),!r.resolver){e.next=11;break}return e.next=6,S(kE(t)?t:u);case 6:l=e.sent,o=DE(l),s=t?!u.some((function(e){return bE(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(u.map(function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bE(a,t),e.next=3,E(n&&n._f?Qe({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||i.isValid)&&g(),e.next=21;break;case 18:return e.next=20,E(a);case 20:s=o=e.sent;case 21:return d.state.next(Je(Je(Je({},!UE(t)||f.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!s&&WE(a,(function(e){return e&&bE(i.errors,e)}),t?u:c.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=Je(Je({},o),u.mount?s:{});return kE(e)?t:UE(e)?bE(t,e):e.map((function(e){return bE(t,e)}))},M=function(e,t){return{invalid:!!bE((t||i).errors,e),isDirty:!!bE((t||i).dirtyFields,e),isTouched:!!bE((t||i).touchedFields,e),error:bE((t||i).errors,e)}},L=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=C(e?LE(e):c.mount);try{for(u.s();!(t=u.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),n.keepValue||(cC(a,l),cC(s,l)),!n.keepError&&cC(i.errors,l),!n.keepDirty&&cC(i.dirtyFields,l),!n.keepTouched&&cC(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&cC(o,l)}}catch(h){u.e(h)}finally{u.f()}d.values.next({values:Je({},s)}),d.state.next(Je(Je({},i),n.keepDirty?{isDirty:T()}:{})),!n.keepIsValid&&g()},F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=bE(a,t),h=GE(n.disabled);return zE(a,t,Je(Je({},i||{}),{},{_f:Je(Je({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?h&&zE(s,t,n.disabled?void 0:bE(s,t,_C(i._f))):b(t,!0,n.value),Je(Je(Je({},h?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:xC(n.min),max:xC(n.max),minLength:xC(n.minLength),maxLength:xC(n.maxLength),pattern:xC(n.pattern)}:{}),{},{name:t,onChange:A,onBlur:A,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(s){if(s){e(t,n),i=bE(a,t);var h=kE(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,f=pC(h),d=i._f.refs||[];if(f?d.find((function(e){return e===h})):h===i._f.ref)return;zE(a,t,{_f:Je(Je({},i._f),f?{refs:[].concat(l(d.filter(vC)),[h],l(Array.isArray(bE(o,t))?[{}]:[])),ref:{type:h.type,name:t}}:{ref:h})}),b(t,!1,void 0,h)}else(i=bE(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!pE(c.array,t)||!u.action)&&c.unMount.add(t)}))})},U=function(){return r.shouldFocusError&&WE(a,(function(e){return e&&bE(i.errors,e)}),c.mount)},j=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,h=mE(l),v=e&&!DE(e)?h:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var y,m=C(c.mount);try{for(m.s();!(y=m.n()).done;){var g=y.value;bE(i.dirtyFields,g)?zE(v,g,bE(s,g)):R(g,bE(v,g))}}catch(E){m.e(E)}finally{m.f()}}else{if(yE&&kE(e)){var k,b=C(c.mount);try{for(b.s();!(k=b.n()).done;){var _=k.value,w=bE(a,_);if(w&&w._f){var x=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(JE(x)){var S=x.closest("form");if(S){S.reset();break}}}}}catch(E){b.e(E)}finally{b.f()}}a={}}s=t.shouldUnregister?r.keepDefaultValues?mE(o):{}:h,d.array.next({values:Je({},v)}),d.values.next({values:Je({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&n(),u.mount=!f.isValid||!!r.keepIsValid,u.watch=!!t.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||fC(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?kC(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},V=function(e,t){return j($E(e)?e(s):e,t)};return{control:{register:F,unregister:L,getFieldState:M,_executeSchema:x,_getWatch:I,_getDirty:T,_updateValid:g,_removeUnmounted:function(){var e,t=C(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=bE(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!vC(e)})):!vC(r._f.ref))&&L(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(u.action=!0,l&&Array.isArray(bE(a,e))){var h=n(bE(a,e),r.argA,r.argB);c&&zE(a,e,h)}if(l&&Array.isArray(bE(i.errors,e))){var p=n(bE(i.errors,e),r.argA,r.argB);c&&zE(i.errors,e,p),TC(i.errors,e)}if(f.touchedFields&&l&&Array.isArray(bE(i.touchedFields,e))){var v=n(bE(i.touchedFields,e),r.argA,r.argB);c&&zE(i.touchedFields,e,v)}f.dirtyFields&&(i.dirtyFields=kC(o,s)),d.state.next({name:e,isDirty:T(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else zE(s,e,t)},_getFieldArray:function(e){return gE(bE(u.mount?s:o,e,t.shouldUnregister?bE(o,e,[]):[]))},_reset:j,_resetDefaultValues:function(){return $E(r.defaultValues)&&r.defaultValues().then((function(e){V(e,r.resetOptions),d.state.next({isLoading:!1})}))},_updateFormState:function(e){i=Je(Je({},i),e)},_subjects:d,_proxyFormState:f,get _fields(){return a},get _formValues(){return s},get _state(){return u},set _state(e){u=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=Je(Je({},r),e)}},trigger:O,register:F,handleSubmit:function(e,t){return function(){var n=at(rt().mark((function n(o){var u,c,l,h;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=mE(s),d.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,x();case 6:c=n.sent,l=c.errors,h=c.values,i.errors=l,u=h,n.next=15;break;case 13:return n.next=15,E(a);case 15:if(cC(i.errors,"root"),!DE(i.errors)){n.next=22;break}return d.state.next({errors:{}}),n.next=20,e(u,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(Je({},i.errors),o);case 25:U(),setTimeout(U);case 27:d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:DE(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},watch:function(e,t){return $E(e)?d.values.subscribe({next:function(n){return e(I(void 0,t),n)}}):I(e,t,!0)},setValue:R,getValues:D,reset:V,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bE(a,e)&&(kE(t.defaultValue)?R(e,bE(o,e)):(R(e,t.defaultValue),zE(o,e,t.defaultValue)),t.keepTouched||cC(i.touchedFields,e),t.keepDirty||(cC(i.dirtyFields,e),i.isDirty=t.defaultValue?T(e,bE(o,e)):T()),t.keepError||(cC(i.errors,e),f.isValid&&g()),d.state.next(Je({},i)))},clearErrors:function(e){e&&LE(e).forEach((function(e){return cC(i.errors,e)})),d.state.next({errors:e?i.errors:{}})},unregister:L,setError:function(e,t,n){var r=(bE(a,e,{_f:{}})._f||{}).ref;zE(i.errors,e,Je(Je({},t),{},{ref:r})),d.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=bE(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:M}}function PC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=u(t.useState({isDirty:!1,isValidating:!1,isLoading:$E(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:$E(e.defaultValues)?void 0:e.defaultValues}),2),i=r[0],a=r[1];n.current||(n.current=Je(Je({},NC(e,(function(){return a((function(e){return Je({},e)}))}))),{},{formState:i}));var o=n.current.control;return o._options=e,FE({subject:o._subjects.state,next:function(e){ME(e,o._proxyFormState,o._updateFormState,!0)&&a(Je({},o._formState))}}),t.useEffect((function(){e.values&&!fC(e.values,o._defaultValues)?o._reset(e.values,o._options.resetOptions):o._resetDefaultValues()}),[e.values,o]),t.useEffect((function(){o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(Je({},o._formState))),o._removeUnmounted()})),n.current.formState=OE(i,o),n.current}var RC=n(164);function AC(){return AC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AC.apply(this,arguments)}var OC="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,DC={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},MC=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],LC=function(e,t,n,r,i){var a=i.offsetX,o=i.offsetY,s=r?8:0,u=n.split(" "),c=e.top+e.height/2,l=e.left+e.width/2,h=t.height,f=t.width,d=c-h/2,p=l-f/2,v="",y="0%",m="0%";switch(u[0]){case"top":d-=h/2+e.height/2+s,v="rotate(180deg)  translateX(50%)",y="100%",m="50%";break;case"bottom":d+=h/2+e.height/2+s,v="rotate(0deg) translateY(-100%) translateX(-50%)",m="50%";break;case"left":p-=f/2+e.width/2+s,v=" rotate(90deg)  translateY(50%) translateX(-25%)",m="100%",y="50%";break;case"right":p+=f/2+e.width/2+s,v="rotate(-90deg)  translateY(-150%) translateX(25%)",y="50%"}switch(u[1]){case"top":d=e.top,y=e.height/2+"px";break;case"bottom":d=e.top-h+e.height,y=h-e.height/2+"px";break;case"left":p=e.left,m=e.width/2+"px";break;case"right":p=e.left-f+e.width,m=f-e.width/2+"px"}return{top:d="top"===u[0]?d-o:d+o,left:p="left"===u[0]?p-a:p+a,transform:v,arrowLeft:m,arrowTop:y}},FC=function(e,t,n,r,i,a){var o=i.offsetX,s=i.offsetY,u={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},c=0,l=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof e){var n=document.querySelector(e);null!==n&&(t=n.getBoundingClientRect())}return t}(a),h=Array.isArray(n)?n:[n];for((a||Array.isArray(n))&&(h=[].concat(h,MC));c<h.length;){var f={top:(u=LC(e,t,h[c],r,{offsetX:o,offsetY:s})).top,left:u.left,width:t.width,height:t.height};if(!(f.top<=l.top||f.left<=l.left||f.top+f.height>=l.top+l.height||f.left+f.width>=l.left+l.width))break;c++}return u},UC=0,jC=(0,t.forwardRef)((function(e,n){var r=e.trigger,i=void 0===r?null:r,a=e.onOpen,o=void 0===a?function(){}:a,s=e.onClose,u=void 0===s?function(){}:s,c=e.defaultOpen,l=void 0!==c&&c,h=e.open,f=void 0===h?void 0:h,d=e.disabled,p=void 0!==d&&d,v=e.nested,y=void 0!==v&&v,m=e.closeOnDocumentClick,g=void 0===m||m,k=e.repositionOnResize,b=void 0===k||k,_=e.closeOnEscape,w=void 0===_||_,x=e.on,S=void 0===x?["click"]:x,E=e.contentStyle,C=void 0===E?{}:E,T=e.arrowStyle,I=void 0===T?{}:T,N=e.overlayStyle,P=void 0===N?{}:N,R=e.className,A=void 0===R?"":R,O=e.position,D=void 0===O?"bottom center":O,M=e.modal,L=void 0!==M&&M,F=e.lockScroll,U=void 0!==F&&F,j=e.arrow,V=void 0===j||j,q=e.offsetX,z=void 0===q?0:q,B=e.offsetY,W=void 0===B?0:B,H=e.mouseEnterDelay,Y=void 0===H?100:H,K=e.mouseLeaveDelay,G=void 0===K?100:K,Q=e.keepTooltipInside,$=void 0!==Q&&Q,J=e.children,X=(0,t.useState)(f||l),Z=X[0],ee=X[1],te=(0,t.useRef)(null),ne=(0,t.useRef)(null),re=(0,t.useRef)(null),ie=(0,t.useRef)(null),ae=(0,t.useRef)("popup-"+ ++UC),oe=!!L||!i,se=(0,t.useRef)(0);OC((function(){return Z?(ie.current=document.activeElement,ke(),ye(),pe()):ve(),function(){clearTimeout(se.current)}}),[Z]),(0,t.useEffect)((function(){"boolean"===typeof f&&(f?ue():ce())}),[f,p]);var ue=function(e){Z||p||(ee(!0),setTimeout((function(){return o(e)}),0))},ce=function(e){var t;Z&&!p&&(ee(!1),oe&&(null===(t=ie.current)||void 0===t||t.focus()),setTimeout((function(){return u(e)}),0))},le=function(e){null===e||void 0===e||e.stopPropagation(),Z?ce(e):ue(e)},he=function(e){clearTimeout(se.current),se.current=setTimeout((function(){return ue(e)}),Y)},fe=function(e){null===e||void 0===e||e.preventDefault(),le()},de=function(e){clearTimeout(se.current),se.current=setTimeout((function(){return ce(e)}),G)},pe=function(){oe&&U&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},ve=function(){oe&&U&&(document.getElementsByTagName("body")[0].style.overflow="auto")},ye=function(){var e,t=null===ne||void 0===ne||null===(e=ne.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(t)[0];null===n||void 0===n||n.focus()};(0,t.useImperativeHandle)(n,(function(){return{open:function(){ue()},close:function(){ce()},toggle:function(){le()}}}));var me,ge,ke=function(){if(!oe&&Z&&(null===te||void 0===te?void 0:te.current)&&(null===te||void 0===te?void 0:te.current)&&(null===ne||void 0===ne?void 0:ne.current)){var e,t,n=te.current.getBoundingClientRect(),r=ne.current.getBoundingClientRect(),i=FC(n,r,D,V,{offsetX:z,offsetY:W},$);if(ne.current.style.top=i.top+window.scrollY+"px",ne.current.style.left=i.left+window.scrollX+"px",V&&re.current)re.current.style.transform=i.transform,re.current.style.setProperty("-ms-transform",i.transform),re.current.style.setProperty("-webkit-transform",i.transform),re.current.style.top=(null===(e=I.top)||void 0===e?void 0:e.toString())||i.arrowTop,re.current.style.left=(null===(t=I.left)||void 0===t?void 0:t.toString())||i.arrowLeft}};me=ce,void 0===(ge=w)&&(ge=!0),(0,t.useEffect)((function(){if(ge){var e=function(e){"Escape"===e.key&&me(e)};return document.addEventListener("keyup",e),function(){ge&&document.removeEventListener("keyup",e)}}}),[me,ge]),function(e,n){void 0===n&&(n=!0),(0,t.useEffect)((function(){if(n){var t=function(t){if(9===t.keyCode){var n,r=null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),i=Array.prototype.slice.call(r);if(1===i.length)return void t.preventDefault();var a=i[0],o=i[i.length-1];t.shiftKey&&document.activeElement===a?(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),a.focus())}};return document.addEventListener("keydown",t),function(){n&&document.removeEventListener("keydown",t)}}}),[e,n])}(ne,Z&&oe),function(e,n){void 0===n&&(n=!0),(0,t.useEffect)((function(){if(n){var t=function(){e()};return window.addEventListener("resize",t),function(){n&&window.removeEventListener("resize",t)}}}),[e,n])}(ke,b),function(e,n,r){void 0===r&&(r=!0),(0,t.useEffect)((function(){if(r){var t=function(t){var r=Array.isArray(e)?e:[e],i=!1;r.forEach((function(e){e.current&&!e.current.contains(t.target)||(i=!0)})),t.stopPropagation(),i||n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){r&&(document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t))}}}),[e,n,r])}(i?[ne,te]:[ne],ce,g&&!y);var be=function(){return t.createElement("div",Object.assign({},function(){var e=oe?DC.popupContent.modal:DC.popupContent.tooltip,t={className:"popup-content "+(""!==A?A.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:AC({},e,C,{pointerEvents:"auto"}),ref:ne,onClick:function(e){e.stopPropagation()}};return!L&&S.indexOf("hover")>=0&&(t.onMouseEnter=he,t.onMouseLeave=de),t}(),{key:"C",role:oe?"dialog":"tooltip",id:ae.current}),V&&!oe&&t.createElement("div",{ref:re,style:DC.popupArrow},t.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==A?A.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:AC({position:"absolute"},I)},t.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),J&&"function"===typeof J?J(ce,Z):J)},_e=!(S.indexOf("hover")>=0),we=oe?DC.overlay.modal:DC.overlay.tooltip,xe=[_e&&t.createElement("div",{key:"O","data-testid":"overlay","data-popup":oe?"modal":"tooltip",className:"popup-overlay "+(""!==A?A.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:AC({},we,P,{pointerEvents:g&&y||oe?"auto":"none"}),onClick:g&&y?ce:void 0,tabIndex:-1},oe&&be()),!oe&&be()];return t.createElement(t.Fragment,null,function(){for(var e={key:"T",ref:te,"aria-describedby":ae.current},n=Array.isArray(S)?S:[S],r=0,a=n.length;r<a;r++)switch(n[r]){case"click":e.onClick=le;break;case"right-click":e.onContextMenu=fe;break;case"hover":e.onMouseEnter=he,e.onMouseLeave=de;break;case"focus":e.onFocus=he,e.onBlur=de}if("function"===typeof i){var o=i(Z);return!!i&&t.cloneElement(o,e)}return!!i&&t.cloneElement(i,e)}(),Z&&RC.createPortal(xe,function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e}()))})),VC=jC,qC="@firebase/database",zC="0.14.4",BC="";var WC=function(){function e(t){h(this,e),this.domStorage_=t,this.prefix_="firebase:"}return v(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Dt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),HC=function(){function e(){h(this,e),this.cache_={},this.isInMemoryStorage=!0}return v(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ft(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),YC=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new WC(t)}}catch(hL){}return new HC},KC=YC("localStorage"),GC=YC("sessionStorage"),QC=new fn("@firebase/database"),$C=function(){var e=1;return function(){return e++}}(),JC=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ct(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Yt;n.update(t);var r=n.digest();return ft.encodeByteArray(r)},XC=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Mt(r):r,t+=" "}return t},ZC=null,eT=!0,tT=function(e,t){ct(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(QC.logLevel=an.VERBOSE,ZC=QC.log.bind(QC),t&&GC.set("logging_enabled",!0)):"function"===typeof e?ZC=e:(ZC=null,GC.remove("logging_enabled"))},nT=function(){if(!0===eT&&(eT=!1,null===ZC&&!0===GC.get("logging_enabled")&&tT(!0)),ZC){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XC.apply(null,t);ZC(r)}},rT=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];nT.apply(void 0,[e].concat(n))}},iT=function(){var e="FIREBASE INTERNAL ERROR: "+XC.apply(void 0,arguments);QC.error(e)},aT=function(){var e="FIREBASE FATAL ERROR: ".concat(XC.apply(void 0,arguments));throw QC.error(e),new Error(e)},oT=function(){var e="FIREBASE WARNING: "+XC.apply(void 0,arguments);QC.warn(e)},sT=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},uT="[MIN_NAME]",cT="[MAX_NAME]",lT=function(e,t){if(e===t)return 0;if(e===uT||t===cT)return-1;if(t===uT||e===cT)return 1;var n=gT(e),r=gT(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},hT=function(e,t){return e===t?0:e<t?-1:1},fT=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Mt(t))},dT=function e(t){if("object"!==typeof t||null===t)return Mt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Mt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},pT=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function vT(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var yT=function(e){ct(!sT(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var mT=new RegExp("^-?(0*)\\d{1,10}$"),gT=function(e){if(mT.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},kT=function(e){try{e()}catch(hL){setTimeout((function(){var t=hL.stack||"";throw oT("Exception was thrown by user callback.",t),hL}),Math.floor(0))}},bT=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},_T=function(){function e(t,n){var r=this;h(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){oT('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),wT=function(){function e(t,n,r){var i=this;h(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(nT("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oT(e)}}]),e}(),xT=function(){function e(t){h(this,e),this.accessToken=t}return v(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();xT.OWNER="owner";var ST="5",ET=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CT="ac",TT="websocket",IT="long_polling",NT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];h(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=KC.get("host:"+t)||this._host}return v(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&KC.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function PT(e,t,n){var r;if(ct("string"===typeof t,"typeof type must == string"),ct("object"===typeof n,"typeof params must == object"),t===TT)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==IT)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return vT(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var RT=function(){function e(){h(this,e),this.counters_={}}return v(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ft(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return mt(void 0,this.counters_)}}]),e}(),AT={},OT={};function DT(e){var t=e.toString();return AT[t]||(AT[t]=new RT),AT[t]}var MT=function(){function e(t){h(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return v(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&kT((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),LT="start",FT=function(){function e(t,n,r,i,a,o,s){var u=this;h(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rT(t),this.stats_=DT(n),this.urlFn=function(e){return u.appCheckToken&&(e[CT]=u.appCheckToken),PT(n,IT,e)}}return v(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new MT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Nt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new UT((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===LT)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[LT]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ST,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[CT]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ET.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Mt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=pt(t),r=pT(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Nt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Mt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Nt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),UT=function(){function e(t,n,r,i){if(h(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Nt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=$C(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(hL){nT("frame writing exception"),hL.stack&&nT(hL.stack),nT(hL)}}}return v(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Nt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){nT("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(hL){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||nT("No IE domain setting required")}catch(hL){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),jT=null;"undefined"!==typeof MozWebSocket?jT=MozWebSocket:"undefined"!==typeof WebSocket&&(jT=WebSocket);var VT=function(){function e(t,n,r,i,a,o,s){h(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rT(this.connId),this.stats_=DT(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return v(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,KC.set("previous_websocket_failure",!0);try{var r;if(Nt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(ST,"/").concat(BC,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyByxdtQH0B6gv6JeRPukjhsaeTuvQJZcJ4",REACT_APP_APP_ID:"1:557864423616:web:b83c7a34f15fc91a74dd25",REACT_APP_AUTH_DOMAIN:"visitor-log-d8b6c.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-8RRJWNTKMX",REACT_APP_MESSAGING_SENDER_ID:"557864423616",REACT_APP_PROJECT_ID:"visitor-log-d8b6c",REACT_APP_STORAGE_BUCKET:"visitor-log-d8b6c.appspot.com"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new jT(this.connURL,[],r)}catch(hL){this.log_("Error instantiating WebSocket.");var s=hL.message||hL.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){KC.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Dt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ct(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Mt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=pT(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(hL){this.log_("Exception thrown from WebSocket.send():",hL.message||hL.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=ST,!Nt()&&"undefined"!==typeof location&&location.hostname&&ET.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[CT]=r),i&&(a.p=i),PT(e,TT,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==jT&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return KC.isInMemoryStorage||!0===KC.get("previous_websocket_failure")}}]),e}();VT.responsesRequiredToBeHealthy=2,VT.healthyTimeout=3e4;var qT=function(){function e(t){h(this,e),this.initTransports_(t)}return v(e,[{key:"initTransports_",value:function(t){var n=VT&&VT.isAvailable(),r=n&&!VT.previouslyFailed();if(t.webSocketOnly&&(n||oT("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[VT];else{var i,a=this.transports_=[],o=C(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[FT,VT]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();qT.globalTransportInitialized_=!1;var zT=function(){function e(t,n,r,i,a,o,s,u,c,l){h(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rT("c:"+this.id+":"),this.transportManager_=new qT(n),this.log_("Connection created"),this.start_()}return v(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=bT((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=fT("t",e),n=fT("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=fT("t",e),n=fT("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=fT("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?iT("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iT("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ST!==n&&oT("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),bT((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bT((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(KC.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),BT=function(){function e(){h(this,e)}return v(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),WT=function(){function e(t){h(this,e),this.allowedEvents_=t,this.listeners_={},ct(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return v(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=l(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ct(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),HT=function(e){g(n,e);var t=w(n);function n(){var e;return h(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||St()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return v(n,[{key:"getInitialEvent",value:function(e){return ct("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(WT),YT=32,KT=768,GT=function(){function e(t,n){if(h(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return v(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function QT(){return new GT("")}function $T(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function JT(e){return e.pieces_.length-e.pieceNum_}function XT(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new GT(e.pieces_,t)}function ZT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function tI(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new GT(t,0)}function nI(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof GT)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new GT(n,0)}function rI(e){return e.pieceNum_>=e.pieces_.length}function iI(e,t){var n=$T(e),r=$T(t);if(null===n)return t;if(n===r)return iI(XT(e),XT(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function aI(e,t){if(JT(e)!==JT(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function oI(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(JT(e)>JT(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var sI=v((function e(t,n){h(this,e),this.errorPrefix_=n,this.parts_=eI(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Jt(this.parts_[r]);uI(this)}));function uI(e){if(e.byteLength_>KT)throw new Error(e.errorPrefix_+"has a key path longer than "+KT+" bytes ("+e.byteLength_+").");if(e.parts_.length>YT)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+YT+") or object contains a cycle "+cI(e))}function cI(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var lI=function(e){g(n,e);var t=w(n);function n(){var e,r,i;return h(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return v(n,[{key:"getInitialEvent",value:function(e){return ct("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(WT),hI=1e3,fI=function(e){g(n,e);var t=w(n);function n(e,r,i,a,o,s,u,c){var l;if(h(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=rT("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=hI,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Nt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return lI.getInstance().on("visible",l.onVisible_,_(l)),-1===e.host.indexOf("fblocal")&&HT.getInstance().on("online",l.onOnline_,_(l)),l}return v(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Mt(i)),ct(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new wt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ct(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ct(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Lt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Lt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ct(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Mt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):iT("Unrecognized action received from server: "+Mt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ct(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hI,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hI),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=at(rt().mark((function e(){var t,r,i,a,o,s,c,l,h,f,d,p,v,y,m=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,i())},h=function(e){ct(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=u(d,2),v=p[0],y=p[1],s?nT("getToken() completed but was canceled"):(nT("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new zT(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){oT(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&oT(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){nT("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){nT("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jt(this.interruptReasons_)&&(this.reconnectDelay_=hI,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return dT(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new GT(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){nT("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){nT("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=C(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=C(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Nt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+BC.replace(/\./g,"-")]=1,St()?e["framework.cordova"]=1:Tt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=HT.getInstance().currentlyOnline();return jt(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ft(e,"w")){var n=Ut(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();oT("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(BT);fI.nextPersistentConnectionId_=0,fI.nextConnectionId_=0;var dI,pI=function(){function e(t,n){h(this,e),this.name=t,this.node=n}return v(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),vI=function(){function e(){h(this,e)}return v(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new pI(uT,e),r=new pI(uT,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return pI.MIN}}]),e}(),yI=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){return lT(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw lt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return pI.MIN}},{key:"maxPost",value:function(){return new pI(cT,dI)}},{key:"makePost",value:function(e,t){return ct("string"===typeof e,"KeyIndex indexValue must always be a string."),new pI(e,dI)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return dI},set:function(e){dI=e}}]),n}(vI),mI=new yI,gI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;h(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return v(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),kI=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:wI.EMPTY_NODE,this.right=null!=a?a:wI.EMPTY_NODE}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return wI.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return wI.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();kI.RED=!0,kI.BLACK=!1;var bI,_I=function(){function e(){h(this,e)}return v(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new kI(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),wI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;h(this,e),this.comparator_=t,this.root_=n}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,kI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,kI.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new gI(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new gI(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new gI(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new gI(this.root_,null,this.comparator_,!0,e)}}]),e}();function xI(e,t){return lT(e.name,t.name)}function SI(e,t){return lT(e,t)}wI.EMPTY_NODE=new _I;var EI,CI,TI,II=function(e){return"number"===typeof e?"number:"+yT(e):"string:"+e},NI=function(e){if(e.isLeafNode()){var t=e.val();ct("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ft(t,".sv"),"Priority must be a string or number.")}else ct(e===bI||e.isEmpty(),"priority of unexpected type.");ct(e===bI||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},PI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;h(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ct(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),NI(this.priorityNode_)}return v(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return rI(t)?this:".priority"===$T(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=$T(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ct(".priority"!==r||1===JT(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(XT(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+II(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?yT(this.value_):this.value_,this.lazyHash_=JC(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ct(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ct(i>=0,"Unknown leaf type: "+n),ct(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return EI},set:function(e){EI=e}}]),e}();PI.VALUE_TYPE_ORDER=["object","boolean","number","string"];var RI,AI,OI=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?lT(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return pI.MIN}},{key:"maxPost",value:function(){return new pI(cT,new PI("[PRIORITY-POST]",TI))}},{key:"makePost",value:function(e,t){var n=CI(e);return new pI(t,new PI("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(vI),DI=new OI,MI=Math.log(2),LI=function(){function e(t){h(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/MI,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return v(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),FI=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new kI(o,a.node,kI.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new kI(o,a.node,kI.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new kI(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,kI.BLACK):(s(h,kI.BLACK),s(h,kI.RED))}return a}(new LI(e.length));return new wI(r||t,a)},UI={},jI=function(){function e(t,n){h(this,e),this.indexes_=t,this.indexSet_=n}return v(e,[{key:"get",value:function(e){var t=Ut(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof wI?t:null}},{key:"hasIndex",value:function(e){return Ft(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ct(t!==mI,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(pI.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?FI(i,t.getCompare()):UI;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Vt(this.indexes_,(function(e,i){var a=Ut(r.indexSet_,i);if(ct(a,"Missing index implementation for "+i),e===UI){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(pI.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),FI(o,a.getCompare())}return UI}var c=n.get(t.name),l=e;return c&&(l=l.remove(new pI(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Vt(this.indexes_,(function(e){if(e===UI)return e;var r=n.get(t.name);return r?e.remove(new pI(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ct(UI&&DI,"ChildrenNode.ts has not been loaded"),RI=RI||new e({".priority":UI},{".priority":DI})}}]),e}(),VI=function(){function e(t,n,r){h(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&NI(this.priorityNode_),this.children_.isEmpty()&&ct(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return v(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||AI}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?AI:t}},{key:"getChild",value:function(e){var t=$T(e);return null===t?this:this.getImmediateChild(t).getChild(XT(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ct(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new pI(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?AI:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=$T(e);if(null===n)return t;ct(".priority"!==$T(e)||1===JT(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(XT(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(DI,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+II(this.getPriority().val())+":"),this.forEachChild(DI,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":JC(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new pI(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new pI(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new pI(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,pI.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,pI.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qI?-1:0}},{key:"withIndex",value:function(t){if(t===mI||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===mI||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(DI),r=t.getIterator(DI),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===mI?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return AI||(AI=new e(new wI(SI),null,jI.Default))}}]),e}();VI.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var qI=new(function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.call(this,new wI(SI),VI.EMPTY_NODE,jI.Default)}return v(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return VI.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(VI));Object.defineProperties(pI,{MIN:{value:new pI(uT,VI.EMPTY_NODE)},MAX:{value:new pI(cT,qI)}}),yI.__EMPTY_NODE=VI.EMPTY_NODE,PI.__childrenNodeConstructor=VI,bI=qI,function(e){TI=e}(qI);var zI=!0;function BI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return VI.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ct(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new PI(e,BI(t));if(e instanceof Array||!zI){var n=VI.EMPTY_NODE;return vT(e,(function(t,r){if(Ft(e,t)&&"."!==t.substring(0,1)){var i=BI(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(BI(t))}var r=[],i=!1;if(vT(e,(function(e,t){if("."!==e.substring(0,1)){var n=BI(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new pI(e,n)))}})),0===r.length)return VI.EMPTY_NODE;var a=FI(r,xI,(function(e){return e.name}),SI);if(i){var o=FI(r,DI.getCompare());return new VI(a,BI(t),new jI({".priority":o},{".priority":DI}))}return new VI(a,BI(t),jI.Default)}!function(e){CI=e}(BI);var WI=function(e){g(n,e);var t=w(n);function n(e){var r;return h(this,n),(r=t.call(this)).indexPath_=e,ct(!rI(e)&&".priority"!==$T(e),"Can't create PathIndex with empty path or .priority key"),r}return v(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?lT(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=BI(e),r=VI.EMPTY_NODE.updateChild(this.indexPath_,n);return new pI(t,r)}},{key:"maxPost",value:function(){var e=VI.EMPTY_NODE.updateChild(this.indexPath_,qI);return new pI(cT,e)}},{key:"toString",value:function(){return eI(this.indexPath_,0).join("/")}}]),n}(vI),HI=function(e){g(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?lT(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return pI.MIN}},{key:"maxPost",value:function(){return pI.MAX}},{key:"makePost",value:function(e,t){var n=BI(e);return new pI(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(vI),YI=new HI;function KI(e){return{type:"value",snapshotNode:e}}function GI(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function QI(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $I(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var JI=function(){function e(t){h(this,e),this.index_=t}return v(e,[{key:"updateChild",value:function(e,t,n,r,i,a){ct(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(QI(t,o)):ct(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(GI(t,n)):a.trackChildChange($I(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(DI,(function(e,r){t.hasChild(e)||n.trackChildChange(QI(e,r))})),t.isLeafNode()||t.forEachChild(DI,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange($I(t,r,i))}else n.trackChildChange(GI(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?VI.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),XI=function(){function e(t){h(this,e),this.indexedFilter_=new JI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return v(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new pI(t,n))||(n=VI.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=VI.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(VI.EMPTY_NODE);var i=this;return t.forEachChild(DI,(function(e,t){i.matches(new pI(e,t))||(r=r.updateImmediateChild(e,VI.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),ZI=function(){function e(t){var n=this;h(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new XI(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return v(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new pI(t,n))||(n=VI.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=VI.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=VI.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(VI.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,VI.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;ct(s.numChildren()===this.limit_,"");var u=new pI(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange($I(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(QI(t,h));var p=s.updateImmediateChild(t,VI.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(GI(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(QI(c.name,c.node)),i.trackChildChange(GI(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,VI.EMPTY_NODE)):e}}]),e}(),eN=function(){function e(){h(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=DI}return v(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ct(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ct(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:uT}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ct(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ct(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cT}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ct(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===DI}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function tN(e){var t,n={};if(e.isDefault())return n;if(e.index_===DI?t="$priority":e.index_===YI?t="$value":e.index_===mI?t="$key":(ct(e.index_ instanceof WI,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Mt(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Mt(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Mt(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Mt(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Mt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function nN(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==DI&&(t.i=e.index_.toString()),t}var rN=function(e){g(n,e);var t=w(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=rT("p:rest:"),o.listens_={},o}return v(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=tN(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Ut(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=tN(e._queryParams),r=e._path.toString(),i=new wt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Bt(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Dt(l.responseText)}catch(hL){oT("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&oT("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ct(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(BT),iN=function(){function e(){h(this,e),this.rootNode_=VI.EMPTY_NODE}return v(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function aN(){return{value:null,children:new Map}}function oN(e,t,n){if(rI(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=$T(t);e.children.has(r)||e.children.set(r,aN()),oN(e.children.get(r),t=XT(t),n)}}function sN(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){sN(r,new GT(t.toString()+"/"+e),n)}))}var uN,cN=function(){function e(t){h(this,e),this.collection_=t,this.last_=null}return v(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vT(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),lN=function(){function e(t,n){h(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new cN(t);var r=1e4+2e4*Math.random();bT(this.reportStats_.bind(this),Math.floor(r))}return v(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;vT(t,(function(t,i){i>0&&Ft(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),bT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function hN(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(uN||(uN={}));var fN,dN=function(){function e(t,n,r){h(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=uN.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return v(e,[{key:"operationForChild",value:function(t){if(rI(this.path)){if(null!=this.affectedTree.value)return ct(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new GT(t));return new e(QT(),n,this.revert)}return ct($T(this.path)===t,"operationForChild called for unrelated child."),new e(XT(this.path),this.affectedTree,this.revert)}}]),e}(),pN=function(){function e(t,n){h(this,e),this.source=t,this.path=n,this.type=uN.LISTEN_COMPLETE}return v(e,[{key:"operationForChild",value:function(t){return rI(this.path)?new e(this.source,QT()):new e(this.source,XT(this.path))}}]),e}(),vN=function(){function e(t,n,r){h(this,e),this.source=t,this.path=n,this.snap=r,this.type=uN.OVERWRITE}return v(e,[{key:"operationForChild",value:function(t){return rI(this.path)?new e(this.source,QT(),this.snap.getImmediateChild(t)):new e(this.source,XT(this.path),this.snap)}}]),e}(),yN=function(){function e(t,n,r){h(this,e),this.source=t,this.path=n,this.children=r,this.type=uN.MERGE}return v(e,[{key:"operationForChild",value:function(t){if(rI(this.path)){var n=this.children.subtree(new GT(t));return n.isEmpty()?null:n.value?new vN(this.source,QT(),n.value):new e(this.source,QT(),n)}return ct($T(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,XT(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),mN=function(){function e(t,n,r){h(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return v(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(rI(e))return this.isFullyInitialized()&&!this.filtered_;var t=$T(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),gN=v((function e(t){h(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function kN(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw lt("Should only compare child_ events.");var r=new pI(t.childName,t.snapshotNode),i=new pI(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function bN(e,t){return{eventCache:e,serverCache:t}}function _N(e,t,n,r){return bN(new mN(t,n,r),e.serverCache)}function wN(e,t,n,r){return bN(e.eventCache,new mN(t,n,r))}function xN(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function SN(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var EN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(fN||(fN=new wI(hT)),fN);h(this,e),this.value=t,this.children=n}return v(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:QT(),value:this.value};if(rI(e))return null;var n=$T(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(XT(e),t);return null!=i?{path:nI(new GT(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(rI(t))return this;var n=$T(t),r=this.children.get(n);return null!==r?r.subtree(XT(t)):new e(null)}},{key:"set",value:function(t,n){if(rI(t))return new e(n,this.children);var r=$T(t),i=(this.children.get(r)||new e(null)).set(XT(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(rI(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=$T(t),r=this.children.get(n);if(r){var i,a=r.remove(XT(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(rI(e))return this.value;var t=$T(e),n=this.children.get(t);return n?n.get(XT(e)):null}},{key:"setTree",value:function(t,n){if(rI(t))return n;var r,i=$T(t),a=(this.children.get(i)||new e(null)).setTree(XT(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(QT(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(nI(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,QT(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(rI(e))return null;var i=$T(e),a=this.children.get(i);return a?a.findOnPath_(XT(e),nI(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,QT(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(rI(t))return this;this.value&&r(n,this.value);var i=$T(t),a=this.children.get(i);return a?a.foreachOnPath_(XT(t),nI(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(QT(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(nI(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return vT(t,(function(e,t){n=n.set(new GT(e),t)})),n}}]),e}(),CN=function(){function e(t){h(this,e),this.writeTree_=t}return v(e,null,[{key:"empty",value:function(){return new e(new EN(null))}}]),e}();function TN(e,t,n){if(rI(t))return new CN(new EN(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=iI(i,t);return a=a.updateChild(o,n),new CN(e.writeTree_.set(i,a))}var s=new EN(n),u=e.writeTree_.setTree(t,s);return new CN(u)}function IN(e,t,n){var r=e;return vT(n,(function(e,n){r=TN(r,nI(t,e),n)})),r}function NN(e,t){if(rI(t))return CN.empty();var n=e.writeTree_.setTree(t,new EN(null));return new CN(n)}function PN(e,t){return null!=RN(e,t)}function RN(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(iI(n.path,t)):null}function AN(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(DI,(function(e,n){t.push(new pI(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new pI(e,n.value))})),t}function ON(e,t){if(rI(t))return e;var n=RN(e,t);return new CN(null!=n?new EN(n):e.writeTree_.subtree(t))}function DN(e){return e.writeTree_.isEmpty()}function MN(e,t){return LN(QT(),e.writeTree_,t)}function LN(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ct(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=LN(nI(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(nI(e,".priority"),r)),n}function FN(e,t){return $N(t,e)}function UN(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ct(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&jN(s,r.path)?i=!1:oI(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=qN(e.allWrites,VN,QT()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=NN(e.visibleWrites,r.path):vT(r.children,(function(t){e.visibleWrites=NN(e.visibleWrites,nI(r.path,t))}));return!0}return!1}function jN(e,t){if(e.snap)return oI(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&oI(nI(e.path,n),t))return!0;return!1}function VN(e){return e.visible}function qN(e,t,n){for(var r=CN.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)oI(n,o)?r=TN(r,s=iI(n,o),a.snap):oI(o,n)&&(s=iI(o,n),r=TN(r,QT(),a.snap.getChild(s)));else{if(!a.children)throw lt("WriteRecord should have .snap or .children");if(oI(n,o))r=IN(r,s=iI(n,o),a.children);else if(oI(o,n))if(rI(s=iI(o,n)))r=IN(r,QT(),a.children);else{var u=Ut(a.children,$T(s));if(u){var c=u.getChild(XT(s));r=TN(r,QT(),c)}}}}}return r}function zN(e,t,n,r,i){if(r||i){var a=ON(e.visibleWrites,t);if(!i&&DN(a))return n;if(i||null!=n||PN(a,QT())){return MN(qN(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(oI(e.path,t)||oI(t,e.path))}),t),n||VI.EMPTY_NODE)}return null}var o=RN(e.visibleWrites,t);if(null!=o)return o;var s=ON(e.visibleWrites,t);return DN(s)?n:null!=n||PN(s,QT())?MN(s,n||VI.EMPTY_NODE):null}function BN(e,t,n,r){return zN(e.writeTree,e.treePath,t,n,r)}function WN(e,t){return function(e,t,n){var r=VI.EMPTY_NODE,i=RN(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(DI,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ON(e.visibleWrites,t);return n.forEachChild(DI,(function(e,t){var n=MN(ON(a,new GT(e)),t);r=r.updateImmediateChild(e,n)})),AN(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return AN(ON(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function HN(e,t,n,r){return function(e,t,n,r,i){ct(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=nI(t,n);if(PN(e.visibleWrites,a))return null;var o=ON(e.visibleWrites,a);return DN(o)?i.getChild(n):MN(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function YN(e,t){return function(e,t){return RN(e.visibleWrites,t)}(e.writeTree,nI(e.treePath,t))}function KN(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=ON(e.visibleWrites,t),c=RN(u,QT());if(null!=c)s=c;else{if(null==n)return[];s=MN(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function GN(e,t,n){return function(e,t,n,r){var i=nI(t,n),a=RN(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?MN(ON(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function QN(e,t){return $N(nI(e.treePath,t),e.writeTree)}function $N(e,t){return{treePath:e,writeTree:t}}var JN=function(){function e(){h(this,e),this.changeMap=new Map}return v(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ct("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ct(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,$I(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,QI(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,GI(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw lt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,$I(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),XN=new(function(){function e(){h(this,e)}return v(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),ZN=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return v(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new mN(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return GN(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:SN(this.viewCache_),i=KN(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function eP(e,t,n,r,i){var a,o,s=new JN;if(n.type===uN.OVERWRITE){var u=n;u.source.fromUser?a=rP(e,t,u.path,u.snap,r,i,s):(ct(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!rI(u.path),a=nP(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===uN.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=nI(n,r);iP(t,$T(c))&&(s=rP(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=nI(n,r);iP(t,$T(c))||(s=rP(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(ct(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=oP(e,t,c.path,c.children,r,i,o,s))}else if(n.type===uN.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=YN(r,n))return t;var s,u=new ZN(r,t,i),c=t.eventCache.getNode();if(rI(n)||".priority"===$T(n)){var l;if(t.serverCache.isFullyInitialized())l=BN(r,SN(t));else{var h=t.serverCache.getNode();ct(h instanceof VI,"serverChildren would be complete if leaf node"),l=WN(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=$T(n),d=GN(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,XT(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,VI.EMPTY_NODE,XT(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=BN(r,SN(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=YN(r,QT()),_N(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=YN(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(rI(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return nP(e,t,n,u.getNode().getChild(n),i,a,s,o);if(rI(n)){var c=new EN(null);return u.getNode().forEachChild(mI,(function(e,t){c=c.set(new GT(e),t)})),oP(e,t,n,c,i,a,s,o)}return t}var l=new EN(null);return r.foreach((function(e,t){var r=nI(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),oP(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==uN.LISTEN_COMPLETE)throw lt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=wN(t,a.getNode(),a.isFullyInitialized()||rI(n),a.isFiltered());return tP(e,o,n,r,XN,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=xN(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(KI(xN(t)))}}(t,a,h),{viewCache:a,changes:h}}function tP(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=YN(r,n))return t;if(rI(n))if(ct(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=SN(t),l=WN(r,c instanceof VI?c:VI.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=BN(r,SN(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=$T(n);if(".priority"===f){ct(1===JT(n),"Can't have a priority with additional path components");var d=u.getNode(),p=HN(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=XT(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var m=HN(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(f).updateChild(y,m):u.getNode().getImmediateChild(f)}else v=GN(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,y,i,a):u.getNode()}}return _N(t,o,u.isFullyInitialized()||rI(n),e.filter.filtersNodes())}function nP(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(rI(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=$T(n);if(!c.isCompleteForPath(n)&&JT(n)>1)return t;var d=XT(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,XN,null)}var v=wN(t,u,c.isFullyInitialized()||rI(n),l.filtersNodes());return tP(e,v,n,i,new ZN(i,v,a),s)}function rP(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new ZN(i,t,a);if(rI(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=_N(t,u,!0,e.filter.filtersNodes());else{var h=$T(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=_N(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=XT(n),p=c.getNode().getImmediateChild(h);if(rI(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===ZT(d)&&v.getChild(tI(d)).isEmpty()?v:v.updateChild(d,r):VI.EMPTY_NODE}if(p.equals(f))s=t;else s=_N(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function iP(e,t){return e.eventCache.isCompleteForChild(t)}function aP(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function oP(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=rI(n)?r:new EN(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=aP(0,t.serverCache.getNode().getImmediateChild(n),r);c=nP(e,c,new GT(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var h=aP(0,t.serverCache.getNode().getImmediateChild(n),r);c=nP(e,c,new GT(n),h,i,a,o,s)}})),c}var sP,uP=function(){function e(t,n){h(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new JI(i.getIndex()),o=(r=i).loadsAllData()?new JI(r.getIndex()):r.hasLimit()?new ZI(r):new XI(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(VI.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(VI.EMPTY_NODE,u.getNode(),null),f=new mN(c,s.isFullyInitialized(),a.filtersNodes()),d=new mN(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=bN(d,f),this.eventGenerator_=new gN(this.query_)}return v(e,[{key:"query",get:function(){return this.query_}}]),e}();function cP(e,t){var n=SN(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!rI(t)&&!n.getImmediateChild($T(t)).isEmpty())?n.getChild(t):null}function lP(e){return 0===e.eventRegistrations_.length}function hP(e,t,n){var r=[];if(n){ct(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function fP(e,t,n,r){t.type===uN.MERGE&&null!==t.source.queryId&&(ct(SN(e.viewCache_),"We should always have a full cache before handling merges"),ct(xN(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=eP(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ct(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ct(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ct(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,dP(e,s.changes,s.viewCache.eventCache.getNode(),null)}function dP(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),kN(e,i,"child_removed",t,r,n),kN(e,i,"child_added",t,r,n),kN(e,i,"child_moved",a,r,n),kN(e,i,"child_changed",t,r,n),kN(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var pP,vP=v((function e(){h(this,e),this.views=new Map}));function yP(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ct(null!=a,"SyncTree gave us an op for an invalid query."),fP(a,t,n,r)}var o,s=[],u=C(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(fP(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function mP(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=BN(n,i?r:null),u=!1;s?u=!0:r instanceof VI?(s=WN(n,r),u=!1):(s=VI.EMPTY_NODE,u=!1);var c=bN(new mN(s,u,!1),new mN(r,i,!1));return new uP(t,c)}return o}function gP(e,t,n,r,i,a){var o=mP(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(DI,(function(e,t){r.push(GI(e,t))})),n.isFullyInitialized()&&r.push(KI(n.getNode())),dP(e,r,n.getNode(),t)}(o,n)}function kP(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=SP(e);if("default"===i){var c,l=C(e.views.entries());try{for(l.s();!(c=l.n()).done;){var h=u(c.value,2),f=h[0],d=h[1];o=o.concat(hP(d,n,r)),lP(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(hP(p,n,r)),lP(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!SP(e)&&a.push(new(ct(sP,"Reference.ts has not been loaded"),sP)(t._repo,t._path)),{removed:a,events:o}}function bP(e){var t,n=[],r=C(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function _P(e,t){var n,r=null,i=C(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||cP(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function wP(e,t){if(t._queryParams.loadsAllData())return EP(e);var n=t._queryIdentifier;return e.views.get(n)}function xP(e,t){return null!=wP(e,t)}function SP(e){return null!=EP(e)}function EP(e){var t,n=C(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var CP=1,TP=v((function e(t){h(this,e),this.listenProvider_=t,this.syncPointTree_=new EN(null),this.pendingWriteTree_={visibleWrites:CN.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function IP(e,t,n,r,i){return function(e,t,n,r,i){ct(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=TN(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?MP(e,new vN({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function NP(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(UN(e.pendingWriteTree_,t)){var i=new EN(null);return null!=r.snap?i=i.set(QT(),!0):vT(r.children,(function(e){i=i.set(new GT(e),!0)})),MP(e,new dN(r.path,i,n))}return[]}function PP(e,t,n){return MP(e,new vN({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function RP(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||xP(o,t))){var u=kP(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),h=e.syncPointTree_.findOnPath(a,(function(e,t){return SP(t)}));if(l&&!h){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&SP(t))return[EP(t)];var r=[];return t&&(r=bP(t)),vT(n,(function(e,t){r=r.concat(t)})),r}))}(f),p=0;p<d.length;++p){var v=d[p],y=v.query,m=UP(e,v);e.listenProvider_.startListening(WP(y),jP(e,y),m.hashFn,m.onComplete)}}if(!h&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(WP(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(VP(t));e.listenProvider_.stopListening(WP(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=VP(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function AP(e,t,n,r){var i=qP(e,r);if(null!=i){var a=zP(i),o=a.path,s=a.queryId,u=iI(o,t);return BP(e,o,new vN(hN(s),u,n))}return[]}function OP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=iI(e,i);a=a||_P(t,n),o=o||SP(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||SP(u),a=a||_P(u,QT())):(u=new vP,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=VI.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=_P(t,QT());n&&(a=a.updateImmediateChild(e,n))})));var c=xP(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=VP(t);ct(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=CP++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=gP(u,t,n,FN(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=wP(u,t);f=f.concat(function(e,t,n){var r=t._path,i=jP(e,t),a=UP(e,n),o=e.listenProvider_.startListening(WP(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)ct(!SP(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!rI(e)&&t&&SP(t))return[EP(t).query];var r=[];return t&&(r=r.concat(bP(t).map((function(e){return e.query})))),vT(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(WP(l),jP(e,l))}return o}(e,t,d))}return f}function DP(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=_P(n,iI(e,t));if(r)return r}));return zN(r,t,i,n,!0)}function MP(e,t){return LP(t,e.syncPointTree_,null,FN(e.pendingWriteTree_,QT()))}function LP(e,t,n,r){if(rI(e.path))return FP(e,t,n,r);var i=t.get(QT());null==n&&null!=i&&(n=_P(i,QT()));var a=[],o=$T(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=QN(r,o);a=a.concat(LP(s,u,c,l))}return i&&(a=a.concat(yP(i,e,r,n))),a}function FP(e,t,n,r){var i=t.get(QT());null==n&&null!=i&&(n=_P(i,QT()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=QN(r,t),u=e.operationForChild(t);u&&(a=a.concat(FP(u,i,o,s)))})),i&&(a=a.concat(yP(i,e,r,n))),a}function UP(e,t){var n=t.query,r=jP(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||VI.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=qP(e,n);if(r){var i=zP(r),a=i.path,o=i.queryId,s=iI(a,t);return BP(e,a,new pN(hN(o),s))}return[]}(e,n._path,r):function(e,t){return MP(e,new pN({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return RP(e,n,null,i)}}}function jP(e,t){var n=VP(t);return e.queryToTagMap.get(n)}function VP(e){return e._path.toString()+"$"+e._queryIdentifier}function qP(e,t){return e.tagToQueryMap.get(t)}function zP(e){var t=e.indexOf("$");return ct(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new GT(e.substr(0,t))}}function BP(e,t,n){var r=e.syncPointTree_.get(t);return ct(r,"Missing sync point for query tag that we're tracking"),yP(r,n,FN(e.pendingWriteTree_,t),null)}function WP(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ct(pP,"Reference.ts has not been loaded"),pP)(e._repo,e._path):e}var HP=function(){function e(t){h(this,e),this.node_=t}return v(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),YP=function(){function e(t,n){h(this,e),this.syncTree_=t,this.path_=n}return v(e,[{key:"getImmediateChild",value:function(t){var n=nI(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return DP(this.syncTree_,this.path_)}}]),e}(),KP=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},GP=function(e,t,n){return e&&"object"===typeof e?(ct(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?QP(e[".sv"],t,n):"object"===typeof e[".sv"]?$P(e[".sv"],t):void ct(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},QP=function(e,t,n){if("timestamp"===e)return n.timestamp;ct(!1,"Unexpected server value: "+e)},$P=function(e,t,n){e.hasOwnProperty("increment")||ct(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ct(!1,"Unexpected increment value: "+r);var i=t.node();if(ct(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},JP=function(e,t,n,r){return ZP(t,new YP(n,e),r)},XP=function(e,t,n){return ZP(e,new HP(t),n)};function ZP(e,t,n){var r,i=e.getPriority().val(),a=GP(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=GP(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new PI(s,BI(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new PI(a))),u.forEachChild(DI,(function(e,i){var a=ZP(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var eR=v((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};h(this,e),this.name=t,this.parent=n,this.node=r}));function tR(e,t){for(var n=t instanceof GT?t:new GT(t),r=e,i=$T(n);null!==i;){var a=Ut(r.node.children,i)||{children:{},childCount:0};r=new eR(i,r,a),i=$T(n=XT(n))}return r}function nR(e){return e.node.value}function rR(e,t){e.node.value=t,uR(e)}function iR(e){return e.node.childCount>0}function aR(e,t){vT(e.node.children,(function(n,r){t(new eR(n,e,r))}))}function oR(e,t,n,r){n&&!r&&t(e),aR(e,(function(e){oR(e,t,!0,r)})),n&&r&&t(e)}function sR(e){return new GT(null===e.parent?e.name:sR(e.parent)+"/"+e.name)}function uR(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===nR(e)&&!iR(e)}(n),i=Ft(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,uR(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,uR(e))}(e.parent,e.name,e)}var cR=/[\[\].#$\/\u0000-\u001F\u007F]/,lR=/[\[\].#$\u0000-\u001F\u007F]/,hR=10485760,fR=function(e){return"string"===typeof e&&0!==e.length&&!cR.test(e)},dR=function(e){return"string"===typeof e&&0!==e.length&&!lR.test(e)},pR=function e(t,n,r){var i=r instanceof GT?new sI(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+cI(i));if("function"===typeof n)throw new Error(t+"contains a function "+cI(i)+" with contents = "+n.toString());if(sT(n))throw new Error(t+"contains "+n.toString()+" "+cI(i));if("string"===typeof n&&n.length>hR/3&&Jt(n)>hR)throw new Error(t+"contains a string greater than "+hR+" utf8 bytes "+cI(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(vT(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!fR(n)))throw new Error(t+" contains an invalid key ("+n+") "+cI(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Jt(t),uI(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Jt(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+cI(i)+" in addition to actual children.")}},vR=function(e,t,n,r){if((!r||void 0!==n)&&!dR(n))throw new Error($t(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yR=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vR(e,t,n,r)},mR=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!fR(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dR(e)}(n))throw new Error($t(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},gR=v((function e(){h(this,e),this.eventLists_=[],this.recursionDepth_=0}));function kR(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||aI(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function bR(e,t,n){kR(e,n),wR(e,(function(e){return aI(e,t)}))}function _R(e,t,n){kR(e,n),wR(e,(function(e){return oI(e,t)||oI(t,e)}))}function wR(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(xR(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function xR(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();ZC&&nT("event: "+n.toString()),kT(r)}}}var SR="repo_interrupt",ER=25,CR=function(){function e(t,n,r,i){h(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=aN(),this.transactionQueueTree_=new eR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return v(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function TR(e,t,n){if(e.stats_=DT(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new rN(e.repoInfo_,(function(t,n,r,i){PR(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return RR(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mt(n)}catch(hL){throw new Error("Invalid authOverride provided: "+hL)}}e.persistentConnection_=new fI(e.repoInfo_,t,(function(t,n,r,i){PR(e,t,n,r,i)}),(function(t){RR(e,t)}),(function(t){!function(e,t){vT(t,(function(t,n){AR(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return OT[n]||(OT[n]=t()),OT[n]}(e.repoInfo_,(function(){return new lN(e.stats_,e.server_)})),e.infoData_=new iN,e.infoSyncTree_=new TP({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=PP(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),AR(e,"connected",!1),e.serverSyncTree_=new TP({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);_R(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function IR(e){var t=e.infoData_.getNode(new GT(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function NR(e){return KP({timestamp:IR(e)})}function PR(e,t,n,r,i){e.dataUpdateCount++;var a=new GT(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Vt(n,(function(e){return BI(e)}));o=function(e,t,n,r){var i=qP(e,r);if(i){var a=zP(i),o=a.path,s=a.queryId,u=iI(o,t),c=EN.fromObject(n);return BP(e,o,new yN(hN(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=BI(n);o=AP(e.serverSyncTree_,a,u,i)}else if(r){var c=Vt(n,(function(e){return BI(e)}));o=function(e,t,n){var r=EN.fromObject(n);return MP(e,new yN({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=BI(n);o=PP(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=jR(e,a)),_R(e.eventQueue_,h,o)}function RR(e,t){AR(e,"connected",t),!1===t&&function(e){LR(e,"onDisconnectEvents");var t=NR(e),n=aN();sN(e.onDisconnect_,QT(),(function(r,i){var a=JP(r,i,e.serverSyncTree_,t);oN(n,r,a)}));var r=[];sN(n,QT(),(function(t,n){r=r.concat(PP(e.serverSyncTree_,t,n));var i=WR(e,t);jR(e,i)})),e.onDisconnect_=aN(),_R(e.eventQueue_,QT(),r)}(e)}function AR(e,t,n){var r=new GT("/.info/"+t),i=BI(n);e.infoData_.updateSnapshot(r,i);var a=PP(e.infoSyncTree_,r,i);_R(e.eventQueue_,r,a)}function OR(e){return e.nextWriteId_++}function DR(e,t,n){var r;r=".info"===$T(t._path)?RP(e.infoSyncTree_,t,n):RP(e.serverSyncTree_,t,n),bR(e.eventQueue_,t._path,r)}function MR(e){e.persistentConnection_&&e.persistentConnection_.interrupt(SR)}function LR(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];nT.apply(void 0,[t].concat(r))}function FR(e,t,n){return DP(e.serverSyncTree_,t,n)||VI.EMPTY_NODE}function UR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||BR(e,t),nR(t)){var n=qR(e,t);ct(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=FR(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ct(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=iI(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){LR(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(NP(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);BR(e,tR(e.transactionQueueTree_,t)),UR(e,e.transactionQueueTree_),_R(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)kT(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{oT("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}jR(e,t)}}),o)}(e,sR(t),n)}else iR(t)&&aR(t,(function(t){UR(e,t)}))}function jR(e,t){var n=VR(e,t),r=sR(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=iI(n,c.path),h=!1;if(ct(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(NP(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=ER)h=!0,s="maxretry",i=i.concat(NP(e.serverSyncTree_,c.currentWriteId,!0));else{var f=FR(e,c.path,o);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){pR("transaction failed: Data returned ",d,c.path);var p=BI(d);"object"===typeof d&&null!=d&&Ft(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,y=NR(e),m=XP(p,f,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=m,c.currentWriteId=OR(e),o.splice(o.indexOf(v),1),i=(i=i.concat(IP(e.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(NP(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(NP(e.serverSyncTree_,c.currentWriteId,!0))}_R(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);BR(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)kT(r[c]);UR(e,e.transactionQueueTree_)}(e,qR(e,n),r),r}function VR(e,t){var n,r=e.transactionQueueTree_;for(n=$T(t);null!==n&&void 0===nR(r);)r=tR(r,n),n=$T(t=XT(t));return r}function qR(e,t){var n=[];return zR(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function zR(e,t,n){var r=nR(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);aR(t,(function(t){zR(e,t,n)}))}function BR(e,t){var n=nR(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,rR(t,n.length>0?n:void 0)}aR(t,(function(t){BR(e,t)}))}function WR(e,t){var n=sR(VR(e,t)),r=tR(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){HR(e,t)})),HR(e,r),oR(r,(function(t){HR(e,t)})),n}function HR(e,t){var n=nR(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ct(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ct(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(NP(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?rR(t,void 0):n.length=a+1,_R(e.eventQueue_,sR(t),i);for(var s=0;s<r.length;s++)kT(r[s])}}var YR=function(e,t){var n=KR(e),r=n.namespace;"firebase.com"===n.domain&&aT(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||aT("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&oT("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new NT(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new GT(n.pathString)}},KR=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(hL){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=C(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):oT("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},GR="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QR=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){h(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return v(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Mt(this.snapshot.exportVal())}}]),e}()),$R=function(){function e(t,n,r){h(this,e),this.eventRegistration=t,this.error=n,this.path=r}return v(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),JR=function(){function e(t,n){h(this,e),this.snapshotCallback=t,this.cancelCallback=n}return v(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return ct(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),XR=function(){function e(t,n,r,i){h(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return v(e,[{key:"key",get:function(){return rI(this._path)?null:ZT(this._path)}},{key:"ref",get:function(){return new ZR(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=nN(this._queryParams),t=dT(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return nN(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Zt(t))instanceof e))return!1;var n=this._repo===t._repo,r=aI(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var ZR=function(e){g(n,e);var t=w(n);function n(e,r){return h(this,n),t.call(this,e,r,new eN,!1)}return v(n,[{key:"parent",get:function(){var e=tI(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(XR),eA=function(){function e(t,n,r){h(this,e),this._node=t,this.ref=n,this._index=r}return v(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new GT(t),r=tA(this.ref,t);return new e(this._node.getChild(n),r,DI)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,tA(n.ref,r),DI))}))}},{key:"hasChild",value:function(e){var t=new GT(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function tA(e,t){return null===$T((e=Zt(e))._path)?yR("child","path",t,!1):vR("child","path",t,!1),new ZR(e._repo,nI(e._path,t))}var nA=function(){function e(t){h(this,e),this.callbackContext=t}return v(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new QR("value",this,new eA(e.snapshotNode,new ZR(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new $R(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),rA=function(){function e(t,n){h(this,e),this.eventType=t,this.callbackContext=n}return v(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new $R(this,e,t):null}},{key:"createEvent",value:function(e,t){ct(null!=e.childName,"Child events should have a childName.");var n=tA(new ZR(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new QR(e.type,this,new eA(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function iA(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){DR(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new JR(n,a||void 0),c="value"===t?new nA(u):new rA(t,u);return function(e,t,n){var r;r=".info"===$T(t._path)?OP(e.infoSyncTree_,t,n):OP(e.serverSyncTree_,t,n),bR(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return DR(e._repo,e,c)}}function aA(e,t,n,r){return iA(e,"value",t,n,r)}!function(e){ct(!sP,"__referenceConstructor has already been defined"),sP=e}(ZR),function(e){ct(!pP,"__referenceConstructor has already been defined"),pP=e}(ZR);var oA="FIREBASE_DATABASE_EMULATOR_HOST",sA={},uA=!1;function cA(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||aT("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nT("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=YR(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyByxdtQH0B6gv6JeRPukjhsaeTuvQJZcJ4",REACT_APP_APP_ID:"1:557864423616:web:b83c7a34f15fc91a74dd25",REACT_APP_AUTH_DOMAIN:"visitor-log-d8b6c.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-8RRJWNTKMX",REACT_APP_MESSAGING_SENDER_ID:"557864423616",REACT_APP_PROJECT_ID:"visitor-log-d8b6c",REACT_APP_STORAGE_BUCKET:"visitor-log-d8b6c.appspot.com"}[oA]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=YR(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new xT(xT.OWNER):new wT(e.name,e.options,t);mR("Invalid Firebase Database URL",s),rI(s.path)||aT("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=sA[t.name];i||(i={},sA[t.name]=i);var a=i[e.toURLString()];a&&aT("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new CR(e,uA,n,r),i[e.toURLString()]=a,a}(u,e,l,new _T(e.name,n));return new lA(h,e)}var lA=function(){function e(t,n){h(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return v(e,[{key:"_repo",get:function(){return this._instanceStarted||(TR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new ZR(this._repo,QT())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=sA[t];n&&n[e.key]===e||aT("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),MR(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&aT("Cannot call "+e+" on a deleted database.")}}]),e}();fI.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},fI.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){BC=e}(Qn),zn(new en("database",(function(e,t){var n=t.instanceIdentifier;return cA(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),tr(qC,zC,e),tr(qC,zC,"esm2017")}();tr("firebase","9.22.0","app");var hA="functions";var fA=function(){function e(t,n,r){var i=this;h(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return v(e,[{key:"getAuthToken",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=7;break}return e.next=3,this.appCheck.getToken();case 3:if(!(t=e.sent).error){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",t.token);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=at(rt().mark((function e(){var t,n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return t=e.sent,e.next=5,this.getMessagingToken();case 5:return n=e.sent,e.next=8,this.getAppCheckToken();case 8:return r=e.sent,e.abrupt("return",{authToken:t,messagingToken:n,appCheckToken:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dA="us-central1";var pA=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dA,s=arguments.length>5?arguments[5]:void 0;h(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new fA(n,r,i),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return Promise.resolve(e())}}));try{var u=new URL(o);this.customDomain=u.origin,this.region=dA}catch(hL){this.customDomain=null,this.region=o}}return v(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();var vA="@firebase/functions",yA="0.9.4";!function(e,t){zn(new en(hA,(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),o=t.getProvider("messaging-internal"),s=t.getProvider("app-check-internal");return new pA(i,a,o,s,r,e)}),"PUBLIC").setMultipleInstances(!0)),tr(vA,yA,t),tr(vA,yA,"esm2017")}(fetch.bind(self));var mA,gA="firebasestorage.googleapis.com",kA="storageBucket",bA=function(e){g(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=t.call(this,_A(e),"Firebase Storage: ".concat(r," (").concat(_A(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return v(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return _A(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Rt);function _A(e){return"storage/"+e}function wA(){return new bA(mA.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xA(){return new bA(mA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SA(){return new bA(mA.CANCELED,"User canceled the upload/download.")}function EA(e){return new bA(mA.INVALID_ARGUMENT,e)}function CA(){return new bA(mA.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(mA||(mA={}));var TA,IA=function(){function e(t,n){h(this,e),this.bucket=t,this.path_=n}return v(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(hL){return new e(t,"")}if(""===r.path)return r;throw i=t,new bA(mA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===gA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new bA(mA.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),NA=function(){function e(t){h(this,e),this.promise_=Promise.reject(t)}return v(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function PA(e,t,n,r){if(r<t)throw EA("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw EA("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function RA(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function AA(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(TA||(TA={}));var OA=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];h(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return v(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(hL){i(hL)}else if(null!==a){var s=wA();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?CA():SA());else i(xA())}};this.canceled_?t(0,new DA(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function f(){a&&clearTimeout(a)}function d(e){if(c)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,f(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new DA(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===TA.NO_ERROR,a=r.getStatus();if(!n||AA(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===TA.ABORT;t(!1,new DA(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new DA(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),DA=v((function e(t,n,r){h(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function MA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var LA=function(){function e(t,n){h(this,e),this._service=t,this._location=n instanceof IA?n:IA.makeFromUrl(n,t.host)}return v(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new IA(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return MA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new IA(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new bA(mA.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function FA(e,t){var n=null===t||void 0===t?void 0:t[kA];return null==n?null:IA.makeFromBucketSpec(n,e)}var UA=function(){function e(t,n,r,i,a){h(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=gA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?IA.makeFromBucketSpec(i,this._host):FA(this._host,this.app.options)}return v(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=IA.makeFromBucketSpec(this._url,e):this._bucket=FA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){PA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){PA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new LA(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new NA(CA());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=RA(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new OA(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),jA="@firebase/storage",VA="0.11.2",qA="storage";function zA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new UA(r,i,a,n,Qn)}zn(new en(qA,zA,"PUBLIC").setMultipleInstances(!0)),tr(jA,VA,""),tr(jA,VA,"esm2017");var BA,WA,HA=function(e,t){return t.some((function(t){return e instanceof t}))};var YA=new WeakMap,KA=new WeakMap,GA=new WeakMap,QA=new WeakMap,$A=new WeakMap;var JA={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return KA.get(e);if("objectStoreNames"===t)return e.objectStoreNames||GA.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eO(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function XA(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(WA||(WA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(tO(this),n),eO(YA.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eO(e.apply(tO(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[tO(this),t].concat(r));return GA.set(a,t.sort?t.sort():[t]),eO(a)}}function ZA(e){return"function"===typeof e?XA(e):(e instanceof IDBTransaction&&function(e){if(!KA.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));KA.set(e,t)}}(e),HA(e,BA||(BA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,JA):e)}function eO(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(eO(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&YA.set(t,e)})).catch((function(){})),$A.set(t,e),t}(e);if(QA.has(e))return QA.get(e);var t=ZA(e);return t!==e&&(QA.set(e,t),$A.set(t,e)),t}var tO=function(e){return $A.get(e)};var nO,rO=["get","getKey","getAll","getAllKeys","count"],iO=["put","add","delete","clear"],aO=new Map;function oO(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(aO.get(t))return aO.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=iO.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rO.includes(n))){var a=function(){var e=at(rt().mark((function e(t){var a,o,s,u,c,l,h=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return aO.set(t,a),a}}}!function(e){JA=e(JA)}((function(e){return Je(Je({},e),{},{get:function(t,n,r){return oO(t,n)||e.get(t,n,r)},has:function(t,n){return!!oO(t,n)||e.has(t,n)}})}));var sO="@firebase/installations",uO="0.6.4",cO=1e4,lO="w:".concat(uO),hO="FIS_v2",fO="https://firebaseinstallations.googleapis.com/v1",dO=36e5,pO=(Qe(nO={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Qe(nO,"not-registered","Firebase Installation is not registered."),Qe(nO,"installation-not-found","Firebase Installation not found."),Qe(nO,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Qe(nO,"app-offline","Could not process request. Application offline."),Qe(nO,"delete-pending-registration","Can't delete installation while there is a pending registration request."),nO),vO=new At("installations","Installations",pO);function yO(e){return e instanceof Rt&&e.code.includes("request-failed")}function mO(e){var t=e.projectId;return"".concat(fO,"/projects/").concat(t,"/installations")}function gO(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function kO(e,t){return bO.apply(this,arguments)}function bO(){return(bO=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",vO.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _O(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wO(e,t){var n=t.refreshToken,r=_O(e);return r.append("Authorization",function(e){return"".concat(hO," ").concat(e)}(n)),r}function xO(e){return SO.apply(this,arguments)}function SO(){return SO=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),SO.apply(this,arguments)}function EO(e,t){return CO.apply(this,arguments)}function CO(){return(CO=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c,l,h,f,d,p;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=mO(r),s=_O(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:hO,appId:r.appId,sdkVersion:lO},h={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,xO((function(){return fetch(o,h)}));case 14:if(!(f=e.sent).ok){e.next=23;break}return e.next=18,f.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:gO(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,kO("Create Installation",f);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TO(e){return new Promise((function(t){setTimeout(t,e)}))}var IO=/^[cdef][\w-]{21}$/,NO="";function PO(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,l(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return IO.test(t)?t:NO}catch(n){return NO}}function RO(e){return"".concat(e.appName,"!").concat(e.appId)}var AO=new Map;function OO(e,t){var n=RO(e);DO(n,t),function(e,t){var n=LO();n&&n.postMessage({key:e,fid:t});FO()}(n,t)}function DO(e,t){var n=AO.get(e);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var MO=null;function LO(){return!MO&&"BroadcastChannel"in self&&((MO=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){DO(e.data.key,e.data.fid)}),MO}function FO(){0===AO.size&&MO&&(MO.close(),MO=null)}var UO="firebase-installations-database",jO=1,VO="firebase-installations-store",qO=null;function zO(){return qO||(qO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=eO(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(eO(s.result),e.oldVersion,e.newVersion,eO(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(UO,jO,{upgrade:function(e,t){if(0===t)e.createObjectStore(VO)}})),qO}function BO(e,t){return WO.apply(this,arguments)}function WO(){return WO=at(rt().mark((function e(t,n){var r,i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RO(t),e.next=3,zO();case 3:return i=e.sent,a=i.transaction(VO,"readwrite"),o=a.objectStore(VO),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||OO(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),WO.apply(this,arguments)}function HO(e){return YO.apply(this,arguments)}function YO(){return YO=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=RO(t),e.next=3,zO();case 3:return r=e.sent,i=r.transaction(VO,"readwrite"),e.next=7,i.objectStore(VO).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),YO.apply(this,arguments)}function KO(e,t){return GO.apply(this,arguments)}function GO(){return GO=at(rt().mark((function e(t,n){var r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RO(t),e.next=3,zO();case 3:return i=e.sent,a=i.transaction(VO,"readwrite"),o=a.objectStore(VO),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||OO(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),GO.apply(this,arguments)}function QO(e){return $O.apply(this,arguments)}function $O(){return($O=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KO(t.appConfig,(function(e){var r=JO(e),i=XO(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==NO){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JO(e){return rD(e||{fid:PO(),registrationStatus:0})}function XO(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(vO.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return ZO.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:eD(e)}:{installationEntry:t}}function ZO(){return(ZO=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,EO(t,n);case 3:return r=e.sent,e.abrupt("return",BO(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!yO(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,HO(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,BO(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function eD(e){return tD.apply(this,arguments)}function tD(){return(tD=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nD(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,TO(100);case 6:return e.next=8,nD(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,QO(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nD(e){return KO(e,(function(e){if(!e)throw vO.create("installation-not-found");return rD(e)}))}function rD(e){return 1===(t=e).registrationStatus&&t.registrationTime+cO<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function iD(e,t){return aD.apply(this,arguments)}function aD(){return(aD=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c,l,h,f,d;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=oD(r,n),o=wO(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:lO,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,xO((function(){return fetch(a,l)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return f=e.sent,d=gO(f),e.abrupt("return",d);case 22:return e.next=24,kO("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oD(e,t){var n=t.fid;return"".concat(mO(e),"/").concat(n,"/authTokens:generate")}function sD(e){return uD.apply(this,arguments)}function uD(){return uD=at(rt().mark((function e(t){var n,r,i,a,o=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,KO(t.appConfig,(function(e){if(!pD(e))throw vO.create("not-registered");var i=e.authToken;if(!n&&vD(i))return e;if(1===i.requestStatus)return r=cD(t,n),e;if(!navigator.onLine)throw vO.create("app-offline");var a=yD(e);return r=fD(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),uD.apply(this,arguments)}function cD(e,t){return lD.apply(this,arguments)}function lD(){return(lD=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hD(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,TO(100);case 6:return e.next=8,hD(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",sD(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hD(e){return KO(e,(function(e){if(!pD(e))throw vO.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+cO<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function fD(e,t){return dD.apply(this,arguments)}function dD(){return(dD=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iD(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,BO(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!yO(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,HO(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,BO(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function pD(e){return void 0!==e&&2===e.registrationStatus}function vD(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+dO}(e)}function yD(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function mD(){return(mD=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,QO(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):sD(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gD(){return gD=at(rt().mark((function e(t){var n,r,i,a=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,kD(r);case 4:return e.next=6,sD(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function kD(e){return bD.apply(this,arguments)}function bD(){return(bD=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QO(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _D(e){return vO.create("missing-app-config-values",{valueName:e})}var wD,xD="installations",SD=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw _D("App Configuration");if(!e.name)throw _D("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw _D(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Bn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},ED=function(e){var t=Bn(e.getProvider("app").getImmediate(),xD).getImmediate(),n={getId:function(){return function(e){return mD.apply(this,arguments)}(t)},getToken:function(e){return function(e){return gD.apply(this,arguments)}(t,e)}};return n};zn(new en(xD,SD,"PUBLIC")),zn(new en("installations-internal",ED,"PRIVATE")),tr(sO,uO),tr(sO,uO,"esm2017");var CD="@firebase/remote-config",TD="0.4.4",ID="remote-config",ND=(Qe(wD={},"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),Qe(wD,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),Qe(wD,"registration-api-key","Undefined API key. Check Firebase app initialization."),Qe(wD,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),Qe(wD,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Qe(wD,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Qe(wD,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Qe(wD,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Qe(wD,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Qe(wD,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),Qe(wD,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),Qe(wD,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Qe(wD,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Qe(wD,"indexed-db-unavailable","Indexed DB is not supported by current browser"),wD),PD=new At("remoteconfig","Remote Config",ND);var RD=function(){function e(t,n,r,i){h(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return v(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}},{key:"fetch",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=u(n,2),i=r[0],!(a=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",a);case 8:return t.eTag=a&&a.eTag,e.next=11,this.client.fetch(t);case 11:return o=e.sent,s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),e.next=16,Promise.all(s);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function AD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var OD=function(){function e(t,n,r,i,a,o){h(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=o}return v(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,c,l,h,f,d,p,v,y,m,g,k,b;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return n=e.sent,r=u(n,2),i=r[0],a=r[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",s="".concat(o,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:a,app_id:this.appId,language_code:AD()},h={method:"POST",headers:c,body:JSON.stringify(l)},f=fetch(s,h),d=new Promise((function(e,n){t.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),e.prev=13,e.next=16,Promise.race([f,d]);case 16:return e.next=18,f;case 18:p=e.sent,e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(13),v="fetch-client-network","AbortError"===(null===e.t0||void 0===e.t0?void 0:e.t0.name)&&(v="fetch-timeout"),PD.create(v,{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 26:if(y=p.status,m=p.headers.get("ETag")||void 0,200!==p.status){e.next=40;break}return e.prev=29,e.next=32,p.json();case 32:b=e.sent,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(29),PD.create("fetch-client-parse",{originalErrorMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 38:g=b.entries,k=b.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===k?y=500:"NO_CHANGE"===k?y=304:"NO_TEMPLATE"!==k&&"EMPTY_CONFIG"!==k||(g={}),304===y||200===y){e.next=43;break}throw PD.create("fetch-status",{httpStatus:y});case 43:return e.abrupt("return",{status:y,eTag:m,config:g});case 44:case"end":return e.stop()}}),e,this,[[13,21],[29,35]])})));return function(t){return e.apply(this,arguments)}}())}]),e}();function DD(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(PD.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function MD(e){if(!(e instanceof Rt)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var LD=function(){function e(t,n){h(this,e),this.client=t,this.storage=n}return v(e,[{key:"fetch",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptFetch",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,e.next=3,DD(t.signal,r);case 3:return e.prev=3,e.next=6,this.client.fetch(t);case 6:return a=e.sent,e.next=9,this.storage.deleteThrottleMetadata();case 9:return e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(3),MD(e.t0)){e.next=16;break}throw e.t0;case 16:return o={throttleEndTimeMillis:Date.now()+Xt(i),backoffCount:i+1},e.next=19,this.storage.setThrottleMetadata(o);case 19:return e.abrupt("return",this.attemptFetch(t,o));case 20:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),FD=function(){function e(t,n,r,i,a){h(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return v(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function UD(e,t){var n=e.target.error||void 0;return PD.create(t,{originalErrorMessage:n&&(null===n||void 0===n?void 0:n.message)})}var jD="app_namespace_store";var VD=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Promise((function(e,t){try{var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(UD(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(jD,{keyPath:"compositeKey"})}}catch(iT){t(PD.create("storage-open",{originalErrorMessage:null===iT||void 0===iT?void 0:iT.message}))}}));h(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return v(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=at(rt().mark((function e(t){var n,r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([jD],"readonly").objectStore(jD),o=r.createCompositeKey(t);try{var s=a.get(o);s.onerror=function(e){i(UD(e,"storage-get"))},s.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(hL){i(PD.create("storage-get",{originalErrorMessage:null===hL||void 0===hL?void 0:hL.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=at(rt().mark((function e(t,n){var r,i=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,a){var o=r.transaction([jD],"readwrite").objectStore(jD),s=i.createCompositeKey(t);try{var u=o.put({compositeKey:s,value:n});u.onerror=function(e){a(UD(e,"storage-set"))},u.onsuccess=function(){e()}}catch(hL){a(PD.create("storage-set",{originalErrorMessage:null===hL||void 0===hL?void 0:hL.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=at(rt().mark((function e(t){var n,r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([jD],"readwrite").objectStore(jD),o=r.createCompositeKey(t);try{var s=a.delete(o);s.onerror=function(e){i(UD(e,"storage-delete"))},s.onsuccess=function(){e()}}catch(hL){i(PD.create("storage-delete",{originalErrorMessage:null===hL||void 0===hL?void 0:hL.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),qD=function(){function e(t){h(this,e),this.storage=t}return v(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(i=e.sent)&&(this.lastFetchStatus=i),e.next=9,n;case 9:return(a=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=a),e.next=13,r;case 13:(o=e.sent)&&(this.activeConfig=o);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();zn(new en(ID,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw PD.create("registration-window");if(!Pt())throw PD.create("indexed-db-unavailable");var a=r.options,o=a.projectId,s=a.apiKey,u=a.appId;if(!o)throw PD.create("registration-project-id");if(!s)throw PD.create("registration-api-key");if(!u)throw PD.create("registration-app-id");n=n||"firebase";var c=new VD(u,r.name,n),l=new qD(c),h=new fn(CD);h.logLevel=an.ERROR;var f=new OD(i,Qn,n,o,s,u),d=new LD(f,c),p=new RD(d,c,l,h),v=new FD(r,p,l,c,h);return function(e){var t=Zt(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),t._initializePromise}(v),v}),"PUBLIC").setMultipleInstances(!0)),tr(CD,TD),tr(CD,TD,"esm2017");var zD=function(e,t){return zD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},zD(e,t)};function BD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zD(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function WD(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function HD(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function YD(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function KD(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(td){i={error:td}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function GD(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function QD(e){return this instanceof QD?(this.v=e,this):new QD(e)}function $D(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof QD?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(ap){l(a[0][3],ap)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function JD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=YD(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function XD(e){return"function"==typeof e}function ZD(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var eM=ZD((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function tM(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var nM=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=YD(a),s=o.next();!s.done;s=o.next()){s.value.remove(this)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(XD(u))try{u()}catch(d){i=d instanceof eM?d.errors:[d]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=YD(c),h=l.next();!h.done;h=l.next()){var f=h.value;try{aM(f)}catch(d){i=null!=i?i:[],d instanceof eM?i=GD(GD([],KD(i)),KD(d.errors)):i.push(d)}}}catch(d){n={error:d}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new eM(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)aM(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&tM(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&tM(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),rM=nM.EMPTY;function iM(e){return e instanceof nM||e&&"closed"in e&&XD(e.remove)&&XD(e.add)&&XD(e.unsubscribe)}function aM(e){XD(e)?e():e.unsubscribe()}var oM=void 0,sM=!1,uM=!1,cM={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=cM.delegate;return null!=i&&i.setTimeout?i.setTimeout.apply(i,GD([e,t],KD(n))):setTimeout.apply(void 0,GD([e,t],KD(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=cM.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function lM(e){cM.setTimeout((function(){throw e}))}function hM(){}var fM=null;function dM(e){if(sM){var t=!fM;if(t&&(fM={errorThrown:!1,error:null}),e(),t){var n=fM,r=n.errorThrown,i=n.error;if(fM=null,r)throw i}}else e()}var pM=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,iM(t)&&t.add(n)):n.destination=bM,n}return BD(t,e),t.create=function(e,t,n){return new gM(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(nM),vM=Function.prototype.bind;function yM(e,t){return vM.call(e,t)}var mM=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(xl){kM(xl)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(xl){kM(xl)}else kM(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){kM(t)}},e}(),gM=function(e){function t(t,n,r){var i,a,o=e.call(this)||this;XD(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:o&&uM?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&yM(t.next,a),error:t.error&&yM(t.error,a),complete:t.complete&&yM(t.complete,a)}):i=t;return o.destination=new mM(i),o}return BD(t,e),t}(pM);function kM(e){lM(e)}var bM={closed:!0,next:hM,error:function(e){throw e},complete:hM},_M="function"==typeof Symbol&&Symbol.observable||"@@observable";function wM(e){return e}var xM=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof pM||function(e){return e&&XD(e.next)&&XD(e.error)&&XD(e.complete)}(e)&&iM(e)}(e)?e:new gM(e,t,n);return dM((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=SM(t))((function(t,r){var i=new gM({next:function(t){try{e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[_M]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?wM:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=SM(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function SM(e){var t;return null!==(t=null!=e?e:oM)&&void 0!==t?t:Promise}function EM(e){return function(t){if(function(e){return XD(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(xl){this.error(xl)}}));throw new TypeError("Unable to lift unknown Observable type")}}function CM(e,t,n,r,i){return new TM(e,t,n,r,i)}var TM=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(dl){t.error(dl)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(dl){t.error(dl)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return BD(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(pM),IM=ZD((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),NM=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return BD(t,e),t.prototype.lift=function(e){var t=new PM(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new IM},t.prototype.next=function(e){var t=this;dM((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=YD(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;dM((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;dM((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,a=n.observers;return r||i?rM:(this.currentObservers=null,a.push(e),new nM((function(){t.currentObservers=null,tM(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new xM;return e.source=this,e},t.create=function(e,t){return new PM(e,t)},t}(xM),PM=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return BD(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:rM},t}(NM),RM={now:function(){return(RM.delegate||Date).now()},delegate:void 0},AM=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=RM);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return BD(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,o=n._timestampProvider,s=n._windowTime;r||(i.push(t),!a&&i.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,a=(i?1:2)*t;if(t<1/0&&a<r.length&&r.splice(0,r.length-a),!i){for(var o=n.now(),s=0,u=1;u<r.length&&r[u]<=o;u+=2)s=u;s&&r.splice(0,s+1)}},t}(NM),OM=function(e){function t(t,n){return e.call(this)||this}return BD(t,e),t.prototype.schedule=function(e,t){return this},t}(nM),DM={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=DM.delegate;return null!=i&&i.setInterval?i.setInterval.apply(i,GD([e,t],KD(n))):setInterval.apply(void 0,GD([e,t],KD(n)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=DM.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},MM=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return BD(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),DM.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;DM.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,tM(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(OM),LM=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=RM.now,e}(),FM=function(e){function t(t,n){void 0===n&&(n=LM.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return BD(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(LM),UM=(new FM(MM),new xM((function(e){return e.complete()})));function jM(e){return e?function(e){return new xM((function(t){return e.schedule((function(){return t.complete()}))}))}(e):UM}var VM=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function qM(e){return XD(null==e?void 0:e.then)}function zM(e){return XD(e[_M])}function BM(e){return Symbol.asyncIterator&&XD(null==e?void 0:e[Symbol.asyncIterator])}function WM(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var HM="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function YM(e){return XD(null==e?void 0:e[HM])}function KM(e){return $D(this,arguments,(function(){var t,n,r;return HD(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,QD(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,QD(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,QD(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function GM(e){return XD(null==e?void 0:e.getReader)}function QM(e){if(e instanceof xM)return e;if(null!=e){if(zM(e))return function(e){return new xM((function(t){var n=e[_M]();if(XD(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(VM(e))return function(e){return new xM((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(qM(e))return function(e){return new xM((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,lM)}))}(e);if(BM(e))return $M(e);if(YM(e))return function(e){return new xM((function(t){var n,r;try{for(var i=YD(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(td){n={error:td}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}))}(e);if(GM(e))return function(e){return $M(KM(e))}(e)}throw WM(e)}function $M(e){return new xM((function(t){(function(e,t){var n,r,i,a;return WD(this,void 0,void 0,(function(){var o,s;return HD(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=JD(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}ZD((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function JM(e,t){return EM((function(n,r){var i=0;n.subscribe(CM(r,(function(n){r.next(e.call(t,n,i++))})))}))}function XM(e){return EM((function(t,n){var r,i=null,a=!1;i=t.subscribe(CM(n,void 0,void 0,(function(o){r=QM(e(o,XM(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):a=!0}))),a&&(i.unsubscribe(),i=null,r.subscribe(n))}))}function ZM(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var i=new gM({next:function(){i.unsubscribe(),e()}});return t.apply(void 0,GD([],KD(n))).subscribe(i)}}else e()}function eL(e,t,n){var r,i,a,o,s=!1;return e&&"object"==typeof e?(r=e.bufferSize,o=void 0===r?1/0:r,i=e.windowTime,t=void 0===i?1/0:i,s=void 0!==(a=e.refCount)&&a,n=e.scheduler):o=null!=e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new NM}:t,r=e.resetOnError,i=void 0===r||r,a=e.resetOnComplete,o=void 0===a||a,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,r,a,s=0,c=!1,l=!1,h=function(){null==r||r.unsubscribe(),r=void 0},f=function(){h(),t=a=void 0,c=l=!1},d=function(){var e=t;f(),null==e||e.unsubscribe()};return EM((function(e,p){s++,!l&&!c&&h();var v=a=null!=a?a:n();p.add((function(){0===--s&&!l&&!c&&(r=ZM(d,u))})),v.subscribe(p),!t&&s>0&&(t=new gM({next:function(e){return v.next(e)},error:function(e){l=!0,h(),r=ZM(f,i,e),v.error(e)},complete:function(){c=!0,h(),r=ZM(f,o),v.complete()}}),QM(e).subscribe(t))}))(e)}}({connector:function(){return new AM(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var tL="[DEFAULT]",nL=t.createContext(void 0),rL=t.createContext(!1),iL="4.2.2",aL=function(e,t){return e===t||[].concat(l(Object.keys(e)),l(Object.keys(t))).every((function(n){return e[n]===t[n]}))};function oL(e){var n=e.firebaseConfig,r=e.appName,i=e.suspense,a=t.useMemo((function(){if(e.firebaseApp)return e.firebaseApp;var i=Xn().find((function(e){return e.name===(r||tL)}));if(i){if(n&&aL(i.options,n))return i;throw new Error("Does not match the options already provided to the ".concat(r||"default"," firebase app instance, give this new instance a different appName."))}if(!n)throw new Error("No firebaseConfig provided");return tr("react",t.version||"unknown"),tr("reactfire",iL),$n(n,r)}),[e.firebaseApp,n,r]);return t.createElement(nL.Provider,{value:a},t.createElement(rL.Provider,Object.assign({value:null!=i&&i},e)))}function sL(e){var n=t.useContext(rL);return void 0!==e?e:n}function uL(){var e=t.useContext(nL);if(!e)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return e}var cL,lL,hL;(hL=lL||(lL={})).added="child_added",hL.removed="child_removed",hL.changed="child_changed",hL.moved="child_moved",hL.value="value";Object.freeze(((cL={})[lL.added]=function(e,t,n,r){return iA(e,"child_added",t,n,r)},cL[lL.removed]=function(e,t,n,r){return iA(e,"child_removed",t,n,r)},cL[lL.changed]=function(e,t,n,r){return iA(e,"child_changed",t,n,r)},cL[lL.moved]=function(e,t,n,r){return iA(e,"child_moved",t,n,r)},cL[lL.value]=aA,cL));var fL=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=fL);var dL={includeMetadataChanges:!1};function pL(e,t){return void 0===t&&(t=dL),new xM((function(n){return{unsubscribe:Nx(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}}))}function vL(e,t){void 0===t&&(t={});var n=e.data();return!e.exists()||"object"!=typeof n||null===n||t.idField&&(n[t.idField]=e.id),n}function yL(e,t){return void 0===t&&(t={}),function(e){return pL(e,{includeMetadataChanges:!0}).pipe(JM((function(e){return e.docs})))}(e).pipe(JM((function(e){return e.map((function(e){return vL(e,t)}))})))}var mL=function(e){g(n,e);var t=w(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._timeoutWindow=r,i._hasValue=!1,i._error=void 0,i._firstEmission=new Promise((function(e){return i._resolveFirstEmission=e})),i._innerObservable=e.pipe(function(e,t,n){var r=XD(e)||t||n?{next:e,error:t,complete:n}:e;return r?EM((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var i=!0;e.subscribe(CM(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):wM}({next:function(e){i._next(e)},error:function(e){i._error=e,i._resolveFirstEmission()}}),XM((function(){return jM()})),eL(1)),i._warmupSubscription=i._innerObservable.subscribe(),i._timeoutHandler=setTimeout(i._reset.bind(_(i)),i._timeoutWindow),i}return v(n,[{key:"hasValue",get:function(){return this._hasValue||!!this._error}},{key:"value",get:function(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}},{key:"firstEmission",get:function(){return this._firstEmission}},{key:"_next",value:function(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}},{key:"_reset",value:function(){var e=this;this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise((function(t){return e._resolveFirstEmission=t}))}},{key:"_subscribe",value:function(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}},{key:"ourError",get:function(){return this._error}}]),n}(NM),gL=3e4,kL=globalThis._reactFirePreloadedObservables||new Map;function bL(e,t){if(kL.has(t))return kL.get(t);var n=new mL(e,gL);return kL.set(t,n),n}function _L(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("cannot call useObservable without an observableId");var a=bL(n,e),o=i.hasOwnProperty("initialData")||i.hasOwnProperty("startWithValue"),s=a.hasValue||o;if(!0===sL(i.suspense)&&!s)throw a.firstEmission;var c={status:s?"success":"loading",hasEmitted:s,isComplete:!1,data:a.hasValue?a.value:null!==(r=null==i?void 0:i.initialData)&&void 0!==r?r:null==i?void 0:i.startWithValue,error:a.ourError,firstValuePromise:a.firstEmission},l=t.useReducer(function(e){return function(t,n){var r=Object.assign(Object.assign({},t),{hasEmitted:t.hasEmitted||e.hasValue,error:e.ourError,firstValuePromise:e.firstEmission});switch(e.hasValue&&(r.data=e.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error('invalid action "'.concat(n,'"'))}}}(a),c),h=u(l,2),f=h[0],d=h[1];return t.useEffect((function(){var e=a.subscribe({next:function(){d("value")},error:function(e){throw d("error"),e},complete:function(){d("complete")}});return function(){return e.unsubscribe()}}),[a]),f}globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=kL);var wL=globalThis._reactFireFirestoreQueryCache||[];function xL(e){var t=wL.findIndex((function(t){return Sw(t,e)}));return t>-1?t:wL.push(e)-1}globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=wL);var SL=t.createContext(void 0),EL=t.createContext(void 0),CL=t.createContext(void 0),TL=t.createContext(void 0),IL=t.createContext(void 0),NL=t.createContext(void 0),PL=t.createContext(void 0),RL=t.createContext(void 0),AL=t.createContext(void 0);function OL(e){return function(n){var r,i;if(!n.sdk)throw new Error("no sdk provided");var a=uL().name;if((null===(i=null===(r=null==n?void 0:n.sdk)||void 0===r?void 0:r.app)||void 0===i?void 0:i.name)!==a)throw new Error("sdk was initialized with a different firebase app");return t.createElement(e.Provider,Object.assign({value:n.sdk},n))}}OL(SL),OL(EL),OL(CL),OL(TL),OL(IL),OL(NL),OL(RL),OL(PL),OL(AL),Error;function DL(e,t){if("idField"===t||"initialData"===t||"suspense"===t)return e?e[t]:void 0;throw new Error('Field "'.concat(t,'" is not a valid key in ReactFireOptions'))}function ML(e){return DL(e,"idField")}var LL=function(){var e=XS(ww(VS,"visitors")),t=RE(),n=t.register,r=t.reset,i=t.handleSubmit,a=t.formState,o=function(e,t){var n=t?ML(t):"NO_ID_FIELD";return _L("firestore:collectionData:".concat(xL(e),":idField=").concat(n),yL(e,{idField:n}),t)}(sx(ww(VS,"users"),cx("uid","==",qS.currentUser.uid)));function s(e){return u.apply(this,arguments)}function u(){return(u=at(rt().mark((function t(n){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:tE(n).then((function(t){null!==t&&(e.mutate({name:n.name.toUpperCase(),rank:n.rank.toUpperCase(),badge:parseInt(n.badge),org:n.org.toUpperCase(),dest:n.dest.toUpperCase(),escort:n.escort.toUpperCase(),created:new Date,signedOut:"null",dodaac:o.data[0].dodaac}),r())}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,Xe.jsx)(Xe.Fragment,{children:(0,Xe.jsx)(VC,{trigger:(0,Xe.jsx)("button",{id:"manualSubmit",children:"Manual Submit"}),modal:!0,className:"visitors",children:function(e){return(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("h3",{children:"New Visitor"}),(0,Xe.jsx)("button",{style:{position:"absolute",top:"10px",right:"10px"},onClick:function(){return e()},children:"X"}),(0,Xe.jsxs)("form",{onSubmit:i(s),children:[(0,Xe.jsx)("input",Je({type:"text",name:"formName",id:"formName",required:!0,placeholder:"Full Name"},n("name",{pattern:{value:/^[^0-9]+$/i,message:"Name must not contain numbers!"}}))),a.errors.name&&(0,Xe.jsx)("label",{className:"error",htmlFor:"formName",children:a.errors.name.message}),(0,Xe.jsx)("input",Je({type:"text",name:"formRank",id:"formRank",required:!0,placeholder:"Rank"},n("rank"))),(0,Xe.jsx)("input",Je({type:"number",name:"formBadge",id:"formbadge",required:!0,placeholder:"Badge"},n("badge",{min:{value:1,message:"Value must be greater than 0!"},max:{value:999,message:"Value must be less than 999!"}}))),a.badge&&(0,Xe.jsx)("label",{className:"error",htmlFor:"formBadge",children:a.badge.message}),(0,Xe.jsx)("input",Je({type:"text",name:"formOrg",id:"formOrg",required:!0,placeholder:"Organization"},n("org"))),(0,Xe.jsx)("input",Je({type:"text",name:"formDest",id:"formDest",required:!0,placeholder:"Destination"},n("dest"))),(0,Xe.jsx)("input",Je({type:"text",name:"formEscort",id:"formEscort",required:!0,placeholder:"Escort"},n("escort",{pattern:{value:/^[A-Za-z]+$/i,message:"Escort must not contain numbers!"}}))),a.escort&&(0,Xe.jsx)("label",{className:"error",htmlFor:"formEscort",children:a.escort.message}),(0,Xe.jsx)("button",{type:"submit",children:"Submit"})]})]})}})})};function FL(){return FL=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=12;break}return n=ww(VS,"visitors"),r=sx(n,cx("badge","==",parseInt(t)),cx("signedOut","==","null")),e.next=5,Sx(r);case 5:if(0===(i=e.sent).docs.length){e.next=11;break}return e.next=9,Tx(xw(VS,"visitors",i.docs[0].id),{signedOut:new Date});case 9:e.next=12;break;case 11:alert("This badge is not signed out");case 12:case"end":return e.stop()}}),e)}))),FL.apply(this,arguments)}function UL(){return UL=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=ww(VS,"DBIDS"),(r={}).name="";""===r.name;)r.name=prompt("Enter full name of personnel");if(null===r.name){e.next=14;break}return e.next=7,Ix(n,{barcode:t,full_name:r.name.toUpperCase()});case 7:return i=e.sent,e.next=10,wx(i);case 10:return a=e.sent,e.abrupt("return",a);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)}))),UL.apply(this,arguments)}var jL=function(e){return UL.apply(this,arguments)};function VL(e){return qL.apply(this,arguments)}function qL(){return qL=at(rt().mark((function e(t){var n,r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=ww(VS,"DBIDS"),i=sx(r,cx("barcode","==",t)),e.next=5,Sx(i);case 5:if(0===(a=e.sent).docs.length){e.next=12;break}return n.FMN=a.docs[0].data().full_name,n.Rank="CIV",e.abrupt("return",n);case 12:if(!window.confirm("Barcode unable to be automatically read. Add personnel to global search list?")){e.next=26;break}return e.next=16,jL(t);case 16:if(null===(o=e.sent)){e.next=23;break}return n.FMN=o.data().full_name,n.Rank="CIV",e.abrupt("return",n);case 23:case 26:return e.abrupt("return",null);case 24:e.next=27;break;case 27:case"end":return e.stop()}}),e)}))),qL.apply(this,arguments)}function zL(){return zL=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.replace("'",""),"CAC",r={},{},e.t0=n.charAt(0),e.next="@"===e.t0?7:"N"===e.t0?9:"M"===e.t0?11:"4"===e.t0?14:"1"===e.t0?17:19;break;case 7:return-1!==n.search("ANSI")&&(r.Rank="CIV",n.split("\r\n").forEach((function(e){switch(e.substring(0,3)){case"DAC":void 0===r.FN&&(r.FN=e.substring(3,e.length));break;case"DAD":void 0===r.MI&&(r.MI=e.substring(3,e.length));break;case"DCS":void 0===r.LN&&(r.LN=e.substring(3,e.length));break;case"DCT":void 0===r.FMN&&(r.FMN=e.substring(3,e.length))}}))),e.abrupt("break",23);case 9:return 89===n.length&&(r.FN=n.substring(15,35).trim(),r.LN=n.substring(35,61).trim(),r.PCC=n.substring(65,66).trim(),r.Rank=n.substring(69,75).trim(),r.MI=n.substring(88,89).trim()),e.abrupt("break",23);case 11:return console.log("test M"),99===n.length&&(r.FN=n.substring(16,36).trim(),r.MI=n.substring(36,37).trim(),r.LN=n.substring(37,63).trim(),r.PCC=n.substring(70,71).trim(),"M"===n.substring(80,85).charAt(0)&&(r.Rank=n.substring(74,79).trim()),"M"!==n.substring(80,85).charAt(0)&&(r.Rank=n.substring(79,84).trim())),e.abrupt("break",23);case 14:return 100===n.length&&(r.FN=n.substring(17,37).trim(),r.MI=n.substring(37,38).trim(),r.LN=n.substring(38,64).trim(),r.PCC=n.substring(71,72).trim(),r.Rank=n.substring(75,81).trim()),157===n.length&&(r.FN=n.substring(17,37).trim(),r.MI=n.substring(37,38).trim(),r.LN=n.substring(38,64).trim(),r.PCC=n.substring(128,129).trim(),r.Rank=n.substring(132,138).trim()),e.abrupt("break",23);case 17:return 88===n.length&&(r.FN=n.substring(15,35).trim(),r.LN=n.substring(35,61).trim(),r.PCC=n.substring(65,66).trim(),r.Rank=n.substring(60,66).trim()),e.abrupt("break",23);case 19:return e.next=21,VL(t);case 21:return r=e.sent,e.abrupt("return",r);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e)}))),zL.apply(this,arguments)}function BL(e){return"function"===typeof e}var WL=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function HL(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var YL=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=Er(a),s=o.next();!s.done;s=o.next()){s.value.remove(this)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(BL(u))try{u()}catch(hL){i=hL instanceof WL?hL.errors:[hL]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=Er(c),h=l.next();!h.done;h=l.next()){var f=h.value;try{GL(f)}catch(p){i=null!==i&&void 0!==i?i:[],p instanceof WL?i=Tr(Tr([],Cr(i)),Cr(p.errors)):i.push(p)}}}catch(v){n={error:v}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new WL(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)GL(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&HL(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&HL(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();YL.EMPTY;function KL(e){return e instanceof YL||e&&"closed"in e&&BL(e.remove)&&BL(e.add)&&BL(e.unsubscribe)}function GL(e){BL(e)?e():e.unsubscribe()}var QL={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$L={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=$L.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,Tr([e,t],Cr(n))):setTimeout.apply(void 0,Tr([e,t],Cr(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=$L.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function JL(e){$L.setTimeout((function(){var t=QL.onUnhandledError;if(!t)throw e;t(e)}))}function XL(){}var ZL=eF("C",void 0,void 0);function eF(e,t,n){return{kind:e,value:t,error:n}}var tF=null;var nF=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,KL(t)&&t.add(n)):n.destination=cF,n}return _r(t,e),t.create=function(e,t,n){return new oF(e,t,n)},t.prototype.next=function(e){this.isStopped?uF(function(e){return eF("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?uF(function(e){return eF("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?uF(ZL,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(YL),rF=Function.prototype.bind;function iF(e,t){return rF.call(e,t)}var aF=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(iT){sF(iT)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(iT){sF(iT)}else sF(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(iT){sF(iT)}},e}(),oF=function(e){function t(t,n,r){var i,a,o=e.call(this)||this;BL(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:o&&QL.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&iF(t.next,a),error:t.error&&iF(t.error,a),complete:t.complete&&iF(t.complete,a)}):i=t;return o.destination=new aF(i),o}return _r(t,e),t}(nF);function sF(e){var t;QL.useDeprecatedSynchronousErrorHandling?(t=e,QL.useDeprecatedSynchronousErrorHandling&&tF&&(tF.errorThrown=!0,tF.error=t)):JL(e)}function uF(e,t){var n=QL.onStoppedNotification;n&&$L.setTimeout((function(){return n(e,t)}))}var cF={closed:!0,next:XL,error:function(e){throw e},complete:XL},lF="function"===typeof Symbol&&Symbol.observable||"@@observable";function hF(e){return e}function fF(e){return 0===e.length?hF:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var dF=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,a=(r=e)&&r instanceof nF||function(e){return e&&BL(e.next)&&BL(e.error)&&BL(e.complete)}(r)&&KL(r)?e:new oF(e,t,n);return function(e){if(QL.useDeprecatedSynchronousErrorHandling){var t=!tF;if(t&&(tF={errorThrown:!1,error:null}),e(),t){var n=tF,r=n.errorThrown,i=n.error;if(tF=null,r)throw i}}else e()}((function(){var e=i,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?i._subscribe(a):i._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=pF(t))((function(t,r){var i=new oF({next:function(t){try{e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[lF]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fF(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=pF(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function pF(e){var t;return null!==(t=null!==e&&void 0!==e?e:QL.Promise)&&void 0!==t?t:Promise}function vF(e){return function(t){if(function(e){return BL(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function yF(e,t,n,r,i){return new mF(e,t,n,r,i)}var mF=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return _r(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(nF);function gF(e,t){return vF((function(n,r){var i=0;n.subscribe(yF(r,(function(n){r.next(e.call(t,n,i++))})))}))}var kF={includeMetadataChanges:!1};function bF(e,t){return void 0===t&&(t=kF),new dF((function(n){return{unsubscribe:Nx(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}}))}function _F(e,t){void 0===t&&(t={});var n=e.data();return e.exists()&&"object"===typeof n&&null!==n?(t.idField&&(n[t.idField]=e.id),n):n}function wF(e,t){return void 0===t&&(t={}),function(e){return bF(e,{includeMetadataChanges:!0}).pipe(gF((function(e){return e.docs})))}(e).pipe(gF((function(e){return e.map((function(e){return _F(e,t)}))})))}var xF=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function SF(e){return BL(null===e||void 0===e?void 0:e.then)}function EF(e){return BL(e[lF])}function CF(e){return Symbol.asyncIterator&&BL(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function TF(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var IF="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function NF(e){return BL(null===e||void 0===e?void 0:e[IF])}function PF(e){return Nr(this,arguments,(function(){var t,n,r;return Sr(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Ir(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,Ir(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Ir(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function RF(e){return BL(null===e||void 0===e?void 0:e.getReader)}function AF(e){if(e instanceof dF)return e;if(null!=e){if(EF(e))return i=e,new dF((function(e){var t=i[lF]();if(BL(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(xF(e))return r=e,new dF((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(SF(e))return n=e,new dF((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,JL)}));if(CF(e))return OF(e);if(NF(e))return t=e,new dF((function(e){var n,r;try{for(var i=Er(t),a=i.next();!a.done;a=i.next()){var o=a.value;if(e.next(o),e.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(RF(e))return OF(PF(e))}var t,n,r,i;throw TF(e)}function OF(e){return new dF((function(t){(function(e,t){var n,r,i,a;return xr(this,void 0,void 0,(function(){var o,s;return Sr(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Pr(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var DF=Array.isArray,MF=Object.getPrototypeOf,LF=Object.prototype,FF=Object.keys;function UF(e){if(1===e.length){var t=e[0];if(DF(t))return{args:t,keys:null};if((r=t)&&"object"===typeof r&&MF(r)===LF){var n=FF(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}function jF(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var a=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(a),!i)return a}function VF(e,t){return void 0===t&&(t=0),vF((function(n,r){n.subscribe(yF(r,(function(n){return jF(r,e,(function(){return r.next(n)}),t)}),(function(){return jF(r,e,(function(){return r.complete()}),t)}),(function(n){return jF(r,e,(function(){return r.error(n)}),t)})))}))}function qF(e,t){return void 0===t&&(t=0),vF((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function zF(e,t){if(!e)throw new Error("Iterable cannot be null");return new dF((function(n){jF(n,t,(function(){var r=e[Symbol.asyncIterator]();jF(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function BF(e,t){if(null!=e){if(EF(e))return function(e,t){return AF(e).pipe(qF(t),VF(t))}(e,t);if(xF(e))return function(e,t){return new dF((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(SF(e))return function(e,t){return AF(e).pipe(qF(t),VF(t))}(e,t);if(CF(e))return zF(e,t);if(NF(e))return function(e,t){return new dF((function(n){var r;return jF(n,t,(function(){r=e[IF](),jF(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(a){return void n.error(a)}i?n.complete():n.next(t)}),0,!0)})),function(){return BL(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if(RF(e))return function(e,t){return zF(PF(e),t)}(e,t)}throw TF(e)}function WF(e,t){return t?BF(e,t):AF(e)}var HF=Array.isArray;function YF(e){return gF((function(t){return function(e,t){return HF(t)?e.apply(void 0,Tr([],Cr(t))):e(t)}(e,t)}))}function KF(e){return e[e.length-1]}function GF(e){return(t=KF(e))&&BL(t.schedule)?e.pop():void 0;var t}function QF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=GF(e),r=function(e){return BL(KF(e))?e.pop():void 0}(e),i=UF(e),a=i.args,o=i.keys;if(0===a.length)return WF([],n);var s=new dF(function(e,t,n){void 0===n&&(n=hF);return function(r){$F(t,(function(){for(var i=e.length,a=new Array(i),o=i,s=i,u=function(i){$F(t,(function(){var u=WF(e[i],t),c=!1;u.subscribe(yF(r,(function(e){a[i]=e,c||(c=!0,s--),s||r.next(n(a.slice()))}),(function(){--o||r.complete()})))}),r)},c=0;c<i;c++)u(c)}),r)}}(a,n,o?function(e){return function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}(o,e)}:hF));return r?s.pipe(YF(r)):s}function $F(e,t,n){e?jF(n,e,t):t()}var JF=n(426),XF=n.n(JF);var ZF=function(){var e=tt().currentUser;console.log(e.email);var n=u((0,t.useState)(),2),r=n[0],i=n[1],a=PC(),o=sx(ww(VS,"users"),cx("uid","==",qS.currentUser.uid));(0,t.useEffect)((function(){var e,t;wF(o,{idField:"id"}).pipe((e=function(e){return QF(e.map((function(e){return wF(sx(ww(VS,"visitors"),cx("signedOut","==","null"),cx("dodaac","==",e.dodaac)),{idField:"id"})})))},vF((function(n,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};n.subscribe(yF(r,(function(n){null===i||void 0===i||i.unsubscribe();var o=0,u=a++;AF(e(n,u)).subscribe(i=yF(r,(function(e){return r.next(t?t(n,e,u,o++):e)}),(function(){i=null,s()})))}),(function(){o=!0,s()})))})))).subscribe((function(e){return i(e[0])}))}),[]);var s=function(e){null!==e&&function(e){return zL.apply(this,arguments)}(e).then((function(e){null!==e&&(document.getElementById("manualSubmit").click(),console.log(e),"FMN"in e?a.setValue("name",e.FMN):a.setValue("name",e.LN+" "+e.FN+" "+e.MI.substring(0,1)),a.setValue("rank",e.Rank),a.setFocus("badge",{shouldSelect:!0}))}))};return(0,Xe.jsxs)("div",{className:"body",children:[(0,Xe.jsxs)("div",{className:"header",children:[(0,Xe.jsx)("h1",{children:"Visitor Log"}),(0,Xe.jsxs)("p",{children:["Logged in as: ",e.email,(0,Xe.jsx)("span",{onClick:function(){return function(e){return Zt(e).signOut()}(qS)},children:"Sign Out"})]})]}),(0,Xe.jsxs)("div",{className:"buttons",children:[(0,Xe.jsx)("button",{onClick:function(){var e=prompt("Scan ID");s(e)},children:"Scan ID"}),(0,Xe.jsx)(AE,Je(Je({},a),{},{children:(0,Xe.jsx)(LL,{})})),(0,Xe.jsx)("button",{onClick:function(){!function(e){FL.apply(this,arguments)}(prompt("Enter Badge Number"))},children:"Sign Visitor Out"})]}),(0,Xe.jsx)("div",{className:"table",children:(0,Xe.jsxs)("table",{children:[(0,Xe.jsx)("thead",{children:(0,Xe.jsxs)("tr",{children:[(0,Xe.jsx)("th",{children:"Name"}),(0,Xe.jsx)("th",{children:"Rank"}),(0,Xe.jsx)("th",{children:"Organization"}),(0,Xe.jsx)("th",{children:"Destination"}),(0,Xe.jsx)("th",{children:"Escort"}),(0,Xe.jsx)("th",{children:"Badge"}),(0,Xe.jsx)("th",{children:"Signed In At"})]})}),(0,Xe.jsxs)("tbody",{children:[void 0===r&&(0,Xe.jsx)("tr",{children:(0,Xe.jsx)("td",{children:"Loading..."})}),void 0!==r&&r.map((function(e){var t=XF()(new Date(1e3*e.created.seconds)).format("DD MMM YY h:mm a");return(0,Xe.jsxs)("tr",{children:[(0,Xe.jsx)("td",{children:e.name}),(0,Xe.jsx)("td",{children:e.rank}),(0,Xe.jsx)("td",{children:e.org}),(0,Xe.jsx)("td",{children:e.dest}),(0,Xe.jsx)("td",{children:e.escort}),(0,Xe.jsx)("td",{children:e.badge}),(0,Xe.jsx)("td",{children:t})]},e.id)}))]})]})})]})};var eU=function(){var e=u((0,t.useState)(""),2),n=e[0],r=e[1],i=u((0,t.useState)(""),2),a=i[0],o=i[1],s=u((0,t.useState)(""),2),c=s[0],l=s[1],h=u((0,t.useState)(""),2),f=h[0],d=h[1],p=u((0,t.useState)(""),2),v=p[0],y=p[1],m=be(),g=tt().setTimeActive,k=function(e,n,r,i){var a,o,s=!!(null===r||void 0===r?void 0:r.subscribe);if(void 0===(null===r||void 0===r?void 0:r.subscribe)&&(a=null===r||void 0===r?void 0:r.source),(null===r||void 0===r?void 0:r.subscribe)&&(o=r.includeMetadataChanges),(null===i||void 0===i?void 0:i.enabled)&&!n)throw new Error("useFirestoreQuery with key "+JSON.stringify(e)+'  expected to recieve a query or named query, but got "undefined".\n      Did you forget to set the options "enabled" to false?');var u=(0,t.useCallback)((function(e){var t=function(){};return n&&eE(n).then((function(n){t=Nx(n,{includeMetadataChanges:o},(function(t){return e(t)}))})),t}),[n,e]);return JS(e,["useFirestoreDocument",e],u,WS(WS({},i),{onlyOnce:!s,fetchFn:function(){return n?eE(n).then((function(e){return ZS(e,a)})):new Promise((function(e){return e(null)}))}}))}(["dodaacs"],sx(ww(VS,"DODAACS"))),b=XS(sx(ww(VS,"users")));return(0,Xe.jsx)("div",{className:"center",children:(0,Xe.jsxs)("div",{className:"auth",children:[(0,Xe.jsx)("h1",{children:"Register"}),v&&(0,Xe.jsx)("div",{className:"auth__error",children:v}),(0,Xe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(""),function(){var e=!0;return""!==a&&""!==c&&a!==c&&(e=!1,y("Passwords does not match")),""!==f&&"Select Dodaac.."!==f||(e=!1,y("DODAAC is required!")),e}()&&es(qS,n,a).then((function(){b.mutate({dodaac:f,uid:qS.currentUser.uid}),us(qS.currentUser).then((function(){g(!0),m("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return y(zS(e.message))})),r(""),o(""),l("")},name:"registration_form",children:[(0,Xe.jsx)("input",{type:"email",value:n,placeholder:"Enter your email",required:!0,onChange:function(e){return r(e.target.value)}}),(0,Xe.jsx)("input",{type:"password",value:a,required:!0,placeholder:"Enter your password",onChange:function(e){return o(e.target.value)}}),(0,Xe.jsx)("input",{type:"password",value:c,required:!0,placeholder:"Confirm password",onChange:function(e){return l(e.target.value)}}),(0,Xe.jsxs)("select",{onChange:function(e){return d(e.target.value)},children:[(0,Xe.jsx)("option",{children:"Select Dodaac.."},"select"),"success"===k.status&&k.data.docs.map((function(e){return(0,Xe.jsx)("option",{children:e.data().dodaac},e.data().dodaac)}))]}),(0,Xe.jsx)("button",{type:"submit",children:"Register"})]}),(0,Xe.jsxs)("span",{children:["Already have an account?",(0,Xe.jsx)(Ye,{to:"/login",children:"login"})]}),(0,Xe.jsxs)("span",{children:["DODAAC not listed?",(0,Xe.jsx)(Ye,{to:"/register-dodaac",children:" Register New Dodaac"})]})]})})};var tU=function(){var e=tt().currentUser,n=u((0,t.useState)(60),2),r=n[0],i=n[1],a=tt(),o=a.timeActive,s=a.setTimeActive,c=be();return(0,t.useEffect)((function(){var t=setInterval((function(){null===e||void 0===e||e.reload().then((function(){null!==e&&void 0!==e&&e.emailVerified&&(clearInterval(t),c("/"))})).catch((function(e){alert(e.message)}))}),1e3)}),[c,e]),(0,t.useEffect)((function(){var e=null;return o&&0!==r?e=setInterval((function(){i((function(e){return e-1}))}),1e3):0===r&&(s(!1),i(60),clearInterval(e)),function(){return clearInterval(e)}}),[o,r,s]),(0,Xe.jsx)("div",{className:"center",children:(0,Xe.jsxs)("div",{className:"verifyEmail",children:[(0,Xe.jsx)("h1",{children:"Verify your Email Address"}),(0,Xe.jsxs)("p",{children:[(0,Xe.jsx)("strong",{children:"A Verification email has been sent to:"}),(0,Xe.jsx)("br",{}),(0,Xe.jsx)("span",{children:null===e||void 0===e?void 0:e.email})]}),(0,Xe.jsx)("span",{children:"Follow the instruction in the email to verify your account"}),(0,Xe.jsxs)("button",{onClick:function(){us(qS.currentUser).then((function(){s(!0)})).catch((function(e){alert(e.message)}))},disabled:o,children:["Resend Email ",o&&r]})]})})};var nU=function(){var e=u((0,t.useState)(""),2),n=e[0],r=e[1],i=u((0,t.useState)(""),2),a=i[0],o=i[1],s=be(),c=tt().setTimeActive;return(0,Xe.jsx)("div",{className:"center",children:(0,Xe.jsxs)("div",{className:"auth",children:[(0,Xe.jsx)("h1",{children:"Reset Password"}),a&&(0,Xe.jsx)("div",{className:"auth__error",children:a}),(0,Xe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(""),Ko(qS,n).then((function(){c(!0),alert("Password reset email sent!"),s("/login")})).catch((function(e){return o(zS(e.message))})),r("")},name:"registration_form",children:[(0,Xe.jsx)("input",{type:"email",value:n,placeholder:"Enter your email",required:!0,onChange:function(e){return r(e.target.value)}}),(0,Xe.jsx)("button",{type:"submit",children:"Send Password Reset Email"})]}),(0,Xe.jsxs)("span",{children:["Already have an account?",(0,Xe.jsx)(Ye,{to:"/login",children:"login"})]})]})})};var rU=function(){var e=u((0,t.useState)(""),2),n=e[0],r=e[1],i=u((0,t.useState)(""),2),a=i[0],o=i[1],s=u((0,t.useState)(""),2),c=s[0],l=s[1],h=tt().setTimeActive,f=be();return(0,Xe.jsx)("div",{className:"center",children:(0,Xe.jsxs)("div",{className:"auth",children:[(0,Xe.jsx)("h1",{children:"Log in"}),c&&(0,Xe.jsx)("div",{className:"auth__error",children:c}),(0,Xe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),ns(qS,n,a).then((function(){qS.currentUser.emailVerified?f("/"):us(qS.currentUser).then((function(){h(!0),f("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return l(zS(e.message))}))},name:"login_form",children:[(0,Xe.jsx)("input",{type:"email",value:n,required:!0,placeholder:"Enter your email",onChange:function(e){return r(e.target.value)}}),(0,Xe.jsx)("input",{type:"password",value:a,required:!0,placeholder:"Enter your password",onChange:function(e){return o(e.target.value)}}),(0,Xe.jsx)("button",{type:"submit",children:"Login"})]}),(0,Xe.jsxs)("p",{children:["Don't have an account?",(0,Xe.jsx)(Ye,{to:"/register",children:" Register"})]}),(0,Xe.jsxs)("p",{children:["Forgot your password?",(0,Xe.jsx)(Ye,{to:"/reset-password",children:" Reset password"})]})]})})};function iU(e){var t=e.children,n=tt().currentUser;return null!==n&&void 0!==n&&n.emailVerified?t:(0,Xe.jsx)(De,{to:"/login",replace:!0})}var aU=function(){var e=u((0,t.useState)(""),2),n=e[0],r=e[1],i=be(),a=sx(ww(VS,"DODAACS")),o=function(e,n,r,i){var a=this;if((null===i||void 0===i?void 0:i.enabled)&&!n)throw new Error("useFirestoreQueryData with key "+JSON.stringify(e)+'  expected to recieve a query or named query, but got "undefined".\n      Did you forget to set the options "enabled" to false?');var o,s,u=!!(null===r||void 0===r?void 0:r.subscribe);void 0===(null===r||void 0===r?void 0:r.subscribe)&&(o=null===r||void 0===r?void 0:r.source),(null===r||void 0===r?void 0:r.subscribe)&&(s=r.includeMetadataChanges);var c=(0,t.useCallback)((function(e){var t=function(){};return n&&eE(n).then((function(n){t=Nx(n,{includeMetadataChanges:s},(function(t){var n=t.docs.map((function(e){var t,n=e.data({serverTimestamps:null===r||void 0===r?void 0:r.serverTimestamps});return(null===r||void 0===r?void 0:r.idField)?WS(WS({},n),((t={})[r.idField]=e.id,t)):n}));e(n)}))})),t}),[n,e]);return JS(e,["useFirestoreDocument",e],c,WS(WS({},i),{onlyOnce:!u,fetchFn:function(){return HS(a,void 0,void 0,(function(){return YS(this,(function(e){switch(e.label){case 0:return n?[4,eE(n)]:[2,null];case 1:return[4,ZS(e.sent(),o)];case 2:return[2,e.sent().docs.map((function(e){var t,n=e.data({serverTimestamps:null===r||void 0===r?void 0:r.serverTimestamps});return(null===r||void 0===r?void 0:r.idField)&&(n=WS(WS({},n),((t={})[r.idField]=e.id,t))),n}))]}}))}))}}))}(["dodaacs"],a),s=XS(a),c=PC(),l=c.register,h=c.reset,f=c.handleSubmit;return c.formState,(0,Xe.jsx)("div",{className:"center",children:(0,Xe.jsxs)("div",{className:"auth",children:[(0,Xe.jsx)("h1",{children:"Register New Dodaac"}),n&&(0,Xe.jsx)("div",{className:"auth__error",children:n}),(0,Xe.jsxs)("form",{onSubmit:f((function(e){r("");var t=/^[A-Z]{2}[0-9]{4}/gim.exec(e.dodaac);t.input!==t[0]&&r("DODAAC must be in the correct format. ex: FV4852"),o.data.map((function(t){t.dodaac===e.dodaac&&r("DODAAC already exists!")})),console.log(""===n),""===n&&(s.mutate({base:e.base.toUpperCase(),dodaac:e.dodaac.toUpperCase(),squadron:e.squadron.toUpperCase()}),i("/login"),h())})),name:"dodaac_registration_form",children:[(0,Xe.jsx)("input",Je({type:"text",id:"formDodaac",name:"formDodaac",placeholder:"Enter DODAAC (FV4852)",required:!0,maxLength:6},l("dodaac"))),(0,Xe.jsx)("input",Je({type:"text",required:!0,placeholder:"Enter Squadron (57 MUNS)"},l("squadron"))),(0,Xe.jsx)("input",Je({type:"text",required:!0,placeholder:"Enter Base (Nellis AFB)"},l("base"))),(0,Xe.jsx)("button",{type:"submit",children:"Register DODAAC"})]})]})})},oU=new BS.QueryClient({defaultOptions:{queries:{cacheTime:0}}});var sU=function(){var e=u((0,t.useState)(null),2),n=e[0],r=e[1],i=u((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){!function(e,t,n,r){Zt(e).onAuthStateChanged(t,n,r)}(qS,(function(e){r(e)}))}),[]),(0,Xe.jsx)(oL,{firebaseConfig:jS,children:(0,Xe.jsx)(BS.QueryClientProvider,{client:oU,children:(0,Xe.jsx)(Be,{children:(0,Xe.jsx)(et,{value:{currentUser:n,timeActive:a,setTimeActive:o},children:(0,Xe.jsxs)(Fe,{children:[(0,Xe.jsx)(Me,{exact:!0,path:"/",element:(0,Xe.jsx)(iU,{children:(0,Xe.jsx)(ZF,{})})}),(0,Xe.jsx)(Me,{path:"/login",element:null!==n&&void 0!==n&&n.emailVerified?(0,Xe.jsx)(De,{to:"/",replace:!0}):(0,Xe.jsx)(rU,{})}),(0,Xe.jsx)(Me,{path:"/register",element:null!==n&&void 0!==n&&n.emailVerified?(0,Xe.jsx)(De,{to:"/",replace:!0}):(0,Xe.jsx)(eU,{})}),(0,Xe.jsx)(Me,{path:"/register-dodaac",element:(0,Xe.jsx)(aU,{})}),(0,Xe.jsx)(Me,{path:"/reset-password",element:null!==n&&void 0!==n&&n.emailVerified?(0,Xe.jsx)(De,{to:"/",replace:!0}):(0,Xe.jsx)(nU,{})}),(0,Xe.jsx)(Me,{path:"/verify-email",element:(0,Xe.jsx)(tU,{})})]})})})})})},uU=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,Xe.jsx)(t.StrictMode,{children:(0,Xe.jsx)(sU,{})})),uU()}()}();
//# sourceMappingURL=main.6547c756.js.map