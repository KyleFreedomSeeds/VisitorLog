{"version":3,"file":"static/js/981.44aa9f6a.chunk.js","mappings":"qOA2EA,MApEA,WAEE,IAAOA,GAAeC,EAAAA,EAAAA,KAAfD,YACPE,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAAoCP,EAAAA,EAAAA,KAA7BQ,EAAUD,EAAVC,WAAYC,EAAaF,EAAbE,cACbC,GAAWC,EAAAA,EAAAA,MAyCjB,OAvCAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAWC,aAAY,WAChB,OAAXf,QAAW,IAAXA,GAAAA,EAAagB,SACZC,MAAK,WACU,OAAXjB,QAAW,IAAXA,GAAAA,EAAakB,gBACdC,cAAcL,GACdM,EAAAA,GAAAA,UACAT,EAAS,UAEb,IACCU,OAAM,SAACC,GACNC,MAAMD,EAAIE,QACZ,GACF,GAAG,IACL,GAAG,CAACb,EAAUX,KAEda,EAAAA,EAAAA,YAAU,WACR,IAAIC,EAAW,KAUf,OATGL,GAAuB,IAATH,EACfQ,EAAWC,aAAY,WACrBR,GAAQ,SAACD,GAAI,OAAKA,EAAO,CAAC,GAC5B,GAAG,KACa,IAATA,IACPI,GAAc,GACdH,EAAQ,IACRY,cAAcL,IAET,kBAAMK,cAAcL,EAAU,CACvC,GAAG,CAACL,EAAYH,EAAMI,KAYpBe,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,8BACQ,OAAX3B,QAAW,IAAXA,GAAAA,EAAakB,eACdO,EAAAA,EAAAA,KAAA,QAAAE,UAAMF,EAAAA,EAAAA,KAAA,KAAGI,KAAK,SAASC,QAAS,kBAAMV,EAAAA,GAAAA,SAAc,EAAEW,MAAO,CAACC,eAAgB,OAAQC,MAAO,WAAWN,SAAC,6BACzGC,EAAAA,EAAAA,MAAAM,EAAAA,SAAA,CAAAP,SAAA,EACAC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,4CAA+CF,EAAAA,EAAAA,KAAA,UACvDA,EAAAA,EAAAA,KAAA,QAAAE,SAAkB,OAAX3B,QAAW,IAAXA,OAAW,EAAXA,EAAamC,YAEtBV,EAAAA,EAAAA,KAAA,QAAAE,SAAM,gEACNC,EAAAA,EAAAA,MAAA,UACEE,QAtBwB,YAC9BM,EAAAA,EAAAA,IAAsBhB,EAAAA,GAAAA,aACrBH,MAAK,WACJP,GAAc,EAChB,IAAGW,OAAM,SAACC,GACRC,MAAMD,EAAIE,QACZ,GACF,EAgBQa,SAAU5B,EAAWkB,SAAA,CACtB,gBAAclB,GAAcH,YAKrC,C","sources":["VerifyEmail.js"],"sourcesContent":["import 'css/verifyEmail.css'\nimport {useAuthValue} from './AuthContext'\nimport {useState, useEffect} from 'react'\nimport {auth} from 'lib/firebase'\nimport {sendEmailVerification} from 'firebase/auth'\nimport {useNavigate} from 'react-router-dom'\n\nfunction VerifyEmail() {\n\n  const {currentUser} = useAuthValue()\n  const [time, setTime] = useState(60)\n  const {timeActive, setTimeActive} = useAuthValue()\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      currentUser?.reload()\n      .then(() => {\n        if(currentUser?.emailVerified){\n          clearInterval(interval)\n          auth.signOut()\n          navigate(\"/login\")\n        }\n      })\n      .catch((err) => {\n        alert(err.message)\n      })\n    }, 1000)\n  }, [navigate, currentUser])\n\n  useEffect(() => {\n    let interval = null\n    if(timeActive && time !== 0 ){\n      interval = setInterval(() => {\n        setTime((time) => time - 1)\n      }, 1000)\n    }else if(time === 0){\n      setTimeActive(false)\n      setTime(60)\n      clearInterval(interval)\n    }\n    return () => clearInterval(interval);\n  }, [timeActive, time, setTimeActive])\n\n  const resendEmailVerification = () => {\n    sendEmailVerification(auth.currentUser)\n    .then(() => {\n      setTimeActive(true)\n    }).catch((err) => {\n      alert(err.message)\n    })\n  }\n\n  return (\n    <div className='center'>\n      <div className='verifyEmail'>\n        <h1>Verify your Email Address</h1>\n        {currentUser?.emailVerified ? \n        <span><a href='/login' onClick={() => auth.signOut()} style={{textDecoration: \"none\", color: \"#1976d2\"}}>Email Verified! Login</a></span> :\n        <>\n        <p>\n          <strong>A Verification email has been sent to:</strong><br/>\n          <span>{currentUser?.email}</span>\n        </p>\n        <span>Follow the instruction in the email to verify your account</span>       \n        <button \n          onClick={resendEmailVerification}\n          disabled={timeActive}\n        >Resend Email {timeActive && time}</button></>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default VerifyEmail\n"],"names":["currentUser","useAuthValue","_useState","useState","_useState2","_slicedToArray","time","setTime","_useAuthValue2","timeActive","setTimeActive","navigate","useNavigate","useEffect","interval","setInterval","reload","then","emailVerified","clearInterval","auth","catch","err","alert","message","_jsx","className","children","_jsxs","href","onClick","style","textDecoration","color","_Fragment","email","sendEmailVerification","disabled"],"sourceRoot":""}