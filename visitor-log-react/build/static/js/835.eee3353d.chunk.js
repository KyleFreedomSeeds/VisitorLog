"use strict";(self.webpackChunkvisitor_log=self.webpackChunkvisitor_log||[]).push([[835],{4835:function(e,a,r){r.r(a);var s=r(1413),t=r(9439),i=r(2791),n=(r(8383),r(2998)),l=r(7689),o=r(2481),d=r(28),c=r(887),u=r(225),b=r(184);a.default=function(){var e=(0,u.j)().base,a=(0,i.useState)(""),r=(0,t.Z)(a,2),h=r[0],m=r[1],f=(0,l.s0)();console.log("#READ DATABASE");var p=(0,o.IO)((0,o.hJ)(n.db,"DODAACS")),A=(0,d.lf)(["dodaacs"],p,{subscribe:!1}),g=(0,d.b)(p),v=(0,c.cI)(),x=v.register,j=v.reset,E=v.handleSubmit;return(0,b.jsx)("div",{className:"center",children:(0,b.jsxs)("div",{className:"auth",children:[(0,b.jsx)("h2",{children:"Register New Base/Area"}),h&&(0,b.jsx)("div",{className:"auth__error",children:h}),(0,b.jsxs)("form",{onSubmit:E((function(e){if(m(""),A.data.map((function(a){return a.area===e.area&&a.base===e.base&&m("Area already exists!"),null})),""===h){if(void 0===e.base)var a=document.getElementById("baseEntry").value;else a=e.base.toUpperCase();console.log("#WROTE DATABASE"),g.mutate({base:a,area:e.area.toUpperCase()}),f("/login"),j()}})),name:"dodaac_registration_form",children:[(0,b.jsx)("input",(0,s.Z)({type:"text",id:"formDodaac",name:"formDodaac",placeholder:"Enter Area (57 MUNS MSA)",required:!0,maxLength:15},x("area"))),(0,b.jsx)("input",(0,s.Z)({type:"text",required:!0,id:"baseEntry",placeholder:"Enter Base (Nellis AFB)",value:e.base,disabled:0!==e.length},x("base"))),(0,b.jsx)("button",{type:"submit",children:"Register Base/Area"})]})]})})}},8383:function(){}}]);
//# sourceMappingURL=835.eee3353d.chunk.js.map