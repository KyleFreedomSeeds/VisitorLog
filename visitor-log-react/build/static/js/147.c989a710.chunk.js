"use strict";(self.webpackChunkvisitor_log=self.webpackChunkvisitor_log||[]).push([[147],{5147:function(e,t,s){s.r(t);var r=s(9439),a=s(2791),n=(s(8383),s(2998)),i=s(7689),l=s(6298),o=s(1971),c=s(2481),u=s(28),d=s(225),h=s(184);t.default=function(){var e=(0,d.j)().bases,t=(0,a.useState)(""),s=(0,r.Z)(t,2),m=s[0],g=s[1],p=(0,a.useState)(""),x=(0,r.Z)(p,2),j=x[0],f=x[1],v=(0,a.useState)(""),b=(0,r.Z)(v,2),y=b[0],S=b[1],w=(0,a.useState)(""),Z=(0,r.Z)(w,2),C=Z[0],A=Z[1],B=(0,a.useState)(""),D=(0,r.Z)(B,2),P=D[0],_=D[1],k=(0,a.useState)(!1),q=(0,r.Z)(k,2),E=q[0],I=q[1],N=(0,a.useState)(!1),R=(0,r.Z)(N,2),T=R[0],O=R[1],U=(0,a.useState)(!1),W=(0,r.Z)(U,2),Y=W[0],z=W[1],J=(0,a.useState)(!1),K=(0,r.Z)(J,2),L=K[0],X=K[1],$=(0,a.useState)(!1),F=(0,r.Z)($,2),G=F[0],H=F[1],M=(0,a.useState)(!1),Q=(0,r.Z)(M,2),V=Q[0],ee=Q[1],te=(0,a.useState)(!1),se=(0,r.Z)(te,2),re=se[0],ae=se[1],ne=(0,a.useState)(!1),ie=(0,r.Z)(ne,2),le=ie[0],oe=ie[1],ce=(0,i.s0)(),ue=(0,o.S)().setTimeActive,de=(0,c.IO)((0,c.hJ)(n.db,"users")),he=(0,u.b)(de),me=/[a-z]/g,ge=/[A-Z]/g,pe=/[0-9]/g,xe=/\W/g;return j.match(me)&&!L?X(!0):!j.match(me)&&L&&X(!1),j.match(ge)&&!G?H(!0):!j.match(ge)&&G&&H(!1),j.match(pe)&&!V?ee(!0):!j.match(pe)&&V&&ee(!1),j.match(xe)&&!re?ae(!0):!j.match(xe)&&re&&ae(!1),j.length>=8&&!E?I(!0):j.length<8&&E&&I(!1),".mil"!==m.substring(m.length-4,m.length)||T?".mil"!==m.substring(m.length-4,m.length)&&T&&O(!1):O(!0),""===j||""===y||j!==y||Y?""!==j&&""!==y&&j!==y&&Y&&z(!1):z(!0),E&&T&&Y&&L&&G&&V&&re&&void 0!==C&&!le?oe(!0):E&&T&&Y&&L&&G&&V&&re||!le||oe(!1),(0,h.jsx)("div",{className:"center",children:(0,h.jsxs)("div",{className:"auth",children:[(0,h.jsx)("h1",{children:"Register"}),P&&(0,h.jsx)("div",{className:"auth__error",children:P}),(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(""),(0,l.Xb)(n.I8,m,j).then((function(){console.log("#WROTE DATABASE"),he.mutate({base:C,area:"*",lastChangedBase:new Date,uid:n.I8.currentUser.uid}),(0,l.w$)(n.I8.currentUser).then((function(){ue(!0),ce("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return _((0,n.DK)(e.message))})),g(""),f(""),S("")},name:"registration_form",children:[(0,h.jsx)("input",{type:"email",value:m,placeholder:"Enter your email",required:!0,onChange:function(e){return g(e.target.value)}}),(0,h.jsx)("input",{type:"password",value:j,required:!0,placeholder:"Enter your password",onChange:function(e){return f(e.target.value)}}),(0,h.jsx)("input",{type:"password",value:y,required:!0,placeholder:"Confirm password",onChange:function(e){return S(e.target.value)}}),(0,h.jsxs)("select",{required:!0,onChange:function(e){A(e.target.value)},children:[(0,h.jsx)("option",{children:"Select Base.."}),void 0!==e&&e.map((function(e){return(0,h.jsx)("option",{children:e.base},e.base)}))]}),(0,h.jsx)("button",{disabled:!le,type:"submit",id:"registerButton",children:"Register"}),!T&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"You must use a .mil email address!"}),!E&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"Password must be at least 8 characters!"}),!G&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 uppercase letter!"}),!L&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 lowercase letter"}),!V&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 number!"}),!re&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 symbol!"}),!Y&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"Password must match!"}),void 0===C&&(0,h.jsx)("p",{style:{color:"red",margin:0},children:"You must select a Base!"}),(0,h.jsx)("span",{children:(0,h.jsx)("a",{href:"/login",style:{textDecoration:"none",color:"#1976d2"},children:"Login to existing Account "})}),(0,h.jsx)("span",{children:(0,h.jsx)("a",{href:"/register-base",style:{textDecoration:"none",color:"#1976d2"},children:"Register New Base"})})]})]})})}},8383:function(){}}]);
//# sourceMappingURL=147.c989a710.chunk.js.map