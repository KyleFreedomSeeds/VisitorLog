"use strict";(self.webpackChunkvisitor_log=self.webpackChunkvisitor_log||[]).push([[147],{5147:function(e,t,s){s.r(t);var r=s(9439),a=s(2791),n=(s(8383),s(2998)),o=s(7689),c=s(6298),i=s(1971),l=s(2481),u=s(28),d=s(184);t.default=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),s=t[0],h=t[1],m=(0,a.useState)(""),g=(0,r.Z)(m,2),p=g[0],x=g[1],f=(0,a.useState)(""),j=(0,r.Z)(f,2),v=j[0],y=j[1],S=(0,a.useState)(""),b=(0,r.Z)(S,2),w=b[0],A=b[1],Z=(0,a.useState)(""),D=(0,r.Z)(Z,2),C=D[0],E=D[1],P=(0,a.useState)(!1),I=(0,r.Z)(P,2),O=I[0],R=I[1],_=(0,a.useState)(!1),k=(0,r.Z)(_,2),q=k[0],N=k[1],T=(0,a.useState)(!1),B=(0,r.Z)(T,2),J=B[0],U=B[1],W=(0,a.useState)(!1),Y=(0,r.Z)(W,2),z=Y[0],K=Y[1],L=(0,a.useState)(!1),Q=(0,r.Z)(L,2),X=Q[0],$=Q[1],F=(0,a.useState)(!1),G=(0,r.Z)(F,2),H=G[0],M=G[1],V=(0,a.useState)(!1),ee=(0,r.Z)(V,2),te=ee[0],se=ee[1],re=(0,a.useState)(!1),ae=(0,r.Z)(re,2),ne=ae[0],oe=ae[1],ce=(0,o.s0)(),ie=(0,i.S)().setTimeActive;console.log("#READ DATABASE");var le=(0,l.IO)((0,l.hJ)(n.db,"DODAACS")),ue=(0,u.sQ)(["dodaacs"],le,{subscribe:!1}),de=(0,l.IO)((0,l.hJ)(n.db,"users")),he=(0,u.b)(de),me=/[a-z]/g,ge=/[A-Z]/g,pe=/[0-9]/g,xe=/\W/g;return p.match(me)&&!z?K(!0):!p.match(me)&&z&&K(!1),p.match(ge)&&!X?$(!0):!p.match(ge)&&X&&$(!1),p.match(pe)&&!H?M(!0):!p.match(pe)&&H&&M(!1),p.match(xe)&&!te?se(!0):!p.match(xe)&&te&&se(!1),p.length>=8&&!O?R(!0):p.length<8&&O&&R(!1),".mil"!==s.substring(s.length-4,s.length)||q?".mil"!==s.substring(s.length-4,s.length)&&q&&N(!1):N(!0),""===p||""===v||p!==v||J?""!==p&&""!==v&&p!==v&&J&&U(!1):U(!0),O&&q&&J&&z&&X&&H&&te&&""!==w&&!ne?oe(!0):O&&q&&J&&z&&X&&H&&te||!ne||oe(!1),(0,d.jsx)("div",{className:"center",children:(0,d.jsxs)("div",{className:"auth",children:[(0,d.jsx)("h1",{children:"Register"}),C&&(0,d.jsx)("div",{className:"auth__error",children:C}),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E(""),(0,c.Xb)(n.I8,s,p).then((function(){console.log("#WROTE DATABASE"),he.mutate({dodaac:w,uid:n.I8.currentUser.uid}),(0,c.w$)(n.I8.currentUser).then((function(){ie(!0),ce("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return E((0,n.DK)(e.message))})),h(""),x(""),y("")},name:"registration_form",children:[(0,d.jsx)("input",{type:"email",value:s,placeholder:"Enter your email",required:!0,onChange:function(e){return h(e.target.value)}}),(0,d.jsx)("input",{type:"password",value:p,required:!0,placeholder:"Enter your password",onChange:function(e){return x(e.target.value)}}),(0,d.jsx)("input",{type:"password",value:v,required:!0,placeholder:"Confirm password",onChange:function(e){return y(e.target.value)}}),(0,d.jsx)("select",{required:!0,onChange:function(e){return A(e.target.value)},children:"success"===ue.status&&ue.data.docs.map((function(e){return(0,d.jsx)("option",{children:e.data().dodaac},e.data().dodaac)}))}),(0,d.jsx)("button",{disabled:!ne,type:"submit",id:"registerButton",children:"Register"}),!q&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"You must use a .mil email address!"}),!O&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"Password must be at least 8 characters!"}),!X&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 uppercase letter!"}),!z&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 lowercase letter"}),!H&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 number!"}),!te&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"Password must contain at least 1 symbol!"}),!J&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"Password must match!"}),""===w&&(0,d.jsx)("p",{style:{color:"red",margin:0},children:"You must select a DODAAC!"}),(0,d.jsx)("span",{children:(0,d.jsx)("a",{href:"/login",style:{textDecoration:"none",color:"#1976d2"},children:"Login to existing Account "})}),(0,d.jsx)("span",{children:(0,d.jsx)("a",{href:"/register-dodaac",style:{textDecoration:"none",color:"#1976d2"},children:"Register New Dodaac"})})]})]})})}},8383:function(){}}]);
//# sourceMappingURL=147.0c53c6b1.chunk.js.map