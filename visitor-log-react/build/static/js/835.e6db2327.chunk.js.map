{"version":3,"file":"static/js/835.e6db2327.chunk.js","mappings":"0NA2EA,UAlEA,WAEE,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAChBI,GAAWC,EAAAA,EAAAA,MACXC,GAAMC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,YAC3BC,GAAUC,EAAAA,EAAAA,IAAsB,CAAC,WAAYL,GAC7CM,GAAiBC,EAAAA,EAAAA,GAA+BP,GACtDQ,GAAyCC,EAAAA,EAAAA,MAAjCC,EAAQF,EAARE,SAAUC,EAAKH,EAALG,MAAOC,EAAYJ,EAAZI,aAyBzB,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wBACHnB,IAASiB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SAAEnB,KACxCoB,EAAAA,EAAAA,MAAA,QAAMC,SAAUL,GA3BtB,SAAwBM,GACtBrB,EAAS,IACT,IAAMsB,EAAe,uBAAuBC,KAAKF,EAAKG,QAClDF,EAAaG,QAAUH,EAAa,IAAKtB,EAAS,oDACtDO,EAAQc,KAAKK,KAAI,SAAAF,GAIf,OAHIA,EAAOA,SAAWH,EAAKG,QACzBxB,EAAS,0BAEJ,IACT,IACA2B,QAAQC,IAAc,KAAV7B,GACE,KAAVA,IACFU,EAAeoB,OAAO,CACpBC,KAAMT,EAAKS,KAAKC,cAChBP,OAAQH,EAAKG,OAAOO,cACpBC,SAAUX,EAAKW,SAASD,gBAE1B9B,EAAS,UACTa,IAEJ,IAOoDmB,KAAK,2BAA0Bf,SAAA,EAC3EF,EAAAA,EAAAA,KAAA,SAAAkB,EAAAA,EAAAA,GAAA,CACEC,KAAK,OACLC,GAAG,aACHH,KAAK,aACLI,YAAY,wBACZC,UAAQ,EACRC,UAAW,GACP1B,EAAS,aAEfG,EAAAA,EAAAA,KAAA,SAAAkB,EAAAA,EAAAA,GAAA,CACEC,KAAK,OACLG,UAAQ,EACRD,YAAY,4BACRxB,EAAS,eAEbG,EAAAA,EAAAA,KAAA,SAAAkB,EAAAA,EAAAA,GAAA,CACAC,KAAK,OACLG,UAAQ,EACRD,YAAY,2BACRxB,EAAS,WAEfG,EAAAA,EAAAA,KAAA,UAAQmB,KAAK,SAAQjB,SAAC,2BAKhC,C","sources":["RegisterDodaac.js"],"sourcesContent":["import {useState} from 'react'\nimport 'css/forms.css'\nimport { db} from 'lib/firebase'\nimport {useNavigate} from 'react-router-dom'\nimport { collection, query } from \"firebase/firestore\"\nimport { useFirestoreCollectionMutation, useFirestoreQueryData} from '@react-query-firebase/firestore'\nimport { useForm } from 'react-hook-form'\n\n\nfunction RegisterDodaac() {\n\n  const [error, setError] = useState('')\n  const navigate = useNavigate()\n  const ref = query(collection(db, \"DODAACS\"))\n  const dodaacs = useFirestoreQueryData([\"dodaacs\"], ref)\n  const dodaacMutation = useFirestoreCollectionMutation(ref)\n  const { register, reset, handleSubmit} = useForm()\n\n\n  function registerDodaac(data) {\n    setError('')\n    const dodaacFormat = /^[A-Z]{2}[0-9]{4}/gmi.exec(data.dodaac)\n    if (dodaacFormat.input !== dodaacFormat[0]) {setError(\"DODAAC must be in the correct format. ex: FV4852\")}\n    dodaacs.data.map(dodaac => {\n      if (dodaac.dodaac === data.dodaac) {\n        setError(\"DODAAC already exists!\")\n      }\n      return null\n    })\n    console.log(error === '')\n    if (error === '') {\n      dodaacMutation.mutate({\n        base: data.base.toUpperCase(),\n        dodaac: data.dodaac.toUpperCase(),\n        squadron: data.squadron.toUpperCase()\n      })\n      navigate(\"/login\")\n      reset()\n    }\n  }\n\n  return (\n    <div className='center'>\n      <div className='auth'>\n        <h1>Register New Dodaac</h1>\n        {error && <div className='auth__error'>{error}</div>}\n        <form onSubmit={handleSubmit(registerDodaac)} name='dodaac_registration_form'>\n          <input \n            type='text'\n            id=\"formDodaac\"\n            name=\"formDodaac\"\n            placeholder=\"Enter DODAAC (FV4852)\"\n            required\n            maxLength={6}\n            {...register(\"dodaac\")}/>\n            \n          <input \n            type='text'\n            required\n            placeholder='Enter Squadron (57 MUNS)'\n            {...register(\"squadron\")}/>\n\n            <input \n            type='text'\n            required\n            placeholder='Enter Base (Nellis AFB)'\n            {...register(\"base\")}/>\n            \n          <button type='submit'>Register DODAAC</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default RegisterDodaac"],"names":["_useState","useState","_useState2","_slicedToArray","error","setError","navigate","useNavigate","ref","query","collection","db","dodaacs","useFirestoreQueryData","dodaacMutation","useFirestoreCollectionMutation","_useForm","useForm","register","reset","handleSubmit","_jsx","className","children","_jsxs","onSubmit","data","dodaacFormat","exec","dodaac","input","map","console","log","mutate","base","toUpperCase","squadron","name","_objectSpread","type","id","placeholder","required","maxLength"],"sourceRoot":""}