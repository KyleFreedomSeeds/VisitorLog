"use strict";(self.webpackChunkvisitor_log=self.webpackChunkvisitor_log||[]).push([[147],{5147:function(e,t,n){n.r(t);var r=n(9439),s=n(2791),a=(n(8383),n(2998)),o=n(7689),i=n(6298),c=n(1971),u=n(2481),l=n(28),d=n(184);t.default=function(){var e=(0,s.useState)(""),t=(0,r.Z)(e,2),n=t[0],h=t[1],g=(0,s.useState)(""),f=(0,r.Z)(g,2),p=f[0],m=f[1],v=(0,s.useState)(""),x=(0,r.Z)(v,2),j=x[0],D=x[1],A=(0,s.useState)(""),b=(0,r.Z)(A,2),S=b[0],w=b[1],y=(0,s.useState)(""),C=(0,r.Z)(y,2),E=C[0],I=C[1],O=(0,o.s0)(),R=(0,c.S)().setTimeActive;console.log("#READ DATABASE");var Z=(0,u.IO)((0,u.hJ)(a.db,"DODAACS")),_=(0,l.sQ)(["dodaacs"],Z,{subscribe:!1}),k=(0,u.IO)((0,u.hJ)(a.db,"users")),q=(0,l.b)(k);return(0,d.jsx)("div",{className:"center",children:(0,d.jsxs)("div",{className:"auth",children:[(0,d.jsx)("h1",{children:"Register"}),E&&(0,d.jsx)("div",{className:"auth__error",children:E}),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),I(""),function(){var e=!0;return""!==p&&""!==j&&p!==j&&(e=!1,I("Passwords does not match")),""!==S&&"Select Dodaac.."!==S||(e=!1,I("DODAAC is required!")),".mil"!==n.substring(n.length-4,n.length)&&(e=!1,I("You muse use a .mil email!")),e}()&&(0,i.Xb)(a.I8,n,p).then((function(){console.log("#WROTE DATABASE"),q.mutate({dodaac:S,uid:a.I8.currentUser.uid}),(0,i.w$)(a.I8.currentUser).then((function(){R(!0),O("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return I((0,a.DK)(e.message))})),h(""),m(""),D("")},name:"registration_form",children:[(0,d.jsx)("input",{type:"email",value:n,placeholder:"Enter your email",required:!0,onChange:function(e){return h(e.target.value)}}),(0,d.jsx)("input",{type:"password",value:p,required:!0,placeholder:"Enter your password",onChange:function(e){return m(e.target.value)}}),(0,d.jsx)("input",{type:"password",value:j,required:!0,placeholder:"Confirm password",onChange:function(e){return D(e.target.value)}}),(0,d.jsxs)("select",{onChange:function(e){return w(e.target.value)},children:[(0,d.jsx)("option",{children:"Select Dodaac.."},"select"),"success"===_.status&&_.data.docs.map((function(e){return(0,d.jsx)("option",{children:e.data().dodaac},e.data().dodaac)}))]}),(0,d.jsx)("button",{type:"submit",children:"Register"}),(0,d.jsx)("span",{children:(0,d.jsx)("a",{href:"/login",style:{textDecoration:"none",color:"#1976d2"},children:"Login to existing Account "})}),(0,d.jsx)("span",{children:(0,d.jsx)("a",{href:"/register-dodaac",style:{textDecoration:"none",color:"#1976d2"},children:"Register New Dodaac"})})]})]})})}},8383:function(){}}]);
//# sourceMappingURL=147.ed9360fc.chunk.js.map