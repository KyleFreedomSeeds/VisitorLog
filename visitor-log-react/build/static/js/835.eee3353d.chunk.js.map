{"version":3,"file":"static/js/835.eee3353d.chunk.js","mappings":"mOAwEA,UA9DA,WACE,IAAOA,GAAQC,EAAAA,EAAAA,KAARD,KACPE,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAChBI,GAAWC,EAAAA,EAAAA,MACjBC,QAAQC,IAAI,kBACZ,IAAMC,GAAMC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,YAC3BC,GAAUC,EAAAA,EAAAA,IAAsB,CAAC,WAAYL,EAAI,CAACM,WAAW,IAC7DC,GAAiBC,EAAAA,EAAAA,GAA+BR,GACtDS,GAAyCC,EAAAA,EAAAA,MAAjCC,EAAQF,EAARE,SAAUC,EAAKH,EAALG,MAAOC,EAAYJ,EAAZI,aAuBzB,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,2BACHtB,IAASoB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SAAEtB,KACxCuB,EAAAA,EAAAA,MAAA,QAAMC,SAAUL,GA1BtB,SAAwBM,GAStB,GARAxB,EAAS,IACTS,EAAQe,KAAKC,KAAI,SAAAC,GAIf,OAHIA,EAAOC,OAASH,EAAKG,MAAQD,EAAOjC,OAAS+B,EAAK/B,MACpDO,EAAS,wBAEJ,IACT,IAEc,KAAVD,EAAc,CAChB,QAAkB6B,IAAdJ,EAAK/B,KAAqB,IAAIoC,EAAaC,SAASC,eAAe,aAAaC,WAAiBH,EAAaL,EAAK/B,KAAKwC,cAC5H9B,QAAQC,IAAI,mBACZQ,EAAesB,OAAO,CACpBzC,KAAOoC,EACPF,KAAMH,EAAKG,KAAKM,gBAElBhC,EAAS,UACTgB,GACF,CACF,IAOoDkB,KAAK,2BAA0Bd,SAAA,EAC3EF,EAAAA,EAAAA,KAAA,SAAAiB,EAAAA,EAAAA,GAAA,CACEC,KAAK,OACLC,GAAG,aACHH,KAAK,aACLI,YAAY,2BACZC,UAAQ,EACRC,UAAW,IACPzB,EAAS,WAEbG,EAAAA,EAAAA,KAAA,SAAAiB,EAAAA,EAAAA,GAAA,CACAC,KAAK,OACLG,UAAQ,EACRF,GAAG,YACHC,YAAY,0BACZP,MAAOvC,EAAKA,KACZiD,SAA0B,IAAhBjD,EAAKkD,QACX3B,EAAS,WAEfG,EAAAA,EAAAA,KAAA,UAAQkB,KAAK,SAAQhB,SAAC,8BAKhC,C","sources":["RegisterDodaac.js"],"sourcesContent":["import {useState} from 'react'\nimport 'css/forms.css'\nimport { db} from 'lib/firebase'\nimport {useNavigate} from 'react-router-dom'\nimport { collection, query } from \"firebase/firestore\"\nimport { useFirestoreCollectionMutation, useFirestoreQueryData} from '@react-query-firebase/firestore'\nimport { useForm } from 'react-hook-form'\nimport { useVisitors } from 'VisitorContext'\n\n\nfunction RegisterDodaac() {\n  const {base} = useVisitors()\n  const [error, setError] = useState('')\n  const navigate = useNavigate()\n  console.log(\"#READ DATABASE\")\n  const ref = query(collection(db, \"DODAACS\"))\n  const dodaacs = useFirestoreQueryData([\"dodaacs\"], ref,{subscribe: false})\n  const dodaacMutation = useFirestoreCollectionMutation(ref)\n  const { register, reset, handleSubmit} = useForm()\n\n  function registerDodaac(data) {\n    setError('')\n    dodaacs.data.map(dodaac => {\n      if (dodaac.area === data.area && dodaac.base === data.base) {\n        setError(\"Area already exists!\")\n      }\n      return null\n    })\n\n    if (error === '') {\n      if (data.base === undefined) {var baseString = document.getElementById(\"baseEntry\").value} else {var baseString = data.base.toUpperCase()}\n      console.log(\"#WROTE DATABASE\")\n      dodaacMutation.mutate({\n        base:  baseString,\n        area: data.area.toUpperCase(),\n      })\n      navigate(\"/login\")\n      reset()\n    }\n  }\n  \n  return (\n    <div className='center'>\n      <div className='auth'>\n        <h2>Register New Base/Area</h2>\n        {error && <div className='auth__error'>{error}</div>}\n        <form onSubmit={handleSubmit(registerDodaac)} name='dodaac_registration_form'>\n          <input \n            type='text'\n            id=\"formDodaac\"\n            name=\"formDodaac\"\n            placeholder=\"Enter Area (57 MUNS MSA)\"\n            required\n            maxLength={15}\n            {...register(\"area\")}/>\n\n            <input \n            type='text'\n            required\n            id='baseEntry'\n            placeholder='Enter Base (Nellis AFB)'\n            value={base.base}\n            disabled={base.length !== 0}\n            {...register(\"base\")}/>\n            \n          <button type='submit'>Register Base/Area</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default RegisterDodaac"],"names":["base","useVisitors","_useState","useState","_useState2","_slicedToArray","error","setError","navigate","useNavigate","console","log","ref","query","collection","db","dodaacs","useFirestoreQueryData","subscribe","dodaacMutation","useFirestoreCollectionMutation","_useForm","useForm","register","reset","handleSubmit","_jsx","className","children","_jsxs","onSubmit","data","map","dodaac","area","undefined","baseString","document","getElementById","value","toUpperCase","mutate","name","_objectSpread","type","id","placeholder","required","maxLength","disabled","length"],"sourceRoot":""}