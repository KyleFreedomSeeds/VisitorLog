"use strict";(self.webpackChunkvisitor_log=self.webpackChunkvisitor_log||[]).push([[147],{5147:function(e,t,n){n.r(t);var r=n(9439),a=n(2791),s=(n(8383),n(2998)),i=n(7689),o=n(6298),u=n(1971),c=n(2481),d=n(28),l=n(184);t.default=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],h=t[1],f=(0,a.useState)(""),g=(0,r.Z)(f,2),p=g[0],m=g[1],x=(0,a.useState)(""),v=(0,r.Z)(x,2),j=v[0],D=v[1],b=(0,a.useState)(""),S=(0,r.Z)(b,2),w=S[0],y=S[1],C=(0,a.useState)(""),A=(0,r.Z)(C,2),I=A[0],Z=A[1],_=(0,i.s0)(),k=(0,u.S)().setTimeActive,q=(0,c.IO)((0,c.hJ)(s.db,"DODAACS")),N=(0,d.sQ)(["dodaacs"],q),O=(0,c.IO)((0,c.hJ)(s.db,"users")),R=(0,d.b)(O);return(0,l.jsx)("div",{className:"center",children:(0,l.jsxs)("div",{className:"auth",children:[(0,l.jsx)("h1",{children:"Register"}),I&&(0,l.jsx)("div",{className:"auth__error",children:I}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Z(""),function(){var e=!0;return""!==p&&""!==j&&p!==j&&(e=!1,Z("Passwords does not match")),""!==w&&"Select Dodaac.."!==w||(e=!1,Z("DODAAC is required!")),".mil"!==n.substring(n.length-4,n.length)&&(e=!1,Z("You muse use a .mil email!")),e}()&&(0,o.Xb)(s.I8,n,p).then((function(){R.mutate({dodaac:w,uid:s.I8.currentUser.uid}),(0,o.w$)(s.I8.currentUser).then((function(){k(!0),_("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return Z((0,s.DK)(e.message))})),h(""),m(""),D("")},name:"registration_form",children:[(0,l.jsx)("input",{type:"email",value:n,placeholder:"Enter your email",required:!0,onChange:function(e){return h(e.target.value)}}),(0,l.jsx)("input",{type:"password",value:p,required:!0,placeholder:"Enter your password",onChange:function(e){return m(e.target.value)}}),(0,l.jsx)("input",{type:"password",value:j,required:!0,placeholder:"Confirm password",onChange:function(e){return D(e.target.value)}}),(0,l.jsxs)("select",{onChange:function(e){return y(e.target.value)},children:[(0,l.jsx)("option",{children:"Select Dodaac.."},"select"),"success"===N.status&&N.data.docs.map((function(e){return(0,l.jsx)("option",{children:e.data().dodaac},e.data().dodaac)}))]}),(0,l.jsx)("button",{type:"submit",children:"Register"}),(0,l.jsx)("span",{children:(0,l.jsx)("a",{href:"/login",style:{textDecoration:"none",color:"#1976d2"},children:"Login to existing Account "})}),(0,l.jsx)("span",{children:(0,l.jsx)("a",{href:"/register-dodaac",style:{textDecoration:"none",color:"#1976d2"},children:"Register New Dodaac"})})]})]})})}},8383:function(){}}]);
//# sourceMappingURL=147.73efe8d0.chunk.js.map